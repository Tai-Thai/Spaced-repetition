/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ie(e,t,n)}finally{De=!1,(null!==Se||null!==Ee)&&(Ne(),_e())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Pe=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,Et,Ct,Tt=!1,_t=[],It=null,Nt=null,Dt=null,At=new Map,Lt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Dt&&Ft(Dt)&&(Dt=null),At.forEach(Vt),Lt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Dt&&zt(Dt,e),At.forEach(t),Lt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=a}}function Kt(e,t,n,r){var i=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Mt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=ke(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=j({},ln,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(j({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Tn=j({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Tn),In=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(An),Pn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Mn=c&&"TextEvent"in window&&!On,jn=c&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Cr("animationend"),_r=Cr("animationiteration"),Ir=Cr("animationstart"),Nr=Cr("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Dr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Lr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Lr(Tr,"onAnimationEnd"),Lr(_r,"onAnimationIteration"),Lr(Ir,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=je;Me=!1,je=null,Fe||(Fe=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=ke(n),o=[];e:{var s=Dr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case _r:case Ir:u=gn;break;case Nr:u=Dn;break;case"scroll":u=hn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Le(p,h))&&c.push(Hr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==l?s:wi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(qn(s))if(Xn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(g=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Le(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Le(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Le(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[di]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ti(e,t){Si++,xi[Si]=e.current,e.current=t}var _i={},Ii=Ei(_i),Ni=Ei(!1),Di=_i;function Ai(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Ni),Ci(Ii)}function Ri(e,t,n){if(Ii.current!==_i)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Di=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ii),Ti(Ii,e)):Ci(Ni),Ti(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var Wi=[],qi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){Wi[qi++]=Ki,Wi[qi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Wi[--qi],Wi[qi]=null,Ki=Wi[--qi],Wi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ll(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ll(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function xa(e){var t=ga.current;Ci(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function _a(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Da=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rl(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rl(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rl(t,e,r,n),Oa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Wa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Li(t)?Di:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Li(t)?Di:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Vl(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ia&&Ji(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vl(o,r.mode,u)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Za),Ti(Za,t)}function io(){Ci(Za),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ci(Za),Ci(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,wo=0,ko=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==wo;return wo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function _o(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,ju|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Lo(e,t){var n=vo,r=_o(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,qo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Du)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Oo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return _o().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function Wo(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return _o().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,_a(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ca,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Du)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Du.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:$o,useContext:Ca,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(_o(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],_o().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:$o,useContext:Ca,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Do,useRef:Uo,useState:function(){return Do(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Do(Io)[0],_o().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Co(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return _s(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ru,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ru,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ru,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ru,Pu),Pu|=r;return ks(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var a=Li(n)?Di:Ii.current;return a=Ai(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Co(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Li(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),Wa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ca(l):l=Ai(t,l=Li(n)?Di:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&qa(t,o,r,l),Da=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Da?("function"===typeof c&&(Ua(t,n,c,r),u=t.memoizedState),(s=Da||Ba(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Ai(t,u=Li(n)?Di:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&qa(t,o,r,u),Da=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Da?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(l=Da||Ba(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Ls,Ps,Rs,Os,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Du)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return ml(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Rl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Li(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ci(Ni),Ci(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Ps(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):ml())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ni),Ci(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Cl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Cl(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Cl(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cl(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Cl(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,mu(t,e),Xs=c):mu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cl(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Cl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Cl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var l=Xs;if($s=o,(Xs=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Su(i):null!==u?(u.return=o,Zs=u):Su(i);for(;null!==a;)Zs=a,wu(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=l}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):ku(e)}}function ku(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Cl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Cl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Cl(t,o,u)}}}catch(u){Cl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Cu=Math.ceil,Tu=w.ReactCurrentDispatcher,_u=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Nu=0,Du=null,Au=null,Lu=0,Pu=0,Ru=Ei(0),Ou=0,Mu=null,ju=0,Fu=0,Vu=0,Uu=null,zu=null,Bu=0,Wu=1/0,qu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,el=0;function tl(){return 0!==(6&Nu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Lu?Lu&-Lu:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Du||(e===Du&&(0===(2&Nu)&&(Fu|=n),4===Ou&&ul(e,Lu)),il(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Wu=Xe()+500,Vi&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Du?Lu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===Du?Lu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Nu;Nu|=2;var o=vl();for(Du===e&&Lu===t||(qu=null,Wu=Xe()+500,dl(e,t));;)try{bl();break}catch(u){pl(e,u)}ka(),Tu.current=o,Nu=i,null!==Au?t=0:(Du=null,Lu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xl(e,zu,qu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,zu,qu),t);break}xl(e,zu,qu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,zu,qu),r);break}xl(e,zu,qu);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=zu,zu=n,null!==t&&sl(t)),e}function sl(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nu))throw Error(a(327));Sl();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,dl(e,0),ul(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,zu,qu),il(e,Xe()),null}function cl(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Wu=Xe()+500,Vi&&Bi())}}function fl(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&Sl();var t=Nu;Nu|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Nu=t))&&Bi()}}function hl(){Pu=Ru.current,Ci(Ru)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ci(Ni),Ci(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:xa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Du=e,Au=e=Rl(e.current,null),Lu=Pu=t,Ou=0,Mu=null,Vu=Fu=ju=0,zu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pl(e,t){for(;;){var n=Au;try{if(ka(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,wo=0,_u.current=null,null===n||null===n.return){Ou=1,Mu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Lu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Ou&&(Ou=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kl(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vl(){var e=Tu.current;return Tu.current=os,null===e?os:e}function ml(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Du||0===(268435455&ju)&&0===(268435455&Fu)||ul(Du,Lu)}function gl(e,t){var n=Nu;Nu|=2;var r=vl();for(Du===e&&Lu===t||(qu=null,dl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(ka(),Nu=n,Tu.current=r,null!==Au)throw Error(a(261));return Du=null,Lu=0,Ou}function yl(){for(;null!==Au;)wl(Au)}function bl(){for(;null!==Au&&!Ye();)wl(Au)}function wl(e){var t=Eu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?kl(e):Au=t,_u.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Pu)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function xl(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Yu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Du&&(Au=Du=null,Lu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Dl(tt,(function(){return Sl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Nu;Nu|=4,_u.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Cl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Nu=u,bt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&Sl(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function Sl(){if(null!==Yu){var e=wt($u),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Cl(u,u.return,x)}if(u===s){Zs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Zs=k;break e}Zs=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function El(e,t,n){e=Ra(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function Cl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Ra(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Lu&n)===n&&(4===Ou||3===Ou&&(130023424&Lu)===Lu&&500>Xe()-Bu?dl(e,0):Vu|=n),il(e,t)}function _l(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(gt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_l(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_l(e,n)}function Dl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Al(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ml(n.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Ll(12,n,t,2|i)).elementType=C,e.lanes=o,e;case N:return(e=Ll(13,n,t,i)).elementType=N,e.lanes=o,e;case D:return(e=Ll(19,n,t,i)).elementType=D,e.lanes=o,e;case P:return jl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case _:s=9;break e;case I:s=11;break e;case A:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ll(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Ll(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ll(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bl(e){if(!e)return _i;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Oi(e,n,t)}return t}function Wl(e,t,n,r,i,a,o,s,u){return(e=zl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Pa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function ql(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rl(e,i,o,a),Oa(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),da();break;case 5:ao(t);break;case 1:Li(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Pa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ca(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Li(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),Wa(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=Wl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){ql(t,u,n,r)})),u}(n,t,e,i,r);return Hl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){ql(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Xe()),0===(6&Nu)&&(Wu=Xe()+500,Bi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,ki,Te,_e,cl]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},P={transition:null},R={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,P(x);else{var t=r(c);null!==t&&R(k,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&R(k,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,T=-1,_=5,I=-1;function N(){return!(t.unstable_now()-I<_)}function D(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=D,S=function(){L.postMessage(null)}}else S=function(){g(D,0)};function P(e){C=e,E||(E=!0,S())}function R(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(T),T=-1):m=!0,R(k,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".bf46caed.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ex-spaced-repetition:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Spaced-repetition/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkex_spaced_repetition=self.webpackChunkex_spaced_repetition||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){if(t){if("string"===typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function r(e,n){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=t(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}var i=n(791),a=n(250);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),s=new L(r||[]);return i(o,"_invoke",{value:I(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function k(){}var x={};f(x,u,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(P([])));E&&E!==n&&r.call(E,u)&&(x=E);var C=k.prototype=b.prototype=Object.create(x);function T(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,s,u){var l=d(e[i],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function I(t,n,r){var i=p;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=N(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?g:v,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function N(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=k,i(C,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(_.prototype),f(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(C),f(C,c,"Generator"),f(C,u,(function(){return this})),f(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function f(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}String.prototype.onHighlightText=function(e,t){if(e){var n=new RegExp(e.trim().toLowerCase(),"gi");return this.replace(n,"<span class='highlight'>".concat(t?t(e):"$&","</span>"))}return this},String.prototype.removeSpecialCharacters=function(){return this.replace(/[,./;'[\]\=-`\\\/<>?:"{}|+_\(\)*&^%$#@!~]/g,"")};var v="localhost",m=window.location.hostname,g=!m.includes(v),y=!m.includes(v);function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e,t,n){return k=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},k.apply(null,arguments)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(){return S="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},S.apply(this,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return k(e,arguments,x(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},E(e)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}(this,n)}}function I(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function A(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var L=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new R;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},R=function(e){C(n,e);var t=_(n);function n(){var e;return N(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return A(n)}(E(Error)),O=function(e){return function(e){var t=L(e);return P.encodeByteArray(t,!0)}(e).replace(/\./g,"")},M=function(e){try{return P.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var j=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},F=function(){try{return j()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Spaced-repetition",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&M(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},V=function(e){var t=function(e){var t,n;return null===(n=null===(t=F())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},U=function(){var e;return null===(e=F())||void 0===e?void 0:e.config},z=function(){function e(){var t=this;N(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return A(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function B(){try{return"object"===typeof indexedDB}catch(e){return!1}}var W=function(e){C(n,e);var t=_(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(T(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(T(a),q.prototype.create),a}return A(n)}(E(Error)),q=function(){function e(t,n,r){N(this,e),this.service=t,this.serviceName=n,this.errors=r}return A(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(H,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new W(n,a,t)}}]),e}();var H=/\{\$([^}]+)}/g;function K(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(G(s)&&G(u)){if(!K(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function G(e){return null!==e&&"object"===typeof e}function Q(e){return e&&e._delegate?e._delegate:e}var Y=function(){function e(t,n,r){N(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return A(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),$="[DEFAULT]",X=function(){function e(t,n){N(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return A(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new z;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$})}catch(l){}var t,n=r(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var i=p(t.value,2),a=i[0],o=i[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(I(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),I(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:i,options:n}),s=r(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=p(a.value,2),l=u[0],c=u[1];i===this.normalizeInstanceIdentifier(l)&&c.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;try{o(e,t)}catch(s){}}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===$?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return this.component?this.component.multipleInstances?e:$:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var J,Z,ee=function(){function e(t){N(this,e),this.name=t,this.providers=new Map}return A(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new X(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),te=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Z||(Z={}));var ne={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},re=Z.INFO,ie=(f(J={},Z.DEBUG,"log"),f(J,Z.VERBOSE,"log"),f(J,Z.INFO,"info"),f(J,Z.WARN,"warn"),f(J,Z.ERROR,"error"),J),ae=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ie[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},oe=function(){function e(t){N(this,e),this.name=t,this._logLevel=re,this._logHandler=ae,this._userLogHandler=null,te.push(this)}return A(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Z))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ne[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.DEBUG].concat(t)),this._logHandler.apply(this,[this,Z.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Z.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.INFO].concat(t)),this._logHandler.apply(this,[this,Z.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.WARN].concat(t)),this._logHandler.apply(this,[this,Z.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.ERROR].concat(t)),this._logHandler.apply(this,[this,Z.ERROR].concat(t))}}]),e}();var se,ue,le=function(e,t){return t.some((function(t){return e instanceof t}))};var ce=new WeakMap,fe=new WeakMap,he=new WeakMap,de=new WeakMap,pe=new WeakMap;var ve={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||he.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ye(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function me(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(be(this),n),ye(ce.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(e.apply(be(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[be(this),t].concat(r));return he.set(a,t.sort?t.sort():[t]),ye(a)}}function ge(e){return"function"===typeof e?me(e):(e instanceof IDBTransaction&&function(e){if(!fe.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));fe.set(e,t)}}(e),le(e,se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ve):e)}function ye(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ye(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ce.set(t,e)})).catch((function(){})),pe.set(t,e),t}(e);if(de.has(e))return de.get(e);var t=ge(e);return t!==e&&(de.set(e,t),pe.set(t,e)),t}var be=function(e){return pe.get(e)};var we,ke,xe=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Ee=new Map;function Ce(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ee.get(t))return Ee.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Se.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||xe.includes(n))){var a=function(){var e=l(s().mark((function e(t){var a,o,u,l,c,f,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ee.set(t,a),a}}}ve=function(e){return d(d({},e),{},{get:function(t,n,r){return Ce(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ce(t,n)||e.has(t,n)}})}(ve);var Te=function(){function e(t){N(this,e),this.container=t}return A(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _e="@firebase/app",Ie="0.9.13",Ne=new oe("@firebase/app"),De="[DEFAULT]",Ae=(f(we={},_e,"fire-core"),f(we,"@firebase/app-compat","fire-core-compat"),f(we,"@firebase/analytics","fire-analytics"),f(we,"@firebase/analytics-compat","fire-analytics-compat"),f(we,"@firebase/app-check","fire-app-check"),f(we,"@firebase/app-check-compat","fire-app-check-compat"),f(we,"@firebase/auth","fire-auth"),f(we,"@firebase/auth-compat","fire-auth-compat"),f(we,"@firebase/database","fire-rtdb"),f(we,"@firebase/database-compat","fire-rtdb-compat"),f(we,"@firebase/functions","fire-fn"),f(we,"@firebase/functions-compat","fire-fn-compat"),f(we,"@firebase/installations","fire-iid"),f(we,"@firebase/installations-compat","fire-iid-compat"),f(we,"@firebase/messaging","fire-fcm"),f(we,"@firebase/messaging-compat","fire-fcm-compat"),f(we,"@firebase/performance","fire-perf"),f(we,"@firebase/performance-compat","fire-perf-compat"),f(we,"@firebase/remote-config","fire-rc"),f(we,"@firebase/remote-config-compat","fire-rc-compat"),f(we,"@firebase/storage","fire-gcs"),f(we,"@firebase/storage-compat","fire-gcs-compat"),f(we,"@firebase/firestore","fire-fst"),f(we,"@firebase/firestore-compat","fire-fst-compat"),f(we,"fire-js","fire-js"),f(we,"firebase","fire-js-all"),we),Le=new Map,Pe=new Map;function Re(e,t){try{e.container.addComponent(t)}catch(n){Ne.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Oe(e){var t=e.name;if(Pe.has(t))return Ne.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pe.set(t,e);var n,i=r(Le.values());try{for(i.s();!(n=i.n()).done;){Re(n.value,e)}}catch(a){i.e(a)}finally{i.f()}return!0}function Me(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var je=(f(ke={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),f(ke,"bad-app-name","Illegal App name: '{$appName}"),f(ke,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),f(ke,"app-deleted","Firebase App named '{$appName}' already deleted"),f(ke,"no-options","Need to provide options, when not being deployed to hosting via source."),f(ke,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),f(ke,"invalid-log-argument","First argument to `onLog` must be null or a function."),f(ke,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),f(ke,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),f(ke,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),f(ke,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ke),Fe=new q("app","Firebase",je),Ve=function(){function e(t,n,r){var i=this;N(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Y("app",(function(){return i}),"PUBLIC"))}return A(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}}]),e}();function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var i=Object.assign({name:De,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Fe.create("bad-app-name",{appName:String(a)});if(n||(n=U()),!n)throw Fe.create("no-options");var o=Le.get(a);if(o){if(K(n,o.options)&&K(i,o.config))return o;throw Fe.create("duplicate-app",{appName:a})}var s,u=new ee(a),l=r(Pe.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new Ve(n,i,u);return Le.set(a,f),f}function ze(e,t,n){var r,i=null!==(r=Ae[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ne.warn(s.join(" "))}Oe(new Y("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Be="firebase-heartbeat-database",We=1,qe="firebase-heartbeat-store",He=null;function Ke(){return He||(He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ye(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ye(s.result),e.oldVersion,e.newVersion,ye(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Be,We,{upgrade:function(e,t){if(0===t)e.createObjectStore(qe)}}).catch((function(e){throw Fe.create("idb-open",{originalErrorMessage:e.message})}))),He}function Ge(e){return Qe.apply(this,arguments)}function Qe(){return Qe=l(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:return n=e.sent,e.next=6,n.transaction(qe).objectStore(qe).get(Xe(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof W?Ne.warn(e.t0.message):(i=Fe.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ne.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Qe.apply(this,arguments)}function Ye(e,t){return $e.apply(this,arguments)}function $e(){return $e=l(s().mark((function e(t,n){var r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:return r=e.sent,i=r.transaction(qe,"readwrite"),a=i.objectStore(qe),e.next=8,a.put(n,Xe(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof W?Ne.warn(e.t0.message):(o=Fe.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ne.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),$e.apply(this,arguments)}function Xe(e){return"".concat(e.name,"!").concat(e.options.appId)}var Je=function(){function e(t){var n=this;N(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return A(e,[{key:"triggerHeartbeat",value:function(){var e=l(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ze(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=l(s().mark((function e(){var t,n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ze(),n=et(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=O(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ze(){return(new Date).toISOString().substring(0,10)}function et(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,i=[],a=e.slice(),o=r(e);try{var s=function(){var e=t.value,r=i.find((function(t){return t.agent===e.agent}));if(r){if(r.dates.push(e.date),rt(i)>n)return r.dates.pop(),0}else if(i.push({agent:e.agent,dates:[e.date]}),rt(i)>n)return i.pop(),0;a=a.slice(1)};for(o.s();!(t=o.n()).done&&0!==s(););}catch(u){o.e(u)}finally{o.f()}return{heartbeatsToSend:i,unsentEntries:a}}var tt,nt=function(){function e(t){N(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return A(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ge(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ye(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ye(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(I(r.heartbeats),I(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function rt(e){return O(JSON.stringify({version:2,heartbeats:e})).length}tt="",Oe(new Y("platform-logger",(function(e){return new Te(e)}),"PRIVATE")),Oe(new Y("heartbeat",(function(e){return new Je(e)}),"PRIVATE")),ze(_e,Ie,tt),ze(_e,Ie,"esm2017"),ze("fire-js","");var it,at="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ot={},st=st||{},ut=at||self;function lt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ct(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ft="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function dt(e,t,n){return e.call.apply(e.bind,arguments)}function pt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vt(e,t,n){return(vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:pt).apply(null,arguments)}function mt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function yt(){this.s=this.s,this.o=this.o}yt.prototype.s=!1,yt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ft)&&e[ft]||(e[ft]=++ht))},yt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function kt(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(lt(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function xt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ut.addEventListener("test",(function(){}),t),ut.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Et(e){return/^[\s\xa0]*$/.test(e)}function Ct(){var e=ut.navigator;return e&&(e=e.userAgent)?e:""}function Tt(e){return-1!=Ct().indexOf(e)}function _t(e){return _t[" "](e),e}_t[" "]=function(){};var It,Nt,Dt=Tt("Opera"),At=Tt("Trident")||Tt("MSIE"),Lt=Tt("Edge"),Pt=Lt||At,Rt=Tt("Gecko")&&!(-1!=Ct().toLowerCase().indexOf("webkit")&&!Tt("Edge"))&&!(Tt("Trident")||Tt("MSIE"))&&!Tt("Edge"),Ot=-1!=Ct().toLowerCase().indexOf("webkit")&&!Tt("Edge");function Mt(){var e=ut.document;return e?e.documentMode:void 0}e:{var jt="",Ft=function(){var e=Ct();return Rt?/rv:([^\);]+)(\)|;)/.exec(e):Lt?/Edge\/([\d\.]+)/.exec(e):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ot?/WebKit\/(\S+)/.exec(e):Dt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ft&&(jt=Ft?Ft[1]:""),At){var Vt=Mt();if(null!=Vt&&Vt>parseFloat(jt)){It=String(Vt);break e}}It=jt}if(ut.document&&At){var Ut=Mt();Nt=Ut||(parseInt(It,10)||void 0)}else Nt=void 0;var zt=Nt;function Bt(e,t){if(xt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rt){e:{try{_t(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bt.$.h.call(this)}}gt(Bt,xt);var Wt={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function Kt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ht,this.fa=this.ia=!1}function Gt(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Yt(e){var t={};for(var n in e)t[n]=e[n];return t}var $t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$t.length;a++)n=$t[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jt(e){this.src=e,this.g={},this.h=0}function Zt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=bt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Gt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function en(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Jt.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=en(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Kt(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var tn="closure_lm_"+(1e6*Math.random()|0),nn={};function rn(e,t,n,r,i){if(r&&r.once)return on(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)rn(e,t[a],n,r,i);return null}return n=dn(n),e&&e[qt]?e.O(t,n,ct(r)?!!r.capture:!!r,i):an(e,t,n,!1,r,i)}function an(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ct(i)?!!i.capture:!!i,s=fn(e);if(s||(e[tn]=s=new Jt(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=cn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)St||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ln(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function on(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)on(e,t[a],n,r,i);return null}return n=dn(n),e&&e[qt]?e.P(t,n,ct(r)?!!r.capture:!!r,i):an(e,t,n,!0,r,i)}function sn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)sn(e,t[a],n,r,i);else r=ct(r)?!!r.capture:!!r,n=dn(n),e&&e[qt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=en(a=e.g[t],n,r,i))&&(Gt(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=en(t,n,r,i)),(n=-1<e?t[e]:null)&&un(n))}function un(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[qt])Zt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ln(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fn(t))?(Zt(n,e),0==n.h&&(n.src=null,t[tn]=null)):Gt(e)}}}function ln(e){return e in nn?nn[e]:nn[e]="on"+e}function cn(e,t){if(e.fa)e=!0;else{t=new Bt(t,this);var n=e.listener,r=e.la||e.src;e.ia&&un(e),e=n.call(r,t)}return e}function fn(e){return(e=e[tn])instanceof Jt?e:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(e){return"function"===typeof e?e:(e[hn]||(e[hn]=function(t){return e.handleEvent(t)}),e[hn])}function pn(){yt.call(this),this.i=new Jt(this),this.S=this,this.J=null}function vn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new xt(t,e);else if(t instanceof xt)t.target=t.target||e;else{var i=t;Xt(t=new xt(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=mn(o,r,!0,t)&&i}if(i=mn(o=t.g=e,r,!0,t)&&i,i=mn(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=mn(o=t.g=n[a],r,!1,t)&&i}function mn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Zt(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}gt(pn,yt),pn.prototype[qt]=!0,pn.prototype.removeEventListener=function(e,t,n,r){sn(this,e,t,n,r)},pn.prototype.N=function(){if(pn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gt(n[r]);delete t.g[e],t.h--}}this.J=null},pn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gn=ut.JSON.stringify,yn=function(){function e(t,n){N(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return A(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function bn(){var e=_n,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wn=function(){function e(){N(this,e),this.h=this.g=null}return A(e,[{key:"add",value:function(e,t){var n=kn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),kn=new yn((function(){return new xn}),(function(e){return e.reset()})),xn=function(){function e(){N(this,e),this.next=this.g=this.h=null}return A(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Sn(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function En(e){ut.setTimeout((function(){throw e}),0)}var Cn,Tn=!1,_n=new wn,In=function(){var e=ut.Promise.resolve(void 0);Cn=function(){e.then(Nn)}},Nn=function(){for(var e;e=bn();){try{e.h.call(e.g)}catch(n){En(n)}var t=kn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Tn=!1};function Dn(e,t){pn.call(this),this.h=e||1,this.g=t||ut,this.j=vt(this.qb,this),this.l=Date.now()}function An(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ln(e,t,n){if("function"===typeof e)n&&(e=vt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vt(e.handleEvent,e)}return 2147483647<Number(t)?-1:ut.setTimeout(e,t||0)}function Pn(e){e.g=Ln((function(){e.g=null,e.i&&(e.i=!1,Pn(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}gt(Dn,pn),(it=Dn.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vn(this,"tick"),this.ga&&(An(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){Dn.$.N.call(this),An(this),delete this.g};var Rn=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return A(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pn(this)}},{key:"N",value:function(){S(x(n.prototype),"N",this).call(this),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(yt);function On(e){yt.call(this),this.h=e,this.g={}}gt(On,yt);var Mn=[];function jn(e,t,n,r){Array.isArray(n)||(n&&(Mn[0]=n.toString()),n=Mn);for(var i=0;i<n.length;i++){var a=rn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Fn(e){Qt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&un(e)}),e),e.g={}}function Vn(){this.g=!0}function Un(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return gn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}On.prototype.N=function(){On.$.N.call(this),Fn(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vn.prototype.Ea=function(){this.g=!1},Vn.prototype.info=function(){};var zn={},Bn=null;function Wn(){return Bn=Bn||new pn}function qn(e){xt.call(this,zn.Ta,e)}function Hn(e){var t=Wn();vn(t,new qn(t))}function Kn(e,t){xt.call(this,zn.STAT_EVENT,e),this.stat=t}function Gn(e){var t=Wn();vn(t,new Kn(t,e))}function Qn(e,t){xt.call(this,zn.Ua,e),this.size=t}function Yn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ut.setTimeout((function(){e()}),t)}zn.Ta="serverreachability",gt(qn,xt),zn.STAT_EVENT="statevent",gt(Kn,xt),zn.Ua="timingevent",gt(Qn,xt);var $n={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Jn(){}function Zn(e){return e.h||(e.h=e.i())}function er(){}Jn.prototype.h=null;var tr,nr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rr(){xt.call(this,"d")}function ir(){xt.call(this,"c")}function ar(){}function or(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new On(this),this.P=ur,e=Pt?125:void 0,this.V=new Dn(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}gt(rr,xt),gt(ir,xt),gt(ar,Jn),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},tr=new ar;var ur=45e3,lr={},cr={};function fr(e,t,n){e.L=1,e.v=Dr(Cr(t)),e.s=n,e.S=!0,hr(e,null)}function hr(e,t){e.G=Date.now(),mr(e),e.A=Cr(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Wr(n.i,"t",r),e.C=0,n=e.l.J,e.h=new sr,e.g=qi(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Rn(vt(e.Pa,e,e.g),e.O)),jn(e.U,e.g,"readystatechange",e.nb),t=e.I?Yt(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Hn(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function dr(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function pr(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=vr(e,n))==cr){4==t&&(e.o=4,Gn(14),i=!1),Un(e.j,e.m,null,"[Incomplete Response]");break}if(r==lr){e.o=4,Gn(15),Un(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Un(e.j,e.m,r,null),kr(e,r)}dr(e)&&r!=cr&&r!=lr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Gn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mi(t),t.M=!0,Gn(11))):(Un(e.j,e.m,n,"[Invalid Chunked Response]"),wr(e),br(e))}function vr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?cr:(n=Number(t.substring(n,r)),isNaN(n)?lr:(r+=1)+n>t.length?cr:(t=t.slice(r,r+n),e.C=r+n,t))}function mr(e){e.Y=Date.now()+e.P,gr(e,e.P)}function gr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Yn(vt(e.lb,e),t)}function yr(e){e.B&&(ut.clearTimeout(e.B),e.B=null)}function br(e){0==e.l.H||e.J||Vi(e.l,e)}function wr(e){yr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,An(e.V),Fn(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function kr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$r(n.i,e)))if(!e.K&&$r(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Fi(n),Ii(n)}Oi(n),Gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yn(vt(n.ib,n),6e3));if(1>=Yr(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else zi(n,11)}else if((e.K||n.g==e)&&Fi(n),!Et(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Xr(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Nr(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Wi(r,r.J?r.pa:null,r.Y),d.K){Jr(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(yr(p),mr(p)),r.g=d}else Ri(r);0<n.j.length&&Di(n)}else"stop"!=a[0]&&"close"!=a[0]||zi(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zi(n,7):_i(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Hn()}catch(a){}}function xr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(lt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(lt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(lt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(it=or.prototype).setTimeout=function(e){this.P=e},it.nb=function(e){e=e.target;var t=this.M;t&&3==ki(e)?t.l():this.Pa(e)},it.Pa=function(e){try{if(e==this.g)e:{var t=ki(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Pt||this.g&&(this.h.h||this.g.ja()||xi(this.g)))){this.J||4!=t||7==n||Hn(),yr(this);var r=this.g.da();this.ca=r;t:if(dr(this)){var i=xi(this.g);e="";var a=i.length,o=4==ki(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wr(this),br(this);var s="";break t}this.h.i=new ut.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Gn(12),wr(this),br(this);break e}Un(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,r)}this.S?(pr(this,t,s),Pt&&this.i&&3==t&&(jn(this.U,this.V,"tick",this.mb),this.V.start())):(Un(this.j,this.m,s,null),kr(this,s)),4==t&&wr(this),this.i&&!this.J&&(4==t?Vi(this.l,this):(this.i=!1,mr(this)))}else(function(e){var t={};e=(e.g&&2<=ki(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Et(e[n])){var r=Sn(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),wr(this),br(this)}}}catch(t){}},it.mb=function(){if(this.g){var e=ki(this.g),t=this.g.ja();this.C<t.length&&(yr(this),pr(this,e,t),this.i&&4!=e&&mr(this))}},it.cancel=function(){this.J=!0,wr(this)},it.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Hn(),Gn(17)),wr(this),this.o=2,br(this)):gr(this,this.Y-e)};var Sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Er){this.h=e.h,Tr(this,e.j),this.s=e.s,this.g=e.g,_r(this,e.m),this.l=e.l;var t=e.i,n=new Vr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ir(this,n),this.o=e.o}else e&&(t=String(e).match(Sr))?(this.h=!1,Tr(this,t[1]||"",!0),this.s=Ar(t[2]||""),this.g=Ar(t[3]||"",!0),_r(this,t[4]),this.l=Ar(t[5]||"",!0),Ir(this,t[6]||"",!0),this.o=Ar(t[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}function Cr(e){return new Er(e)}function Tr(e,t,n){e.j=n?Ar(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _r(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ir(e,t,n){t instanceof Vr?(e.i=t,function(e,t){t&&!e.j&&(Ur(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zr(this,t),Wr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Lr(t,jr)),e.i=new Vr(t,e.h))}function Nr(e,t,n){e.i.set(t,n)}function Dr(e){return Nr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ar(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Er.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lr(t,Rr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lr(t,Rr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lr(n,"/"==n.charAt(0)?Mr:Or,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lr(n,Fr)),e.join("")};var Rr=/[#\/\?@]/g,Or=/[#\?:]/g,Mr=/[#\?]/g,jr=/[#\?@]/g,Fr=/#/g;function Vr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ur(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zr(e,t){Ur(e),t=qr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Br(e,t){return Ur(e),t=qr(e,t),e.g.has(t)}function Wr(e,t,n){zr(e,t),0<n.length&&(e.i=null,e.g.set(qr(e,t),wt(n)),e.h+=n.length)}function qr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(it=Vr.prototype).add=function(e,t){Ur(this),this.i=null,e=qr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},it.forEach=function(e,t){Ur(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},it.ta=function(){Ur(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},it.Z=function(e){Ur(this);var t=[];if("string"===typeof e)Br(this,e)&&(t=t.concat(this.g.get(qr(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},it.set=function(e,t){return Ur(this),this.i=null,Br(this,e=qr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},it.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Hr=A((function e(t,n){N(this,e),this.g=t,this.map=n}));function Kr(e){this.l=e||Gr,ut.PerformanceNavigationTiming?e=0<(e=ut.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ut.g&&ut.g.Ka&&ut.g.Ka()&&ut.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gr=10;function Qr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yr(e){return e.h?1:e.g?e.g.size:0}function $r(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xr(e,t){e.g?e.g.add(t):e.h=t}function Jr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zr(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,i=r(e.g.values());try{for(i.s();!(t=i.n()).done;){var a=t.value;n=n.concat(a.F)}}catch(o){i.e(o)}finally{i.f()}return n}return wt(e.i)}Kr.prototype.cancel=function(){if(this.i=Zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=r(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ei,ti=function(){function e(){N(this,e)}return A(e,[{key:"stringify",value:function(e){return ut.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return ut.JSON.parse(e,void 0)}}]),e}();function ni(){this.g=new ti}function ri(e,t,n){var r=n||"";try{xr(e,(function(e,n){var i=e;ct(e)&&(i=gn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ii(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ai(e){this.l=e.fc||null,this.j=e.ob||!1}function oi(e,t){pn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=si,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(ai,Jn),ai.prototype.g=function(){return new oi(this.l,this.j)},ai.prototype.i=(ei={},function(){return ei}),gt(oi,pn);var si=0;function ui(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function li(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ci(e)}function ci(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(it=oi.prototype).open=function(e,t){if(this.readyState!=si)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ci(this)},it.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ut).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,li(this)),this.readyState=si},it.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ut.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ui(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?li(this):ci(this),3==this.readyState&&ui(this)}},it.Za=function(e){this.g&&(this.response=this.responseText=e,li(this))},it.Ya=function(e){this.g&&(this.response=e,li(this))},it.ka=function(){this.g&&li(this)},it.setRequestHeader=function(e,t){this.v.append(e,t)},it.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fi=ut.JSON.parse;function hi(e){pn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=di,this.L=this.M=!1}gt(hi,pn);var di="",pi=/^https?$/i,vi=["POST","PUT"];function mi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gi(e),bi(e)}function gi(e){e.F||(e.F=!0,vn(e,"complete"),vn(e,"error"))}function yi(e){if(e.h&&"undefined"!=typeof st&&(!e.C[1]||4!=ki(e)||2!=e.da()))if(e.v&&4==ki(e))Ln(e.La,0,e);else if(vn(e,"readystatechange"),4==ki(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Sr)[1]||null;!a&&ut.self&&ut.self.location&&(a=ut.self.location.protocol.slice(0,-1)),i=!pi.test(a?a.toLowerCase():"")}t=i}if(t)vn(e,"complete"),vn(e,"success");else{e.m=6;try{var o=2<ki(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",gi(e)}}finally{bi(e)}}}function bi(e,t){if(e.g){wi(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||vn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function wi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ut.clearTimeout(e.A),e.A=null)}function ki(e){return e.g?e.g.readyState:0}function xi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case di:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_a){return null}}function Si(e){var t="";return Qt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ei(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Si(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Nr(e,t,n))}function Ci(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ti(e){this.Ga=0,this.j=[],this.l=new Vn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ci("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ci("baseRetryDelayMs",5e3,e),this.hb=Ci("retryDelaySeedMs",1e4,e),this.eb=Ci("forwardChannelMaxRetries",2,e),this.xa=Ci("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Kr(e&&e.concurrentRequestLimit),this.Ja=new ni,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _i(e){if(Ni(e),3==e.H){var t=e.W++,n=Cr(e.I);if(Nr(n,"SID",e.K),Nr(n,"RID",t),Nr(n,"TYPE","terminate"),Li(e,n),(t=new or(e,e.l,t)).L=2,t.v=Dr(Cr(n)),n=!1,ut.navigator&&ut.navigator.sendBeacon)try{n=ut.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ut.Image&&((new Image).src=t.v,n=!0),n||(t.g=qi(t.l,null),t.g.ha(t.v)),t.G=Date.now(),mr(t)}Bi(e)}function Ii(e){e.g&&(Mi(e),e.g.cancel(),e.g=null)}function Ni(e){Ii(e),e.u&&(ut.clearTimeout(e.u),e.u=null),Fi(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ut.clearTimeout(e.m),e.m=null)}function Di(e){if(!Qr(e.i)&&!e.m){e.m=!0;var t=e.Na;Cn||In(),Tn||(Cn(),Tn=!0),_n.add(t,e),e.C=0}}function Ai(e,t){var n;n=t?t.m:e.W++;var r=Cr(e.I);Nr(r,"SID",e.K),Nr(r,"RID",n),Nr(r,"AID",e.V),Li(e,r),e.o&&e.s&&Ei(r,e.o,e.s),n=new or(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Pi(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Xr(e.i,n),fr(n,r,t)}function Li(e,t){e.na&&Qt(e.na,(function(e,n){Nr(t,n,e)})),e.h&&xr({},(function(e,n){Nr(t,n,e)}))}function Pi(e,t,n){n=Math.min(e.j.length,n);var r=e.h?vt(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].g,c=i[u].map;if(0>(l-=a))a=Math.max(0,i[u].g-100),s=!1;else try{ri(c,o,"req"+l+"_")}catch(Fa){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Ri(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Cn||In(),Tn||(Cn(),Tn=!0),_n.add(t,e),e.A=0}}function Oi(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Yn(vt(e.Ma,e),Ui(e,e.A)),e.A++,!0)}function Mi(e){null!=e.B&&(ut.clearTimeout(e.B),e.B=null)}function ji(e){e.g=new or(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cr(e.wa);Nr(t,"RID","rpc"),Nr(t,"SID",e.K),Nr(t,"AID",e.V),Nr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Nr(t,"TO",e.qa),Nr(t,"TYPE","xmlhttp"),Li(e,t),e.o&&e.s&&Ei(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Dr(Cr(t)),n.s=null,n.S=!0,hr(n,e)}function Fi(e){null!=e.v&&(ut.clearTimeout(e.v),e.v=null)}function Vi(e,t){var n=null;if(e.g==t){Fi(e),Mi(e),e.g=null;var r=2}else{if(!$r(e.i,t))return;n=t.F,Jr(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;vn(r=Wn(),new Qn(r,n)),Di(e)}else Ri(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Yr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Yn(vt(e.Na,e,t),Ui(e,e.C)),e.C++,!0))}(e,t)||2==r&&Oi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zi(e,5);break;case 4:zi(e,10);break;case 3:zi(e,6);break;default:zi(e,2)}}function Ui(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zi(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=vt(e.pb,e);n||(n=new Er("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||Tr(n,"https"),Dr(n)),function(e,t){var n=new Vn;if(ut.Image){var r=new Image;r.onload=mt(ii,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mt(ii,n,r,"TestLoadImage: error",!1,t),r.onabort=mt(ii,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mt(ii,n,r,"TestLoadImage: timeout",!1,t),ut.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gn(2);e.H=0,e.h&&e.h.za(t),Bi(e),Ni(e)}function Bi(e){if(e.H=0,e.ma=[],e.h){var t=Zr(e.i);0==t.length&&0==e.j.length||(kt(e.ma,t),kt(e.ma,e.j),e.i.i.length=0,wt(e.j),e.j.length=0),e.h.ya()}}function Wi(e,t,n){var r=n instanceof Er?Cr(n):new Er(n);if(""!=r.g)t&&(r.g=t+"."+r.g),_r(r,r.m);else{var i=ut.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Er(null);r&&Tr(a,r),t&&(a.g=t),i&&_r(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Nr(r,n,t),Nr(r,"VER",e.ra),Li(e,r),r}function qi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new hi(new ai({ob:!0})):new hi(e.va)).Oa(e.J),t}function Hi(){}function Ki(){if(At&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function Gi(e,t){pn.call(this),this.g=new Ti(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Et(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Et(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $i(this)}function Qi(e){rr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yi(){ir.call(this),this.status=1}function $i(e){this.g=e}function Xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ji(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Zi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(it=hi.prototype).Oa=function(e){this.M=e},it.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tr.g(),this.C=this.u?Zn(this.u):Zn(tr),this.g.onreadystatechange=vt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void mi(this,u)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)n.set(a,i[a]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));var o,s=r(i.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;n.set(u,i.get(u))}}catch(v){s.e(v)}finally{s.f()}}i=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=ut.FormData&&e instanceof ut.FormData,!(0<=bt(vi,t))||i||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=r(n);try{for(c.s();!(l=c.n()).done;){var f=p(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(v){c.e(v)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wi(this),0<this.B&&((this.L=function(e){return At&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.ua,this)):this.A=Ln(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){mi(this,u)}},it.ua=function(){"undefined"!=typeof st&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))},it.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vn(this,"complete"),vn(this,"abort"),bi(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bi(this,!0)),hi.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?yi(this):this.kb())},it.kb=function(){yi(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<ki(this)?this.g.status:-1}catch(ei){return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch(ei){return""}},it.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fi(t)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(it=Ti.prototype).ra=8,it.H=1,it.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new or(this,this.l,e),n=this.s;if(this.U&&(n?Xt(n=Yt(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Pi(this,t,r),Nr(i=Cr(this.I),"RID",e),Nr(i,"CVER",22),this.F&&Nr(i,"X-HTTP-Session-Id",this.F),Li(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Si(n)))+"&"+r:this.o&&Ei(i,this.o,n)),Xr(this.i,t),this.bb&&Nr(i,"TYPE","init"),this.P?(Nr(i,"$req",r),Nr(i,"SID","null"),t.aa=!0,fr(t,i,null)):fr(t,i,r),this.H=2}}else 3==this.H&&(e?Ai(this,e):0==this.j.length||Qr(this.i)||Ai(this))},it.Ma=function(){if(this.u=null,ji(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Yn(vt(this.jb,this),e)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),Ii(this),ji(this))},it.ib=function(){null!=this.v&&(this.v=null,Ii(this),Oi(this),Gn(19))},it.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=Hi.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},Ki.prototype.g=function(e,t){return new Gi(e,t)},gt(Gi,pn),Gi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Gn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Wi(e,null,e.Y),Di(e)},Gi.prototype.close=function(){_i(this.g)},Gi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gn(e),e=n);t.j.push(new Hr(t.fb++,e)),3==t.H&&Di(t)},Gi.prototype.N=function(){this.g.h=null,delete this.j,_i(this.g),delete this.g,Gi.$.N.call(this)},gt(Qi,rr),gt(Yi,ir),gt($i,Hi),$i.prototype.Ba=function(){vn(this.g,"a")},$i.prototype.Aa=function(e){vn(this.g,new Qi(e))},$i.prototype.za=function(e){vn(this.g,new Yi)},$i.prototype.ya=function(){vn(this.g,"b")},gt(Xi,(function(){this.blockSize=-1})),Xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xi.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Ji(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Ji(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Ji(this,r),i=0;break}}this.h=i,this.i+=t},Xi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ea={};function ta(e){return-128<=e&&128>e?function(e,t){var n=ea;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Zi([0|e],0>e?-1:0)})):new Zi([0|e],0>e?-1:0)}function na(e){if(isNaN(e)||!isFinite(e))return ia;if(0>e)return la(na(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ra;return new Zi(t,0)}var ra=4294967296,ia=ta(0),aa=ta(1),oa=ta(16777216);function sa(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ua(e){return-1==e.h}function la(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Zi(n,~e.h).add(aa)}function ca(e,t){return e.add(la(t))}function fa(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ha(e,t){this.g=e,this.h=t}function da(e,t){if(sa(t))throw Error("division by zero");if(sa(e))return new ha(ia,ia);if(ua(e))return t=da(la(e),t),new ha(la(t.g),la(t.h));if(ua(t))return t=da(e,la(t)),new ha(la(t.g),t.h);if(30<e.g.length){if(ua(e)||ua(t))throw Error("slowDivide_ only works with positive integers.");for(var n=aa,r=t;0>=r.X(e);)n=pa(n),r=pa(r);var i=va(n,1),a=va(r,1);for(r=va(r,2),n=va(n,2);!sa(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=va(r,1),n=va(n,1)}return t=ca(e,i.R(t)),new ha(i,t)}for(i=ia;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=na(n)).R(t);ua(o)||0<o.X(e);)o=(a=na(n-=r)).R(t);sa(a)&&(a=aa),i=i.add(a),e=ca(e,o)}return new ha(i,e)}function pa(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Zi(n,e.h)}function va(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Zi(i,e.h)}(it=Zi.prototype).ea=function(){if(ua(this))return-la(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ra+r)*t,t*=ra}return e},it.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(sa(this))return"0";if(ua(this))return"-"+la(this).toString(e);for(var t=na(Math.pow(e,6)),n=this,r="";;){var i=da(n,t).g,a=((0<(n=ca(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(sa(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},it.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},it.X=function(e){return ua(e=ca(this,e))?-1:sa(e)?0:1},it.abs=function(){return ua(this)?la(this):this},it.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Zi(n,-2147483648&n[n.length-1]?-1:0)},it.R=function(e){if(sa(this)||sa(e))return ia;if(ua(this))return ua(e)?la(this).R(la(e)):la(la(this).R(e));if(ua(e))return la(this.R(la(e)));if(0>this.X(oa)&&0>e.X(oa))return na(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,fa(n,2*r+2*i),n[2*r+2*i+1]+=a*u,fa(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,fa(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,fa(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Zi(n,0)},it.gb=function(e){return da(this,e).h},it.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Zi(n,this.h&e.h)},it.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Zi(n,this.h|e.h)},it.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Zi(n,this.h^e.h)},Ki.prototype.createWebChannel=Ki.prototype.g,Gi.prototype.send=Gi.prototype.u,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,$n.NO_ERROR=0,$n.TIMEOUT=8,$n.HTTP_ERROR=6,Xn.COMPLETE="complete",er.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",pn.prototype.listen=pn.prototype.O,hi.prototype.listenOnce=hi.prototype.P,hi.prototype.getLastError=hi.prototype.Sa,hi.prototype.getLastErrorCode=hi.prototype.Ia,hi.prototype.getStatus=hi.prototype.da,hi.prototype.getResponseJson=hi.prototype.Wa,hi.prototype.getResponseText=hi.prototype.ja,hi.prototype.send=hi.prototype.ha,hi.prototype.setWithCredentials=hi.prototype.Oa,Xi.prototype.digest=Xi.prototype.l,Xi.prototype.reset=Xi.prototype.reset,Xi.prototype.update=Xi.prototype.j,Zi.prototype.add=Zi.prototype.add,Zi.prototype.multiply=Zi.prototype.R,Zi.prototype.modulo=Zi.prototype.gb,Zi.prototype.compare=Zi.prototype.X,Zi.prototype.toNumber=Zi.prototype.ea,Zi.prototype.toString=Zi.prototype.toString,Zi.prototype.getBits=Zi.prototype.D,Zi.fromNumber=na,Zi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return la(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=na(Math.pow(n,8)),i=ia,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=na(Math.pow(n,o)),i=i.R(o).add(na(s))):i=(i=i.R(r)).add(na(s))}return i};var ma=ot.createWebChannelTransport=function(){return new Ki},ga=ot.getStatEventTarget=function(){return Wn()},ya=ot.ErrorCode=$n,ba=ot.EventType=Xn,wa=ot.Event=zn,ka=ot.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xa=ot.FetchXmlHttpFactory=ai,Sa=ot.WebChannel=er,Ea=ot.XhrIo=hi,Ca=ot.Md5=Xi,Ta=ot.Integer=Zi,_a="@firebase/firestore",Ia=function(){function e(t){N(this,e),this.uid=t}return A(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ia.UNAUTHENTICATED=new Ia(null),Ia.GOOGLE_CREDENTIALS=new Ia("google-credentials-uid"),Ia.FIRST_PARTY=new Ia("first-party-uid"),Ia.MOCK_USER=new Ia("mock-user");var Na="9.23.0",Da=new oe("@firebase/firestore");function Aa(){return Da.logLevel}function La(e){if(Da.logLevel<=Z.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Oa);Da.debug.apply(Da,["Firestore (".concat(Na,"): ").concat(e)].concat(I(i)))}}function Pa(e){if(Da.logLevel<=Z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Oa);Da.error.apply(Da,["Firestore (".concat(Na,"): ").concat(e)].concat(I(i)))}}function Ra(e){if(Da.logLevel<=Z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Oa);Da.warn.apply(Da,["Firestore (".concat(Na,"): ").concat(e)].concat(I(i)))}}function Oa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Na,") INTERNAL ASSERTION FAILED: ")+e;throw Pa(t),new Error(t)}function ja(e,t){e||Ma()}function Fa(e,t){return e}var Va={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ua=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return A(n)}(W),za=A((function e(){var t=this;N(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ba=A((function e(t,n){N(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Wa=function(){function e(){N(this,e)}return A(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ia.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qa=function(){function e(t){N(this,e),this.token=t,this.changeListener=null}return A(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ha=function(){function e(t){N(this,e),this.t=t,this.currentUser=Ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new za;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new za,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){La("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(La("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new za)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(La("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ja("string"==typeof n.accessToken),new Ba(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ja(null===e||"string"==typeof e),new Ia(e)}}]),e}(),Ka=function(){function e(t,n,r){N(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Ia.FIRST_PARTY,this.g=new Map}return A(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Ga=function(){function e(t,n,r){N(this,e),this.h=t,this.l=n,this.m=r}return A(e,[{key:"getToken",value:function(){return Promise.resolve(new Ka(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ia.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qa=A((function e(t){N(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ya=function(){function e(t){N(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&La("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,La("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){La("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):La("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ja("string"==typeof t.token),e.T=t.token,new Qa(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function $a(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Xa=function(){function e(){N(this,e)}return A(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=$a(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Ja(e,t){return e<t?-1:e>t?1:0}function Za(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var eo=function(){function e(t,n){if(N(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ua(Va.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ua(Va.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ua(Va.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ua(Va.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return A(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ja(this.nanoseconds,e.nanoseconds):Ja(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),to=function(){function e(t){N(this,e),this.timestamp=t}return A(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new eo(0,0))}},{key:"max",value:function(){return new e(new eo(253402300799,999999999))}}]),e}(),no=function(){function e(t,n,r){N(this,e),void 0===n?n=0:n>t.length&&Ma(),void 0===r?r=t.length-n:r>t.length-n&&Ma(),this.segments=t,this.offset=n,this.len=r}return A(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ro=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Ua(Va.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,I(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(no),io=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ao=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return io.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ua(Va.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ua(Va.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ua(Va.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ua(Va.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(no),oo=function(){function e(t){N(this,e),this.path=t}return A(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ro.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ro.fromString(t))}},{key:"fromName",value:function(t){return new e(ro.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ro.emptyPath())}},{key:"comparator",value:function(e,t){return ro.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ro(t.slice()))}}]),e}(),so=A((function e(t,n,r,i){N(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));so.UNKNOWN_ID=-1;function uo(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=to.fromTimestamp(1e9===r?new eo(n+1,0):new eo(n,r));return new co(i,oo.empty(),t)}function lo(e){return new co(e.readTime,e.key,-1)}var co=function(){function e(t,n,r){N(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return A(e,null,[{key:"min",value:function(){return new e(to.min(),oo.empty(),-1)}},{key:"max",value:function(){return new e(to.max(),oo.empty(),-1)}}]),e}();function fo(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=oo.comparator(e.documentKey,t.documentKey))?n:Ja(e.largestBatchId,t.largestBatchId)}var ho="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",po=function(){function e(){N(this,e),this.onCommittedListeners=[]}return A(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function vo(e){return mo.apply(this,arguments)}function mo(){return(mo=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Va.FAILED_PRECONDITION&&t.message===ho){e.next=2;break}throw t;case 2:La("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var go=function(){function e(t){var n=this;N(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return A(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ma(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,i=e.resolve(!1),a=r(t);try{var o=function(){var t=n.value;i=i.next((function(n){return n?e.resolve(n):t()}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return i}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function yo(e){return"IndexedDbTransactionError"===e.name}var bo=function(){function e(t,n){var r=this;N(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return A(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function wo(e){return null==e}function ko(e){return 0===e&&1/e==-1/0}function xo(e){return"number"==typeof e&&Number.isInteger(e)&&!ko(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}bo.ct=-1;var So=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Eo=([].concat(I(So),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Co=Eo;[].concat(Co,["indexConfiguration","indexState","indexEntries"]);function To(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _o(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Io(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var No=function(){function e(t,n){N(this,e),this.comparator=t,this.root=n||Ao.EMPTY}return A(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ao.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ao.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Do(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Do(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Do(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Do(this.root,e,this.comparator,!0)}}]),e}(),Do=function(){function e(t,n,r,i){N(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return A(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ao=function(){function e(t,n,r,i,a){N(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return A(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ma();if(this.right.isRed())throw Ma();var e=this.left.check();if(e!==this.right.check())throw Ma();return e+(this.isRed()?0:1)}}]),e}();Ao.EMPTY=null,Ao.RED=!0,Ao.BLACK=!1,Ao.EMPTY=new(function(){function e(){N(this,e),this.size=0}return A(e,[{key:"key",get:function(){throw Ma()}},{key:"value",get:function(){throw Ma()}},{key:"color",get:function(){throw Ma()}},{key:"left",get:function(){throw Ma()}},{key:"right",get:function(){throw Ma()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ao(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Lo=function(){function e(t){N(this,e),this.comparator=t,this.data=new No(this.comparator)}return A(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Po(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Po(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Po=function(){function e(t){N(this,e),this.iter=t}return A(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Ro=function(){function e(t){N(this,e),this.fields=t,t.sort(ao.comparator)}return A(e,[{key:"unionWith",value:function(t){var n,i=new Lo(ao.comparator),a=r(this.fields);try{for(a.s();!(n=a.n()).done;){var o=n.value;i=i.add(o)}}catch(c){a.e(c)}finally{a.f()}var s,u=r(t);try{for(u.s();!(s=u.n()).done;){var l=s.value;i=i.add(l)}}catch(c){u.e(c)}finally{u.f()}return new e(i.toArray())}},{key:"covers",value:function(e){var t,n=r(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Za(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Oo=function(e){C(n,e);var t=_(n);function n(){var e;return N(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return A(n)}(E(Error));var Mo=function(e){function t(e){N(this,t),this.binaryString=e}return A(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ja(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Oo("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mo.EMPTY_BYTE_STRING=new Mo("");var jo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(e){if(ja(!!e),"string"==typeof e){var t=0,n=jo.exec(e);if(ja(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vo(e.seconds),nanos:Vo(e.nanos)}}function Vo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Uo(e){return"string"==typeof e?Mo.fromBase64String(e):Mo.fromUint8Array(e)}function zo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bo(e){var t=e.mapValue.fields.__previous_value__;return zo(t)?Bo(t):t}function Wo(e){var t=Fo(e.mapValue.fields.__local_write_time__.timestampValue);return new eo(t.seconds,t.nanos)}var qo=A((function e(t,n,r,i,a,o,s,u,l){N(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),Ho=function(){function e(t,n){N(this,e),this.projectId=t,this.database=n||"(default)"}return A(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Go(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zo(e)?4:ss(e)?9007199254740991:10:Ma()}function Qo(e,t){if(e===t)return!0;var n=Go(e);if(n!==Go(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wo(e).isEqual(Wo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fo(e.timestampValue),r=Fo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Uo(e.bytesValue).isEqual(Uo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Vo(e.geoPointValue.latitude)===Vo(t.geoPointValue.latitude)&&Vo(e.geoPointValue.longitude)===Vo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Vo(e.integerValue)===Vo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Vo(e.doubleValue),r=Vo(t.doubleValue);return n===r?ko(n)===ko(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Za(e.arrayValue.values||[],t.arrayValue.values||[],Qo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(To(n)!==To(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qo(n[i],r[i])))return!1;return!0}(e,t);default:return Ma()}}function Yo(e,t){return void 0!==(e.values||[]).find((function(e){return Qo(e,t)}))}function $o(e,t){if(e===t)return 0;var n=Go(e),r=Go(t);if(n!==r)return Ja(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ja(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Vo(e.integerValue||e.doubleValue),r=Vo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xo(e.timestampValue,t.timestampValue);case 4:return Xo(Wo(e),Wo(t));case 5:return Ja(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Uo(e),r=Uo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ja(n[i],r[i]);if(0!==a)return a}return Ja(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ja(Vo(e.latitude),Vo(t.latitude));return 0!==n?n:Ja(Vo(e.longitude),Vo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=$o(n[i],r[i]);if(a)return a}return Ja(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ko.mapValue&&t===Ko.mapValue)return 0;if(e===Ko.mapValue)return 1;if(t===Ko.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Ja(r[o],a[o]);if(0!==s)return s;var u=$o(n[r[o]],i[a[o]]);if(0!==u)return u}return Ja(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ma()}}function Xo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ja(e,t);var n=Fo(e),r=Fo(t),i=Ja(n.seconds,r.seconds);return 0!==i?i:Ja(n.nanos,r.nanos)}function Jo(e){return Zo(e)}function Zo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Fo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Uo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",i=!0,a=r(e.values||[]);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:n+=",",n+=Zo(o)}}catch(s){a.e(s)}finally{a.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",i=!0,a=r(Object.keys(e.fields||{}).sort());try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:n+=",",n+="".concat(o,":").concat(Zo(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return n+"}"}(e.mapValue):Ma();var t,n}function es(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ts(e){return!!e&&"integerValue"in e}function ns(e){return!!e&&"arrayValue"in e}function rs(e){return!!e&&"nullValue"in e}function is(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function as(e){return!!e&&"mapValue"in e}function os(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _o(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=os(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=os(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ss(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var us=function(){function e(t){N(this,e),this.value=t}return A(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!as(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=os(t)}},{key:"setAll",value:function(e){var t=this,n=ao.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=os(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());as(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Qo(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];as(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_o(t,(function(t,n){return e[t]=n}));var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;delete e[o]}}catch(s){a.e(s)}finally{a.f()}}},{key:"clone",value:function(){return new e(os(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ls(e){var t=[];return _o(e.fields,(function(e,n){var i=new ao([e]);if(as(n)){var a=ls(n.mapValue).fields;if(0===a.length)t.push(i);else{var o,s=r(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;t.push(i.child(u))}}catch(l){s.e(l)}finally{s.f()}}}else t.push(i)})),new Ro(t)}var cs=function(){function e(t,n,r,i,a,o,s){N(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return A(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(to.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=to.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,to.min(),to.min(),to.min(),us.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,to.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,to.min(),to.min(),us.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,to.min(),to.min(),us.empty(),2)}}]),e}(),fs=A((function e(t,n){N(this,e),this.position=t,this.inclusive=n}));function hs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?oo.comparator(oo.fromName(o.referenceValue),n.key):$o(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ds(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qo(e.position[n],t.position[n]))return!1;return!0}var ps=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";N(this,e),this.field=t,this.dir=n}));function vs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ms=A((function e(){N(this,e)})),gs=function(e){C(n,e);var t=_(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($o(t,this.value)):null!==t&&Go(this.value)===Go(t)&&this.matchesComparison($o(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ma()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Cs(e,t,r):"array-contains"===t?new Ns(e,r):"in"===t?new Ds(e,r):"not-in"===t?new As(e,r):"array-contains-any"===t?new Ls(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Ts(e,n):new _s(e,n)}}]),n}(ms),ys=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return A(n,[{key:"matches",value:function(e){return bs(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=r(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e(i))return i}}catch(a){n.e(a)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ms);function bs(e){return"and"===e.op}function ws(e){return ks(e)&&bs(e)}function ks(e){var t,n=r(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ys)return!1}}catch(i){n.e(i)}finally{n.f()}return!0}function xs(e){if(e instanceof gs)return e.field.canonicalString()+e.op.toString()+Jo(e.value);if(ws(e))return e.filters.map((function(e){return xs(e)})).join(",");var t=e.filters.map((function(e){return xs(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ss(e,t){return e instanceof gs?function(e,t){return t instanceof gs&&e.op===t.op&&e.field.isEqual(t.field)&&Qo(e.value,t.value)}(e,t):e instanceof ys?function(e,t){return t instanceof ys&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ss(n,t.filters[r])}),!0)}(e,t):void Ma()}function Es(e){return e instanceof gs?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jo(e.value))}(e):e instanceof ys?function(e){return e.op.toString()+" {"+e.getFilters().map(Es).join(" ,")+"}"}(e):"Filter"}var Cs=function(e){C(n,e);var t=_(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,e,r,i)).key=oo.fromName(i.referenceValue),a}return A(n,[{key:"matches",value:function(e){var t=oo.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(gs),Ts=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,"in",r)).keys=Is("in",r),i}return A(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gs),_s=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this,e,"not-in",r)).keys=Is("not-in",r),i}return A(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gs);function Is(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return oo.fromName(e.referenceValue)}))}var Ns=function(e){C(n,e);var t=_(n);function n(e,r){return N(this,n),t.call(this,e,"array-contains",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ns(t)&&Yo(t.arrayValue,this.value)}}]),n}(gs),Ds=function(e){C(n,e);var t=_(n);function n(e,r){return N(this,n),t.call(this,e,"in",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yo(this.value.arrayValue,t)}}]),n}(gs),As=function(e){C(n,e);var t=_(n);function n(e,r){return N(this,n),t.call(this,e,"not-in",r)}return A(n,[{key:"matches",value:function(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yo(this.value.arrayValue,t)}}]),n}(gs),Ls=function(e){C(n,e);var t=_(n);function n(e,r){return N(this,n),t.call(this,e,"array-contains-any",r)}return A(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ns(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yo(t.value.arrayValue,e)}))}}]),n}(gs),Ps=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;N(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function Rs(e){return new Ps(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Os(e){var t=Fa(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return xs(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Jo(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Jo(e)})).join(",")),t.dt=n}return t.dt}function Ms(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!vs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ss(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ds(e.startAt,t.startAt)&&ds(e.endAt,t.endAt)}function js(e){return oo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Fs=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;N(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function Vs(e,t,n,r,i,a,o,s){return new Fs(e,t,n,r,i,a,o,s)}function Us(e){return new Fs(e)}function zs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ws(e){var t,n=r(e.filters);try{for(n.s();!(t=n.n()).done;){var i=t.value.getFirstInequalityField();if(null!==i)return i}}catch(a){n.e(a)}finally{n.f()}return null}function qs(e){return null!==e.collectionGroup}function Hs(e){var t=Fa(e);if(null===t.wt){t.wt=[];var n=Ws(t),i=Bs(t);if(null!==n&&null===i)n.isKeyField()||t.wt.push(new ps(n)),t.wt.push(new ps(ao.keyField(),"asc"));else{var a,o=!1,s=r(t.explicitOrderBy);try{for(s.s();!(a=s.n()).done;){var u=a.value;t.wt.push(u),u.field.isKeyField()&&(o=!0)}}catch(c){s.e(c)}finally{s.f()}if(!o){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ps(ao.keyField(),l))}}}return t.wt}function Ks(e){var t=Fa(e);if(!t._t)if("F"===t.limitType)t._t=Rs(t.path,t.collectionGroup,Hs(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,i=[],a=r(Hs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s="desc"===o.dir?"asc":"desc";i.push(new ps(o.field,s))}}catch(c){a.e(c)}finally{a.f()}var u=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,l=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;t._t=Rs(t.path,t.collectionGroup,i,t.filters,t.limit,u,l)}return t._t}function Gs(e,t){t.getFirstInequalityField(),Ws(e);var n=e.filters.concat([t]);return new Fs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qs(e,t,n){return new Fs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ys(e,t){return Ms(Ks(e),Ks(t))&&e.limitType===t.limitType}function $s(e){return"".concat(Os(Ks(e)),"|lt:").concat(e.limitType)}function Xs(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Es(e)})).join(", "),"]")),wo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Jo(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Jo(e)})).join(",")),"Target(".concat(t,")")}(Ks(e)),"; limitType=").concat(e.limitType,")")}function Js(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,i=r(Hs(e));try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}(e,t)&&function(e,t){var n,i=r(e.filters);try{for(i.s();!(n=i.n()).done;){if(!n.value.matches(t))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=hs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hs(e),t))&&!(e.endAt&&!function(e,t,n){var r=hs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hs(e),t))}(e,t)}function Zs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eu(e){return function(t,n){var i,a=!1,o=r(Hs(e));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=tu(s,t,n);if(0!==u)return u;a=a||s.field.isKeyField()}}catch(l){o.e(l)}finally{o.f()}return 0}}function tu(e,t,n){var r=e.field.isKeyField()?oo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$o(r,i):Ma()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ma()}}var nu=function(){function e(t,n){N(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return A(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var o=p(i.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(l){a.e(l)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_o(this.inner,(function(t,n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var o=p(i.value,2),s=o[0],u=o[1];e(s,u)}}catch(l){a.e(l)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return Io(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ru=new No(oo.comparator);function iu(){return ru}var au=new No(oo.comparator);function ou(){for(var e=au,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function su(e){var t=au;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function uu(){return cu()}function lu(){return cu()}function cu(){return new nu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var fu=new No(oo.comparator),hu=new Lo(oo.comparator);function du(){for(var e=hu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var pu=new Lo(Ja);function vu(){return pu}function mu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(t)?"-0":t}}function gu(e){return{integerValue:""+e}}function yu(e,t){return xo(t)?gu(t):mu(e,t)}var bu=A((function e(){N(this,e),this._=void 0}));function wu(e,t,n){return e instanceof Su?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zo(t)&&(t=Bo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Eu?Cu(e,t):e instanceof Tu?_u(e,t):function(e,t){var n=xu(e,t),r=Nu(n)+Nu(e.gt);return ts(n)&&ts(e.gt)?gu(r):mu(e.serializer,r)}(e,t)}function ku(e,t,n){return e instanceof Eu?Cu(e,t):e instanceof Tu?_u(e,t):n}function xu(e,t){return e instanceof Iu?ts(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Su=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n)}(bu),Eu=function(e){C(n,e);var t=_(n);function n(e){var r;return N(this,n),(r=t.call(this)).elements=e,r}return A(n)}(bu);function Cu(e,t){var n,i=Du(t),a=r(e.elements);try{var o=function(){var e=n.value;i.some((function(t){return Qo(t,e)}))||i.push(e)};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:i}}}var Tu=function(e){C(n,e);var t=_(n);function n(e){var r;return N(this,n),(r=t.call(this)).elements=e,r}return A(n)}(bu);function _u(e,t){var n,i=Du(t),a=r(e.elements);try{var o=function(){var e=n.value;i=i.filter((function(t){return!Qo(t,e)}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:i}}}var Iu=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return A(n)}(bu);function Nu(e){return Vo(e.integerValue||e.doubleValue)}function Du(e){return ns(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Au=A((function e(t,n){N(this,e),this.version=t,this.transformResults=n})),Lu=function(){function e(t,n){N(this,e),this.updateTime=t,this.exists=n}return A(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Pu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ru=A((function e(){N(this,e)}));function Ou(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gu(e.key,Lu.none()):new Uu(e.key,e.data,Lu.none());var n,i=e.data,a=us.empty(),o=new Lo(ao.comparator),s=r(t.fields);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(!o.has(u)){var l=i.field(u);null===l&&u.length>1&&(u=u.popLast(),l=i.field(u)),null===l?a.delete(u):a.set(u,l),o=o.add(u)}}}catch(c){s.e(c)}finally{s.f()}return new zu(e.key,a,new Ro(o.toArray()),Lu.none())}function Mu(e,t,n){e instanceof Uu?function(e,t,n){var r=e.value.clone(),i=Wu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zu?function(e,t,n){if(Pu(e.precondition,t)){var r=Wu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ju(e,t,n,r){return e instanceof Uu?function(e,t,n,r){if(!Pu(e.precondition,t))return n;var i=e.value.clone(),a=qu(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zu?function(e,t,n,r){if(!Pu(e.precondition,t))return n;var i=qu(e.fieldTransforms,r,t),a=t.data;return a.setAll(Bu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Pu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fu(e,t){var n,i=null,a=r(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=t.data.field(o.field),u=xu(o.transform,s||null);null!=u&&(null===i&&(i=us.empty()),i.set(o.field,u))}}catch(l){a.e(l)}finally{a.f()}return i||null}function Vu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Za(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eu&&t instanceof Eu||e instanceof Tu&&t instanceof Tu?Za(e.elements,t.elements,Qo):e instanceof Iu&&t instanceof Iu?Qo(e.gt,t.gt):e instanceof Su&&t instanceof Su}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Uu=function(e){C(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return N(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ru),zu=function(e){C(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return N(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return A(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ru);function Bu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wu(e,t,n){var r=new Map;ja(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ku(o,s,n[i]))}return r}function qu(e,t,n){var i,a=new Map,o=r(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.transform,l=n.data.field(s.field);a.set(s.field,wu(u,l,t))}}catch(c){o.e(c)}finally{o.f()}return a}var Hu,Ku,Gu=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ru),Qu=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ru),Yu=function(){function e(t,n,r,i){N(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return A(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Mu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,i=r(this.baseMutations);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.key.isEqual(e.key)&&(t=ju(a,e,t,this.localWriteTime))}}catch(l){i.e(l)}finally{i.f()}var o,s=r(this.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.key.isEqual(e.key)&&(t=ju(u,e,t,this.localWriteTime))}}catch(l){s.e(l)}finally{s.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=lu();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Ou(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(to.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),du())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(function(e,t){return Vu(e,t)}))&&Za(this.baseMutations,e.baseMutations,(function(e,t){return Vu(e,t)}))}}]),e}(),$u=function(){function e(t,n,r,i){N(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return A(e,null,[{key:"from",value:function(t,n,r){ja(t.mutations.length===r.length);for(var i=fu,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Xu=function(){function e(t,n){N(this,e),this.largestBatchId=t,this.mutation=n}return A(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ju=A((function e(t,n){N(this,e),this.count=t,this.unchangedNames=n}));function Zu(e){switch(e){default:return Ma();case Va.CANCELLED:case Va.UNKNOWN:case Va.DEADLINE_EXCEEDED:case Va.RESOURCE_EXHAUSTED:case Va.INTERNAL:case Va.UNAVAILABLE:case Va.UNAUTHENTICATED:return!1;case Va.INVALID_ARGUMENT:case Va.NOT_FOUND:case Va.ALREADY_EXISTS:case Va.PERMISSION_DENIED:case Va.FAILED_PRECONDITION:case Va.ABORTED:case Va.OUT_OF_RANGE:case Va.UNIMPLEMENTED:case Va.DATA_LOSS:return!0}}function el(e){if(void 0===e)return Pa("GRPC error has no .code"),Va.UNKNOWN;switch(e){case Hu.OK:return Va.OK;case Hu.CANCELLED:return Va.CANCELLED;case Hu.UNKNOWN:return Va.UNKNOWN;case Hu.DEADLINE_EXCEEDED:return Va.DEADLINE_EXCEEDED;case Hu.RESOURCE_EXHAUSTED:return Va.RESOURCE_EXHAUSTED;case Hu.INTERNAL:return Va.INTERNAL;case Hu.UNAVAILABLE:return Va.UNAVAILABLE;case Hu.UNAUTHENTICATED:return Va.UNAUTHENTICATED;case Hu.INVALID_ARGUMENT:return Va.INVALID_ARGUMENT;case Hu.NOT_FOUND:return Va.NOT_FOUND;case Hu.ALREADY_EXISTS:return Va.ALREADY_EXISTS;case Hu.PERMISSION_DENIED:return Va.PERMISSION_DENIED;case Hu.FAILED_PRECONDITION:return Va.FAILED_PRECONDITION;case Hu.ABORTED:return Va.ABORTED;case Hu.OUT_OF_RANGE:return Va.OUT_OF_RANGE;case Hu.UNIMPLEMENTED:return Va.UNIMPLEMENTED;case Hu.DATA_LOSS:return Va.DATA_LOSS;default:return Ma()}}(Ku=Hu||(Hu={}))[Ku.OK=0]="OK",Ku[Ku.CANCELLED=1]="CANCELLED",Ku[Ku.UNKNOWN=2]="UNKNOWN",Ku[Ku.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ku[Ku.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ku[Ku.NOT_FOUND=5]="NOT_FOUND",Ku[Ku.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ku[Ku.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ku[Ku.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ku[Ku.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ku[Ku.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ku[Ku.ABORTED=10]="ABORTED",Ku[Ku.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ku[Ku.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ku[Ku.INTERNAL=13]="INTERNAL",Ku[Ku.UNAVAILABLE=14]="UNAVAILABLE",Ku[Ku.DATA_LOSS=15]="DATA_LOSS";var tl=function(){function e(){N(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return A(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return nl}},{key:"getOrCreateInstance",value:function(){return null===nl&&(nl=new e),nl}}]),e}(),nl=null;function rl(){return new TextEncoder}var il=new Ta([4294967295,4294967295],0);function al(e){var t=rl().encode(e),n=new Ca;return n.update(t),new Uint8Array(n.digest())}function ol(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ta([n,r],0),new Ta([i,a],0)]}var sl=function(){function e(t,n,r){if(N(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ul("Invalid padding: ".concat(n));if(r<0)throw new ul("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new ul("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new ul("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Ta.fromNumber(this.It)}return A(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Ta.fromNumber(n)));return 1===r.compare(il)&&(r=new Ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=p(ol(al(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=p(ol(al(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),ul=function(e){C(n,e);var t=_(n);function n(){var e;return N(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return A(n)}(E(Error)),ll=function(){function e(t,n,r,i,a){N(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return A(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,cl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(to.min(),i,new No(Ja),iu(),du())}}]),e}(),cl=function(){function e(t,n,r,i,a){N(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return A(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,du(),du(),du())}}]),e}(),fl=A((function e(t,n,r,i){N(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),hl=A((function e(t,n){N(this,e),this.targetId=t,this.Vt=n})),dl=A((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;N(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pl=function(){function e(){N(this,e),this.St=0,this.Dt=gl(),this.Ct=Mo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return A(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=du(),t=du(),n=du();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ma()}})),new cl(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=gl()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),vl=function(){function e(t){N(this,e),this.Gt=t,this.Qt=new Map,this.jt=iu(),this.zt=ml(),this.Wt=new No(Ja)}return A(e,[{key:"Ht",value:function(e){var t,n=r(e.Pt);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(i,e.bt):this.Yt(i,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var a,o=r(e.removedTargetIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.Yt(s,e.key,e.bt)}}catch(u){o.e(u)}finally{o.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Ma()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(js(a))if(0===r){var o=new oo(a.path);this.Yt(n,o,cs.newNoDocument(o,to.min()))}else ja(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,l)}null===(t=tl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,l={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==c?void 0:c.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),l}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,l=void 0===u?"":u,c=s.padding,f=void 0===c?0:c,h=r.hashCount,d=void 0===h?0:h;try{a=Uo(l).toUint8Array()}catch(e){if(e instanceof Oo)return Ra("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new sl(a,f,d)}catch(e){return Ra(e instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&js(a.target)){var o=new oo(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,cs.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=du();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new ll(e,n,this.Wt,this.jt,r);return this.jt=iu(),this.zt=ml(),this.Wt=new No(Ja),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new pl,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Lo(Ja),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||La("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new pl),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ml(){return new No(oo.comparator)}function gl(){return new No(oo.comparator)}var yl={asc:"ASCENDING",desc:"DESCENDING"},bl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wl={and:"AND",or:"OR"},kl=A((function e(t,n){N(this,e),this.databaseId=t,this.useProto3Json=n}));function xl(e,t){return e.useProto3Json||wo(t)?t:{value:t}}function Sl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function El(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Cl(e,t){return Sl(e,t.toTimestamp())}function Tl(e){return ja(!!e),to.fromTimestamp(function(e){var t=Fo(e);return new eo(t.seconds,t.nanos)}(e))}function _l(e,t){return function(e){return new ro(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Il(e){var t=ro.fromString(e);return ja(Ql(t)),t}function Nl(e,t){return _l(e.databaseId,t.path)}function Dl(e,t){var n=Il(t);if(n.get(1)!==e.databaseId.projectId)throw new Ua(Va.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ua(Va.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oo(Rl(n))}function Al(e,t){return _l(e.databaseId,t)}function Ll(e){var t=Il(e);return 4===t.length?ro.emptyPath():Rl(t)}function Pl(e){return new ro(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rl(e){return ja(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ol(e,t,n){return{name:Nl(e,t),fields:n.value.mapValue.fields}}function Ml(e,t){var n;if(t instanceof Uu)n={update:Ol(e,t.key,t.value)};else if(t instanceof Gu)n={delete:Nl(e,t.key)};else if(t instanceof zu)n={update:Ol(e,t.key,t.data),updateMask:Gl(t.fieldMask)};else{if(!(t instanceof Qu))return Ma();n={verify:Nl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Su)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ma()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ma()}(e,t.precondition)),n}function jl(e,t){return{documents:[Al(e,t.path)]}}function Fl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Al(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Al(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Kl(ys.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ql(e.field),direction:zl(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=xl(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Vl(e){var t=Ll(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ja(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Ul(e);return t instanceof ys&&ws(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ps(Hl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return wo(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new fs(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new fs(n,t)}(n.endAt)),Vs(t,i,s,o,u,"F",l,c)}function Ul(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hl(e.unaryFilter.field);return gs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hl(e.unaryFilter.field);return gs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hl(e.unaryFilter.field);return gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hl(e.unaryFilter.field);return gs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ma()}}(e):void 0!==e.fieldFilter?function(e){return gs.create(Hl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ma()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ys.create(e.compositeFilter.filters.map((function(e){return Ul(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ma()}}(e.compositeFilter.op))}(e):Ma()}function zl(e){return yl[e]}function Bl(e){return bl[e]}function Wl(e){return wl[e]}function ql(e){return{fieldPath:e.canonicalString()}}function Hl(e){return ao.fromServerFormat(e.fieldPath)}function Kl(e){return e instanceof gs?function(e){if("=="===e.op){if(is(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NAN"}};if(rs(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(is(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NAN"}};if(rs(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(e.field),op:Bl(e.op),value:e.value}}}(e):e instanceof ys?function(e){var t=e.getFilters().map((function(e){return Kl(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Wl(e.op),filters:t}}}(e):Ma()}function Gl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ql(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Yl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:to.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:to.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mo.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;N(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return A(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),$l=A((function e(t){N(this,e),this.fe=t}));function Xl(e){var t=Vl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qs(t,t.limit,"L"):t}var Jl=function(){function e(){N(this,e)}return A(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Vo(e.integerValue));else if("doubleValue"in e){var n=Vo(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),ko(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Uo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?ss(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ma()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.me(o,t)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),oo.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();Jl.Ve=new Jl;var Zl=function(){function e(){N(this,e),this.rn=new ec}return A(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),go.resolve()}},{key:"getCollectionParents",value:function(e,t){return go.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return go.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return go.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return go.resolve(null)}},{key:"getIndexType",value:function(e,t){return go.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return go.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return go.resolve(null)}},{key:"getMinOffset",value:function(e,t){return go.resolve(co.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return go.resolve(co.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return go.resolve()}},{key:"updateIndexEntries",value:function(e,t){return go.resolve()}}]),e}(),ec=function(){function e(){N(this,e),this.index={}}return A(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lo(ro.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Lo(ro.comparator)).toArray()}}]),e}();new Uint8Array(0);var tc=function(){function e(t,n,r){N(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return A(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();tc.DEFAULT_COLLECTION_PERCENTILE=10,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tc.DEFAULT=new tc(41943040,tc.DEFAULT_COLLECTION_PERCENTILE,tc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tc.DISABLED=new tc(-1,0,0);var nc=function(){function e(t){N(this,e),this.Nn=t}return A(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}();var rc=function(){function e(){N(this,e),this.changes=new nu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return A(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?go.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var ic=A((function e(t,n){N(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ac=function(){function e(t,n,r,i){N(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return A(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ju(r.mutation,e,Ro.empty(),eo.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,du()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:du(),i=uu();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ou();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=uu();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,du())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=iu(),a=cu(),o=cu();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof zu)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),ju(o.mutation,t,o.mutation.getFieldMask(),eo.now())):a.set(t.key,Ro.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ic(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,i=cu(),a=new No((function(e,t){return e-t})),o=du();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=r(e);try{var s=function(){var e=n.value;e.keys().forEach((function(n){var r=t.get(n);if(null!==r){var o=i.get(n)||Ro.empty();o=e.applyToLocalView(r,o),i.set(n,o);var s=(a.get(e.batchId)||du()).add(n);a=a.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}})).next((function(){for(var r=[],s=a.getReverseIterator(),u=function(){var a=s.getNext(),u=a.key,l=a.value,c=lu();l.forEach((function(e){if(!o.has(e)){var n=Ou(t.get(e),i.get(e));null!==n&&c.set(e,n),o=o.add(e)}})),r.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return go.waitFor(r)})).next((function(){return i}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return oo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):go.resolve(uu()),s=-1,u=a;return o.next((function(t){return go.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?go.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,du())})).next((function(e){return{batchId:s,changes:su(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new oo(t)).next((function(e){var t=ou();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ou();return this.indexManager.getCollectionParents(e,i).next((function(o){return go.forEach(o,(function(o){var s=function(e,t){return new Fs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,cs.newInvalidDocument(r)))}));var n=ou();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&ju(a.mutation,i,Ro.empty(),eo.now()),Js(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),oc=function(){function e(t){N(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return A(e,[{key:"getBundleMetadata",value:function(e,t){return go.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Tl(n.createTime)}),go.resolve()}},{key:"getNamedQuery",value:function(e,t){return go.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Xl(e.bundledQuery),readTime:Tl(e.readTime)}}(t)),go.resolve()}}]),e}(),sc=function(){function e(){N(this,e),this.overlays=new No(oo.comparator),this.ls=new Map}return A(e,[{key:"getOverlay",value:function(e,t){return go.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=uu();return go.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),go.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),go.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=uu(),i=t.length+1,a=new oo(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return go.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new No((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=uu(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=uu(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return go.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Xu(t,n));var a=this.ls.get(t);void 0===a&&(a=du(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),uc=function(){function e(){N(this,e),this.fs=new Lo(lc.ds),this.ws=new Lo(lc._s)}return A(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lc(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new lc(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new oo(new ro([])),r=new lc(n,e),i=new lc(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new oo(new ro([])),n=new lc(t,e),r=new lc(t,e+1),i=du();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lc(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lc=function(){function e(t,n){N(this,e),this.key=t,this.As=n}return A(e,null,[{key:"ds",value:function(e,t){return oo.comparator(e.key,t.key)||Ja(e.As,t.As)}},{key:"_s",value:function(e,t){return Ja(e.As,t.As)||oo.comparator(e.key,t.key)}}]),e}(),cc=function(){function e(t,n){N(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Lo(lc.ds)}return A(e,[{key:"checkEmpty",value:function(e){return go.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,i){var a=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new Yu(a,t,n,i);this.mutationQueue.push(o);var s,u=r(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;this.Rs=this.Rs.add(new lc(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return go.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return go.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return go.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return go.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return go.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lc(t,0),i=new lc(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),go.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lo(Ja);return t.forEach((function(e){var t=new lc(e,0),i=new lc(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),go.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;oo.isDocumentKey(i)||(i=i.child(""));var a=new lc(new oo(i),0),o=new Lo(Ja);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),go.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ja(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return go.forEach(t.mutations,(function(i){var a=new lc(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lc(t,0),r=this.Rs.firstAfterOrEqual(n);return go.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,go.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),fc=function(){function e(t){N(this,e),this.Ds=t,this.docs=new No(oo.comparator),this.size=0}return A(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return go.resolve(n?n.document.mutableCopy():cs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=iu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():cs.newInvalidDocument(e))})),go.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=iu(),a=t.path,o=new oo(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||fo(lo(c),n)<=0||(r.has(c.key)||Js(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return go.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ma()}},{key:"Cs",value:function(e,t){return go.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hc(this)}},{key:"getSize",value:function(e){return go.resolve(this.size)}}]),e}(),hc=function(e){C(n,e);var t=_(n);function n(e){var r;return N(this,n),(r=t.call(this)).os=e,r}return A(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),go.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(rc),dc=function(){function e(t){N(this,e),this.persistence=t,this.xs=new nu((function(e){return Os(e)}),Ms),this.lastRemoteSnapshotVersion=to.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uc,this.targetCount=0,this.Ms=nc.kn()}return A(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),go.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return go.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return go.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),go.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),go.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,go.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),go.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,go.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),go.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return go.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return go.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),go.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),go.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),go.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return go.resolve(n)}},{key:"containsKey",value:function(e,t){return go.resolve(this.ks.containsKey(t))}}]),e}(),pc=function(){function e(t,n){var r=this;N(this,e),this.$s={},this.overlays={},this.Os=new bo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new dc(this),this.indexManager=new Zl,this.remoteDocumentCache=new fc((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new $l(n),this.qs=new oc(this.serializer)}return A(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sc,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new cc(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;La("MemoryPersistence","Starting transaction:",e);var i=new vc(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return go.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),vc=function(e){C(n,e);var t=_(n);function n(e){var r;return N(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return A(n)}(po),mc=function(){function e(t){N(this,e),this.persistence=t,this.Qs=new uc,this.js=null}return A(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Ma()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),go.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),go.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),go.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return go.forEach(this.Ws,(function(r){var i=oo.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,to.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return go.or([function(){return go.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}();var gc=function(){function e(t,n,r,i){N(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return A(e,null,[{key:"Li",value:function(t,n){var i,a=du(),o=du(),s=r(n.docChanges);try{for(s.s();!(i=s.n()).done;){var u=i.value;switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}}catch(l){s.e(l)}finally{s.f()}return new e(t,n.fromCache,a,o)}}]),e}(),yc=function(){function e(){N(this,e),this.qi=!1}return A(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(zs(t))return go.resolve(null);var r=Ks(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Qs(t,null,"F"),r=Ks(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=du.apply(void 0,I(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,Qs(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return zs(t)||r.isEqual(to.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(Aa()<=Z.DEBUG&&La("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xs(t)),i.Wi(e,o,t,uo(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Lo(eu(e));return t.forEach((function(t,r){Js(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return Aa()<=Z.DEBUG&&La("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.Ui.getDocumentsMatchingQuery(e,t,co.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),bc=function(){function e(t,n,r,i){N(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new No(Ja),this.Yi=new nu((function(e){return Os(e)}),Ms),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return A(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ac(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function wc(e,t,n,r){return new bc(e,t,n,r)}function kc(e,t){return xc.apply(this,arguments)}function xc(){return xc=l(s().mark((function e(t,n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.mutationQueue.getAllMutationBatches(e).next((function(r){return t=r,i.tr(n),i.mutationQueue.getAllMutationBatches(e)})).next((function(n){var a,o=[],s=[],u=du(),l=r(t);try{for(l.s();!(a=l.n()).done;){var c=a.value;o.push(c.batchId);var f,h=r(c.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){l.e(w)}finally{l.f()}var p,v=r(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;s.push(m.batchId);var g,y=r(m.mutations);try{for(y.s();!(g=y.n()).done;){var b=g.value;u=u.add(b.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){v.e(w)}finally{v.f()}return i.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:o,addedBatchIds:s}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Sc(e,t){var n=Fa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=go.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ja(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=du(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ec(e){var t=Fa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function Cc(e,t){var n=Fa(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Mo.EMPTY_BYTE_STRING,to.min()).withLastLimboFreeSnapshotVersion(to.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Bs.updateTargetData(e,l))}}));var s=iu(),u=du();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Tc(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(to.min())){var l=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return go.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function Tc(e,t,n){var r=du(),i=du();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=iu();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(to.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):La("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function _c(e,t){var n=Fa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ic(e,t){var n=Fa(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,go.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Yl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Nc(e,t,n){return Dc.apply(this,arguments)}function Dc(){return Dc=l(s().mark((function e(t,n,r){var i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fa(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),yo(e.t1)){e.next=12;break}throw e.t1;case 12:La("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Dc.apply(this,arguments)}function Ac(e,t,n){var r=Fa(e),i=to.min(),a=du();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fa(e),i=r.Yi.get(n);return void 0!==i?go.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ks(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:to.min(),n?a:du())})).next((function(e){return Lc(r,Zs(t),e),{documents:e,ir:a}}))}))}function Lc(e,t,n){var r=e.Xi.get(t)||to.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}var Pc=function(){function e(){N(this,e),this.activeTargetIds=vu()}return A(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Rc=function(){function e(){N(this,e),this.Hr=new Pc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return A(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Pc,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Oc=function(){function e(){N(this,e)}return A(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Mc=function(){function e(){var t=this;N(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return A(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){La("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=r(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){La("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=r(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),jc=null;function Fc(){return null===jc?jc=268435456+Math.round(2147483648*Math.random()):jc++,"0x"+jc.toString(16)}var Vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Uc=function(){function e(t){N(this,e),this.ro=t.ro,this.oo=t.oo}return A(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),zc="WebChannelConnection",Bc=function(e){C(n,e);var t=_(n);function n(e){var r;return N(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return A(n,[{key:"Ao",value:function(e,t,n,r){var i=Fc();return new Promise((function(a,o){var s=new Ea;s.setWithCredentials(!0),s.listenOnce(ba.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ya.NO_ERROR:var t=s.getResponseJson();La(zc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ya.TIMEOUT:La(zc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ua(Va.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:var n=s.getStatus();if(La(zc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Va).indexOf(t)>=0?t:Va.UNKNOWN}(u.status);o(new Ua(l,u.message))}else o(new Ua(Va.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ua(Va.UNAVAILABLE,"Connection failed."));break;default:Ma()}}finally{La(zc,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);La(zc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Fc(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ma(),o=ga(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new xa({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var l=i.join("");La(zc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);var c=a.createWebChannel(l,s),f=!1,h=!1,d=new Uc({ro:function(t){h?La(zc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(La(zc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),La(zc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,Sa.EventType.OPEN,(function(){h||La(zc,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Sa.EventType.CLOSE,(function(){h||(h=!0,La(zc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(c,Sa.EventType.ERROR,(function(t){h||(h=!0,Ra(zc,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Ua(Va.UNAVAILABLE,"The operation could not be completed")))})),p(c,Sa.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ja(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){La(zc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Hu[e];if(void 0!==t)return el(t)}(s),l=o.message;void 0===u&&(u=Va.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new Ua(u,l)),c.close()}else La(zc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,wa.STAT_EVENT,(function(t){t.stat===ka.PROXY?La(zc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ka.NOPROXY&&La(zc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){N(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return A(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Fc(),o=this.To(e,t);La("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return La("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ra("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Vc[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Wc(){return"undefined"!=typeof document?document:null}function qc(e){return new kl(e,!0)}var Hc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;N(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return A(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&La("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Kc=function(){function e(t,n,r,i,a,o,s,u){N(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Hc(t,n)}return A(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=l(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Va.RESOURCE_EXHAUSTED?(Pa(n.toString()),Pa("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Va.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=p(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Ua(Va.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(l(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return La("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(La("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Gc=function(e){C(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return N(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return A(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ma()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ja(void 0===t||"string"==typeof t),Mo.fromBase64String(t||"")):(ja(void 0===t||t instanceof Uint8Array),Mo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Va.UNKNOWN:el(e.code);return new Ua(t,e.message||"")}(o);n=new dl(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Dl(e,u.document.name),c=Tl(u.document.updateTime),f=u.document.createTime?Tl(u.document.createTime):to.min(),h=new us({mapValue:{fields:u.document.fields}}),d=cs.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new fl(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Dl(e,m.document),y=m.readTime?Tl(m.readTime):to.min(),b=cs.newNoDocument(g,y),w=m.removedTargetIds||[];n=new fl([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var x=Dl(e,k.document),S=k.removedTargetIds||[];n=new fl([],S,x,null)}else{if(!("filter"in t))return Ma();t.filter;var E=t.filter;E.targetId;var C=E.count,T=void 0===C?0:C,_=E.unchangedNames,I=new Ju(T,_),N=E.targetId;n=new hl(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return to.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?to.min():t.readTime?Tl(t.readTime):to.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=Pl(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=js(r)?{documents:jl(e,r)}:{query:Fl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=El(e,t.resumeToken);var i=xl(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(to.min())>0){n.readTime=Sl(e,t.snapshotVersion.toTimestamp());var a=xl(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ma()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=Pl(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Kc),Qc=function(e){C(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return N(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return A(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,S(x(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(ja(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(ja(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Tl(e.updateTime):Tl(t);return n.isEqual(to.min())&&(n=Tl(t)),new Au(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Tl(e.commitTime);return this.listener.cu(n,t)}return ja(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=Pl(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ml(t.serializer,e)}))};this.Wo(n)}}]),n}(Kc),Yc=function(e){C(n,e);var t=_(n);function n(e,r,i,a){var o;return N(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return A(n,[{key:"fu",value:function(){if(this.lu)throw new Ua(Va.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=p(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Va.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ua(Va.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=p(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Va.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ua(Va.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return A((function e(){N(this,e)}))}());var $c=function(){function e(t,n){N(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return A(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Pa(t),this.mu=!1):La("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Xc=A((function e(t,n,r,i,a){var o=this;N(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=lf(o),!e.t0){e.next=5;break}return La("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=l(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fa(t)).vu.add(4),e.next=4,ef(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,Jc(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new $c(r,i)}));function Jc(e){return Zc.apply(this,arguments)}function Zc(){return(Zc=l(s().mark((function e(t){var n,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lf(t)){e.next=18;break}n=r(t.Ru),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=10;break}return a=i.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function ef(e){return tf.apply(this,arguments)}function tf(){return(tf=l(s().mark((function e(t){var n,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r(t.Ru),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=9;break}return a=i.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function nf(e,t){var n=Fa(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),uf(n)?sf(n):Ff(n).Ko()&&af(n,t))}function rf(e,t){var n=Fa(e),r=Ff(n);n.Au.delete(t),r.Ko()&&of(n,t),0===n.Au.size&&(r.Ko()?r.jo():lf(n)&&n.bu.set("Unknown"))}function af(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(to.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ff(e).su(t)}function of(e,t){e.Vu.qt(t),Ff(e).iu(t)}function sf(e){e.Vu=new vl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Ff(e).start(),e.bu.gu()}function uf(e){return lf(e)&&!Ff(e).Uo()&&e.Au.size>0}function lf(e){return 0===Fa(e).vu.size}function cf(e){e.Vu=void 0}function ff(e){return hf.apply(this,arguments)}function hf(){return(hf=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){af(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return(pf=l(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cf(t),uf(t)?(t.bu.Iu(n),sf(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(e,t,n){return mf.apply(this,arguments)}function mf(){return mf=l(s().mark((function e(t,n,i){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof dl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=l(s().mark((function e(t,n){var i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.cause,a=r(n.targetIds),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}if(u=o.value,e.t0=t.Au.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,i);case 10:t.Au.delete(u),t.Vu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),La("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof fl?t.Vu.Ht(n):n instanceof hl?t.Vu.ne(n):t.Vu.Xt(n),i.isEqual(to.min())){e.next=29;break}return e.prev=14,e.next=17,Ec(t.localStore);case 17:if(a=e.sent,e.t1=i.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Mo.EMPTY_BYTE_STRING,r.snapshotVersion)),of(e,t);var i=new Yl(r.target,t,n,r.sequenceNumber);af(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,i);case 24:return e.prev=24,e.t2=e.catch(14),La("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mf.apply(this,arguments)}function gf(e,t,n){return yf.apply(this,arguments)}function yf(){return(yf=l(s().mark((function e(t,n,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yo(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,ef(t);case 5:t.bu.set("Offline"),r||(r=function(){return Ec(t.localStore)}),t.asyncQueue.enqueueRetryable(l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return La("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,Jc(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bf(e,t){return t().catch((function(n){return gf(e,n,t)}))}function wf(e){return kf.apply(this,arguments)}function kf(){return(kf=l(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fa(t),r=Vf(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!xf(n)){e.next=19;break}return e.prev=3,e.next=6,_c(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,Sf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gf(n,e.t0);case 17:e.next=2;break;case 19:Ef(n)&&Cf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function xf(e){return lf(e)&&e.Eu.length<10}function Sf(e,t){e.Eu.push(t);var n=Vf(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Ef(e){return lf(e)&&!Vf(e).Uo()&&e.Eu.length>0}function Cf(e){Vf(e).start()}function Tf(e){return _f.apply(this,arguments)}function _f(){return(_f=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vf(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function If(e){return Nf.apply(this,arguments)}function Nf(){return(Nf=l(s().mark((function e(t){var n,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vf(t),i=r(t.Eu);try{for(i.s();!(a=i.n()).done;)o=a.value,n.uu(o.mutations)}catch(s){i.e(s)}finally{i.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Df(e,t,n){return Af.apply(this,arguments)}function Af(){return(Af=l(s().mark((function e(t,n,r){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=$u.from(i,n,r),e.next=3,bf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,wf(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e,t){return Pf.apply(this,arguments)}function Pf(){return Pf=l(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Vf(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zu(i=n.code)||i===Va.ABORTED){e.next=7;break}return r=t.Eu.shift(),Vf(t).Qo(),e.next=5,bf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,wf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ef(t)&&Cf(t);case 5:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Rf(e,t){return Of.apply(this,arguments)}function Of(){return(Of=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fa(t)).asyncQueue.verifyOperationInProgress(),La("RemoteStore","RemoteStore received new credentials"),i=lf(r),r.vu.add(3),e.next=6,ef(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,Jc(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mf(e,t){return jf.apply(this,arguments)}function jf(){return(jf=l(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fa(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,Jc(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,ef(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e){return e.Su||(e.Su=function(e,t,n){var r=Fa(e);return r.fu(),new Gc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ff.bind(null,e),ao:df.bind(null,e),nu:vf.bind(null,e)}),e.Ru.push(function(){var t=l(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),uf(e)?sf(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:cf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function Vf(e){return e.Du||(e.Du=function(e,t,n){var r=Fa(e);return r.fu(),new Qc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Tf.bind(null,e),ao:Lf.bind(null,e),au:If.bind(null,e),cu:Df.bind(null,e)}),e.Ru.push(function(){var t=l(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,wf(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(La("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Uf=function(){function e(t,n,r,i,a){N(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return A(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ua(Va.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function zf(e,t){if(Pa("AsyncQueue","".concat(t,": ").concat(e)),yo(e))return new Ua(Va.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Bf=function(){function e(t){N(this,e),this.comparator=t?function(e,n){return t(e,n)||oo.comparator(e.key,n.key)}:function(e,t){return oo.comparator(e.key,t.key)},this.keyedMap=ou(),this.sortedSet=new No(this.comparator)}return A(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Wf=function(){function e(){N(this,e),this.Cu=new No(oo.comparator)}return A(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ma():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),qf=function(){function e(t,n,r,i,a,o,s,u,l){N(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return A(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ys(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Bf.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Hf=A((function e(){N(this,e),this.Nu=void 0,this.listeners=[]})),Kf=A((function e(){N(this,e),this.queries=new nu((function(e){return $s(e)}),Ys),this.onlineState="Unknown",this.ku=new Set}));function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=l(s().mark((function e(t,n){var r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fa(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Hf),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=zf(e.t0,"Initialization of query '".concat(Xs(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&Zf(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qf.apply(this,arguments)}function Yf(e,t){return $f.apply(this,arguments)}function $f(){return $f=l(s().mark((function e(t,n){var r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fa(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Xf(e,t){var n,i=Fa(e),a=!1,o=r(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=s.query,l=i.queries.get(u);if(l){var c,f=r(l.listeners);try{for(f.s();!(c=f.n()).done;){c.value.$u(s)&&(a=!0)}}catch(h){f.e(h)}finally{f.f()}l.Nu=s}}}catch(h){o.e(h)}finally{o.f()}a&&Zf(i)}function Jf(e,t,n){var i=Fa(e),a=i.queries.get(t);if(a){var o,s=r(a.listeners);try{for(s.s();!(o=s.n()).done;){o.value.onError(n)}}catch(u){s.e(u)}finally{s.f()}}i.queries.delete(t)}function Zf(e){e.ku.forEach((function(e){e.next()}))}var eh=function(){function e(t,n,r){N(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return A(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],i=r(e.docChanges);try{for(i.s();!(t=i.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(s){i.e(s)}finally{i.f()}e=new qf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),o=!0):this.qu(e,this.onlineState)&&(this.Uu(e),o=!0),this.Bu=e,o}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=qf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var th=A((function e(t){N(this,e),this.key=t})),nh=A((function e(t){N(this,e),this.key=t})),rh=function(){function e(t,n){N(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=du(),this.mutatedKeys=du(),this.tc=eu(t),this.ec=new Bf(this.tc)}return A(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Wf,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Js(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||l&&n.tc(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ma()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new qf(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Wf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=du(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new nh(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new th(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=du();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return qf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),ih=A((function e(t,n,r){N(this,e),this.query=t,this.targetId=n,this.view=r})),ah=A((function e(t){N(this,e),this.key=t,this.fc=!1})),oh=function(){function e(t,n,r,i,a,o){N(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new nu((function(e){return $s(e)}),Ys),this._c=new Map,this.mc=new Set,this.gc=new No(oo.comparator),this.yc=new Map,this.Ic=new uc,this.Tc={},this.Ec=new Map,this.Ac=nc.Mn(),this.onlineState="Unknown",this.vc=void 0}return A(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function sh(e,t){return uh.apply(this,arguments)}function uh(){return uh=l(s().mark((function e(t,n){var r,i,a,o,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mh(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,Ic(r.localStore,Ks(n));case 8:return u=e.sent,l=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,lh(r,n,i,"current"===l,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&nf(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function lh(e,t,n,r,i){return ch.apply(this,arguments)}function ch(){return ch=l(s().mark((function e(t,n,r,i,a){var o,u,c,f,h,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=l(s().mark((function e(t,n,r,i){var a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Ac(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ih(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ac(t.localStore,n,!0);case 3:return o=e.sent,u=new rh(n,o.ir),c=u.sc(o.documents),f=cl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=u.applyChanges(c,t.isPrimaryClient,f),Ih(t,r,h.cc),d=new ih(n,r,u),e.abrupt("return",(t.wc.set(n,d),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return(hh=l(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fa(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Ys(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Nc(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),rf(r.remoteStore,i.targetId),Th(r,i.targetId)})).catch(vo);case 9:e.next=14;break;case 11:return Th(r,i.targetId),e.next=14,Nc(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=l(s().mark((function e(t,n,i){var a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jh(t),e.prev=1,e.next=4,function(e,t){var n,i,a=Fa(e),o=eo.now(),s=t.reduce((function(e,t){return e.add(t.key)}),du());return a.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=iu(),l=du();return a.Zi.getEntries(e,s).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(l=l.add(e))}))})).next((function(){return a.localDocuments.getOverlayedDocuments(e,u)})).next((function(i){n=i;var s,u=[],l=r(t);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=Fu(c,n.get(c.key).overlayedDocument);null!=f&&u.push(new zu(c.key,f,ls(f.value.mapValue),Lu.exists(!0)))}}catch(h){l.e(h)}finally{l.f()}return a.mutationQueue.addMutationBatch(e,o,u,t)})).next((function(t){i=t;var r=t.applyToLocalDocumentSet(n,l);return a.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((function(){return{batchId:i.batchId,changes:su(n)}}))}(a.localStore,n);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new No(Ja)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(a,o.batchId,i),e.next=9,Ah(a,o.changes);case 9:return e.next=11,wf(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=zf(e.t0,"Failed to persist write"),i.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ph.apply(this,arguments)}function vh(e,t){return mh.apply(this,arguments)}function mh(){return(mh=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa(t),e.prev=1,e.next=4,Cc(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(ja(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?ja(n.fc):e.removedDocuments.size>0&&(ja(n.fc),n.fc=!1))})),e.next=8,Ah(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vo(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gh(e,t,n){var i=Fa(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var a=[];i.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&a.push(r.snapshot)})),function(e,t){var n=Fa(e);n.onlineState=t;var i=!1;n.queries.forEach((function(e,n){var a,o=r(n.listeners);try{for(o.s();!(a=o.n()).done;){a.value.Mu(t)&&(i=!0)}}catch(s){o.e(s)}finally{o.f()}})),i&&Zf(n)}(i.eventManager,t),a.length&&i.dc.nu(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function yh(e,t,n){return bh.apply(this,arguments)}function bh(){return bh=l(s().mark((function e(t,n,r){var i,a,o,u,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fa(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new No(oo.comparator)).insert(o,cs.newNoDocument(o,to.min())),l=du().add(o),c=new ll(to.min(),new Map,new No(Ja),u,l),e.next=9,vh(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),Dh(i),e.next=16;break;case 14:return e.next=16,Nc(i.localStore,n,!1).then((function(){return Th(i,n,r)})).catch(vo);case 16:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t){return kh.apply(this,arguments)}function kh(){return(kh=l(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fa(t),i=n.batch.batchId,e.prev=1,e.next=4,Sc(r.localStore,n);case 4:return a=e.sent,Ch(r,i,null),Eh(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ah(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vo(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xh(e,t,n){return Sh.apply(this,arguments)}function Sh(){return(Sh=l(s().mark((function e(t,n,r){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),e.prev=1,e.next=4,function(e,t){var n=Fa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ja(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ch(i,n,r),Eh(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ah(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vo(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Eh(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Ch(e,t,n){var r=Fa(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Th(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var i,a=r(e._c.get(t));try{for(a.s();!(i=a.n()).done;){var o=i.value;e.wc.delete(o),n&&e.dc.Pc(o,n)}}catch(s){a.e(s)}finally{a.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||_h(e,t)}))}function _h(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(rf(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Dh(e))}function Ih(e,t,n){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;o instanceof th?(e.Ic.addReference(o.key,t),Nh(e,o)):o instanceof nh?(La("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||_h(e,o.key)):Ma()}}catch(s){a.e(s)}finally{a.f()}}function Nh(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(La("SyncEngine","New document in limbo: "+n),e.mc.add(r),Dh(e))}function Dh(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new oo(ro.fromString(t)),r=e.Ac.next();e.yc.set(r,new ah(n)),e.gc=e.gc.insert(n,r),nf(e.remoteStore,new Yl(Ks(Us(n.path)),r,"TargetPurposeLimboResolution",bo.ct))}}function Ah(e,t,n){return Lh.apply(this,arguments)}function Lh(){return Lh=l(s().mark((function e(t,n,i){var a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Fa(t),o=[],u=[],c=[],e.t0=a.wc.isEmpty(),e.t0){e.next=9;break}return a.wc.forEach((function(e,t){c.push(a.Rc(t,n,i).then((function(e){if((e||i)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=gc.Li(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return a.dc.nu(o),e.next=9,function(){var e=l(s().mark((function e(t,n){var i,a,o,u,l,c,f,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fa(t),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return go.forEach(n,(function(t){return go.forEach(t.Fi,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return go.forEach(t.Bi,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),yo(e.t0)){e.next=10;break}throw e.t0;case 10:La("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=r(n);try{for(a.s();!(o=a.n()).done;)u=o.value,l=u.targetId,u.fromCache||(c=i.Ji.get(l),f=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(f),i.Ji=i.Ji.insert(l,h))}catch(s){a.e(s)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Ph(e,t){return Rh.apply(this,arguments)}function Rh(){return(Rh=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fa(t)).currentUser.isEqual(n)){e.next=11;break}return La("SyncEngine","User change. New user:",n.toKey()),e.next=5,kc(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Ua(Va.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ah(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oh(e,t){var n=Fa(e),i=n.yc.get(t);if(i&&i.fc)return du().add(i.key);var a=du(),o=n._c.get(t);if(!o)return a;var s,u=r(o);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=n.wc.get(l);a=a.unionWith(c.view.nc)}}catch(f){u.e(f)}finally{u.f()}return a}function Mh(e){var t=Fa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yh.bind(null,t),t.dc.nu=Xf.bind(null,t.eventManager),t.dc.Pc=Jf.bind(null,t.eventManager),t}function jh(e){var t=Fa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xh.bind(null,t),t}var Fh=function(){function e(){N(this,e),this.synchronizeTabs=!1}return A(e,[{key:"initialize",value:function(){var e=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=qc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return wc(this.persistence,new yc,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new pc(mc.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Rc}},{key:"terminate",value:function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vh=function(){function e(){N(this,e)}return A(e,[{key:"initialize",value:function(){var e=l(s().mark((function e(t,n){var r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ph.bind(null,this.syncEngine),e.next=12,Mf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Kf}},{key:"createDatastore",value:function(e){var t,n=qc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bc(t));return function(e,t,n,r){return new Yc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gh(o.syncEngine,e,0)},a=Mc.D()?new Mc:new Oc,new Xc(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new oh(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=l(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fa(t),La("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,ef(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Uh=function(){function e(t){N(this,e),this.observer=t,this.muted=!1}return A(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Pa("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),zh=function(){function e(t,n,r,i){var a=this;N(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ia.UNAUTHENTICATED,this.clientId=Xa.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return La("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return La("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return A(e,[{key:"getConfiguration",value:function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ua(Va.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(l(s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=zf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Bh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),La("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,kc(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function qh(e,t){return Hh.apply(this,arguments)}function Hh(){return(Hh=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Gh(t);case 3:return r=e.sent,La("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Rf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Rf(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(e){return"FirebaseError"===e.name?e.code===Va.FAILED_PRECONDITION||e.code===Va.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Gh(e){return Qh.apply(this,arguments)}function Qh(){return(Qh=l(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return La("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Bh(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Kh(n=e.t0)){e.next=13;break}throw n;case 13:return Ra("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Bh(t,new Fh);case 16:e.next=21;break;case 18:return La("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Bh(t,new Fh);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Yh(e){return $h.apply(this,arguments)}function $h(){return($h=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return La("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,qh(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return La("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,qh(t,new Vh);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e){return Yh(e).then((function(e){return e.syncEngine}))}function Jh(e){return Zh.apply(this,arguments)}function Zh(){return(Zh=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sh.bind(null,n.syncEngine),r.onUnlisten=fh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new za;return e.asyncQueue.enqueueAndForget(l(s().mark((function i(){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Uh({next:function(n){t.enqueueAndForget((function(){return Yf(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ua(Va.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new eh(n,a,{includeMetadataChanges:!0,Ku:!0});return Gf(e,o)},i.next=3,Jh(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function td(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var nd=new Map;function rd(e,t,n){if(!n)throw new Ua(Va.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function id(e){if(!oo.isDocumentKey(e))throw new Ua(Va.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ad(e){if(oo.isDocumentKey(e))throw new Ua(Va.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function od(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ma()}function sd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ua(Va.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=od(e);throw new Ua(Va.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var ud=function(){function e(t){var n,r;if(N(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ua(Va.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ua(Va.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ua(Va.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=td(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ua(Va.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ua(Va.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ua(Va.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return A(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),ld=function(){function e(t,n,r,i){N(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ud({}),this._settingsFrozen=!1}return A(e,[{key:"app",get:function(){if(!this._app)throw new Ua(Va.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ua(Va.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ud(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wa;switch(e.type){case"firstParty":return new Ga(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ua(Va.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=nd.get(e);t&&(La("ComponentProvider","Removing Datastore"),nd.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function cd(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sd(e,ld))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Ia.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[O(JSON.stringify({alg:"none",type:"JWT"})),O(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Ua(Va.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ia(l)}e._authCredentials=new qa(new Ba(s,u))}}var fd=function(){function e(t,n,r){N(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return A(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dd(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hd=function(){function e(t,n,r){N(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return A(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dd=function(e){C(n,e);var t=_(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this,e,r,Us(i)))._path=i,a.type="collection",a}return A(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fd(this.firestore,null,new oo(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hd);function pd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Q(e),rd("collection","path",t),e instanceof ld){var a=ro.fromString.apply(ro,[t].concat(r));return ad(a),new dd(e,null,a)}if(!(e instanceof fd||e instanceof dd))throw new Ua(Va.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ro.fromString.apply(ro,[t].concat(r)));return ad(o),new dd(e.firestore,null,o)}function vd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Q(e),1===arguments.length&&(t=Xa.A()),rd("doc","path",t),e instanceof ld){var a=ro.fromString.apply(ro,[t].concat(r));return id(a),new fd(e,null,new oo(a))}if(!(e instanceof fd||e instanceof dd))throw new Ua(Va.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ro.fromString.apply(ro,[t].concat(r)));return id(o),new fd(e.firestore,e instanceof dd?e.converter:null,new oo(o))}var md=function(){function e(){var t=this;N(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Hc(this,"async_queue_retry"),this.Xc=function(){var e=Wc();e&&La("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=Wc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return A(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=Wc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new za;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=l(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),yo(e.t0)){e.next=12;break}throw e.t0;case 12:La("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Pa("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Uf.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Ma()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=r(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,i=r(t.zc);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(o){i.e(o)}finally{i.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();var gd=function(e){C(n,e);var t=_(n);function n(e,r,i,a){var o;return N(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new md,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return A(n,[{key:"_terminate",value:function(){return this._firestoreClient||bd(this),this._firestoreClient.terminate()}}]),n}(ld);function yd(e){return e._firestoreClient||bd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bd(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new qo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,td(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zh(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var wd=function(){function e(t){N(this,e),this._byteString=t}return A(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mo.fromBase64String(t))}catch(t){throw new Ua(Va.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mo.fromUint8Array(t))}}]),e}(),kd=function(){function e(){N(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ua(Va.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ao(n)}return A(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var xd=A((function e(t){N(this,e),this._methodName=t})),Sd=function(){function e(t,n){if(N(this,e),!isFinite(t)||t<-90||t>90)throw new Ua(Va.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ua(Va.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return A(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ja(this._lat,e._lat)||Ja(this._long,e._long)}}]),e}(),Ed=/^__.*__$/,Cd=function(){function e(t,n,r){N(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}]),e}(),Td=function(){function e(t,n,r){N(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return new zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function _d(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ma()}}var Id=function(){function e(t,n,r,i,a,o){N(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return A(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Wd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_d(this.ca)&&Ed.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),Nd=function(){function e(t,n,r){N(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||qc(t)}return A(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Id({ca:e,methodName:t,ga:n,path:ao.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Dd(e){var t=e._freezeSettings(),n=qc(e._databaseId);return new Nd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ad(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.ya(o.merge||o.mergeFields?2:0,t,n,a);Vd("Data must be an object, but it was:",s,i);var u,l,c=jd(i,s);if(o.merge)u=new Ro(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){var f,h=[],d=r(o.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=Ud(t,f.value,n);if(!s.contains(p))throw new Ua(Va.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));qd(h,p)||h.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new Ro(h),l=s.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,l=s.fieldTransforms;return new Cd(new us(c),u,l)}var Ld=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(xd);function Pd(e,t,n,r){var i=e.ya(1,t,n);Vd("Data must be an object, but it was:",i,r);var a=[],o=us.empty();_o(r,(function(e,r){var s=Bd(t,e,n);r=Q(r);var u=i.da(s);if(r instanceof Ld)a.push(s);else{var l=Md(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Ro(a);return new Td(o,s,i.fieldTransforms)}function Rd(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[Ud(t,r,n)],u=[i];if(a.length%2!=0)throw new Ua(Va.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Ud(t,a[l])),u.push(a[l+1]);for(var c=[],f=us.empty(),h=s.length-1;h>=0;--h)if(!qd(c,s[h])){var d=s[h],p=u[h];p=Q(p);var v=o.da(d);if(p instanceof Ld)c.push(d);else{var m=Md(p,v);null!=m&&(c.push(d),f.set(d,m))}}var g=new Ro(c);return new Td(f,g,o.fieldTransforms)}function Od(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Md(n,e.ya(r?4:3,t))}function Md(e,t){if(Fd(e=Q(e)))return Vd("Unsupported field value:",t,e),jd(e,t);if(e instanceof xd)return function(e,t){if(!_d(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,i=[],a=0,o=r(e);try{for(o.s();!(n=o.n()).done;){var s=Md(n.value,t.wa(a));null==s&&(s={nullValue:"NULL_VALUE"}),i.push(s),a++}}catch(u){o.e(u)}finally{o.f()}return{arrayValue:{values:i}}}(e,t)}return function(e,t){if(null===(e=Q(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=eo.fromDate(e);return{timestampValue:Sl(t.serializer,n)}}if(e instanceof eo){var r=new eo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sl(t.serializer,r)}}if(e instanceof Sd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wd)return{bytesValue:El(t.serializer,e._byteString)};if(e instanceof fd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:_l(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(od(e)))}(e,t)}function jd(e,t){var n={};return Io(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_o(e,(function(e,r){var i=Md(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof eo||e instanceof Sd||e instanceof wd||e instanceof fd||e instanceof xd)}function Vd(e,t,n){if(!Fd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=od(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ud(e,t,n){if((t=Q(t))instanceof kd)return t._internalPath;if("string"==typeof t)return Bd(e,t);throw Wd("Field path arguments must be of type string or ",e,!1,void 0,n)}var zd=new RegExp("[~\\*/\\[\\]]");function Bd(e,t,n){if(t.search(zd)>=0)throw Wd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return k(kd,I(t.split(".")))._internalPath}catch(r){throw Wd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wd(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Ua(Va.INVALID_ARGUMENT,s+e+u)}function qd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hd=function(){function e(t,n,r,i,a){N(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return A(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Kd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Kd=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){return S(x(n.prototype),"data",this).call(this)}}]),n}(Hd);function Gd(e,t){return"string"==typeof t?Bd(e,t):t instanceof kd?t._internalPath:t._delegate._internalPath}function Qd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ua(Va.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yd=A((function e(){N(this,e)})),$d=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n)}(Yd);function Xd(e,t){for(var n=[],i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];t instanceof Yd&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Zd})).length,n=e.filter((function(e){return e instanceof Jd})).length;if(t>1||t>0&&n>0)throw new Ua(Va.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(a));var s,u=r(n);try{for(u.s();!(s=u.n()).done;){e=s.value._apply(e)}}catch(l){u.e(l)}finally{u.f()}return e}var Jd=function(e){C(n,e);var t=_(n);function n(e,r,i){var a;return N(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return A(n,[{key:"_apply",value:function(e){var t=this._parse(e);return ip(e._query,t),new hd(e.firestore,e.converter,Gs(e._query,t))}},{key:"_parse",value:function(e){var t=Dd(e.firestore),n=function(e,t,n,i,a,o,s){var u;if(a.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ua(Va.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){rp(s,o);var l,c=[],f=r(s);try{for(f.s();!(l=f.n()).done;){var h=l.value;c.push(np(i,e,h))}}catch(d){f.e(d)}finally{f.f()}u={arrayValue:{values:c}}}else u=np(i,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rp(s,o),u=Od(n,"where",s,"in"===o||"not-in"===o);return gs.create(a,o,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($d);var Zd=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return A(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ys.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,i=e,a=r(t.getFlattenedFilters());try{for(a.s();!(n=a.n()).done;){var o=n.value;ip(i,o),i=Gs(i,o)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new hd(e.firestore,e.converter,Gs(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yd);var ep=function(e){C(n,e);var t=_(n);function n(e,r){var i;return N(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return A(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ps(t,n);return function(e,t){if(null===Bs(e)){var n=Ws(e);null!==n&&ap(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hd(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($d);function tp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Gd("orderBy",e);return ep._create(n,t)}function np(e,t,n){if("string"==typeof(n=Q(n))){if(""===n)throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qs(t)&&-1!==n.indexOf("/"))throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ro.fromString(n));if(!oo.isDocumentKey(r))throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return es(e,new oo(r))}if(n instanceof fd)return es(e,n._key);throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(od(n),"."))}function rp(e,t){if(!Array.isArray(e)||0===e.length)throw new Ua(Va.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ip(e,t){if(t.isInequality()){var n=Ws(e),i=t.field;if(null!==n&&!n.isEqual(i))throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(i.toString(),"'"));var a=Bs(e);null!==a&&ap(e,i,a)}var o=function(e,t){var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var a,o=r(n.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t.indexOf(s.op)>=0)return s.op}}catch(u){o.e(u)}finally{o.f()}}}catch(u){i.e(u)}finally{i.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new Ua(Va.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ua(Va.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(o.toString(),"' filters."))}function ap(e,t,n){if(!n.isEqual(t))throw new Ua(Va.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var op=function(){function e(){N(this,e)}return A(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ma()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return _o(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Sd(Vo(e.latitude),Vo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Bo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wo(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Fo(e);return new eo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ro.fromString(e);ja(Ql(n));var r=new Ho(n.get(1),n.get(3)),i=new oo(n.popFirst(5));return r.isEqual(t)||Pa("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function sp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var up=function(){function e(t,n){N(this,e),this.hasPendingWrites=t,this.fromCache=n}return A(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),lp=function(e){C(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return N(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return A(n,[{key:"exists",value:function(){return S(x(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Hd),cp=function(e){C(n,e);var t=_(n);function n(){return N(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S(x(n.prototype),"data",this).call(this,e)}}]),n}(lp),fp=function(){function e(t,n,r,i){N(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new up(i.hasPendingWrites,i.fromCache),this.query=r}return A(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new cp(n._firestore,n._userDataWriter,r.key,r,new up(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ua(Va.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new cp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new cp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new up(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hp(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function hp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ma()}}var dp=function(e){C(n,e);var t=_(n);function n(e){var r;return N(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new wd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fd(this.firestore,null,t)}}]),n}(op);function pp(e){e=sd(e,hd);var t=sd(e.firestore,gd),n=yd(t),r=new dp(t);return Qd(e._query),ed(n,e._query).then((function(n){return new fp(t,r,e,n)}))}function vp(e,t,n){e=sd(e,fd);for(var r=sd(e.firestore,gd),i=Dd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return yp(r,[("string"==typeof(t=Q(t))||t instanceof kd?Rd(i,"updateDoc",e._key,t,n,o):Pd(i,"updateDoc",e._key,t)).toMutation(e._key,Lu.exists(!0))])}function mp(e){return yp(sd(e.firestore,gd),[new Gu(e._key,Lu.none())])}function gp(e,t){var n=sd(e.firestore,gd),r=vd(e),i=sp(e.converter,t);return yp(n,[Ad(Dd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lu.exists(!1))]).then((function(){return r}))}function yp(e,t){return function(e,t){var n=new za;return e.asyncQueue.enqueueAndForget(l(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dh,r.next=3,Xh(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(yd(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Na=e}("9.23.0"),Oe(new Y("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new gd(new Ha(e.getProvider("auth-internal")),new Ya(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ua(Va.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ze(_a,"3.13.0",e),ze(_a,"3.13.0","esm2017")}();ze("firebase","9.23.0","app");var bp,wp,kp=function(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=Le.get(e);if(!t&&e===De&&U())return Ue();if(!t)throw Fe.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Me(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=V("firestore");a&&cd.apply(void 0,[i].concat(I(a)))}return i}(Ue({apiKey:"AIzaSyCOLpY8JeYlOO_E8vA09ljbiGHm7qXOX7k",authDomain:"spaced-repetition-a7207.firebaseapp.com",projectId:"spaced-repetition-a7207",storageBucket:"spaced-repetition-a7207.appspot.com",messagingSenderId:"756515527392",appId:"1:756515527392:web:ea6eb376fe2bb7fa148e85"})),xp=kp,Sp=(f(bp={default:"vocabulary",wordList:"word-list"},"wordList","academic-word-list-570"),f(bp,"missedWords","missing-word-list"),bp),Ep={get:function(){var e=arguments;return l(s().mark((function t(){var n,r,i,a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:Sp.default,r=!(e.length>1&&void 0!==e[1])||e[1],t.prev=2,i=[],a="object"==typeof r,1!=r&&!a){t.next=11;break}return t.next=8,pp(Xd(pd(xp,n),tp(a?r.by:"repetitiveTime","asc")));case 8:i=t.sent,t.next=14;break;case 11:return t.next=13,pp(pd(xp,n));case 13:i=t.sent;case 14:return o=[],i.forEach((function(e){o.push(d(d({},e.data()),{},{id:e.id}))})),console.log("+++++++++ GET DOCUMENTS SUCCESS ++++++++++"),t.abrupt("return",o);case 20:t.prev=20,t.t0=t.catch(2),alert("GET DATA FAILED: ",t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,20]])})))()},newWord:function(e){var t=arguments;return l(s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:Sp.default,n.prev=1,n.next=4,gp(pd(xp,r),e);case 4:return i=n.sent,console.log("++++++++++++ ADD NEW WORD SUCCESS ++++++++++++++"),n.abrupt("return",i.id);case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),alert("ADD NEW WORD FAIL ",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},updateWord:function(e,t){var n=arguments;return l(s().mark((function r(){var i,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.length>2&&void 0!==n[2]?n[2]:Sp.default,r.prev=1,a=vd(xp,i,e),r.next=5,vp(a,t);case 5:console.log("+++++++ UPDATE NEW WORD SUCCESS +++++++++"),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),alert("Error UPDATE document: ",r.t0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},deleteWord:function(){var e=arguments;return l(s().mark((function t(){var n,r,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"H4mqf7V9Mx0mo3kMBVwH",r=e.length>1&&void 0!==e[1]?e[1]:Sp.default,t.prev=2,i=vd(xp,r,n),t.next=6,mp(i);case 6:console.log("++++++++++ DELETE WORD SUCCESS ++++++++++"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),alert("DELETE WORD FAILED: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},deleteAllDocuments:function(e){return l(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pp(Xd(pd(xp,e)));case 3:return n=t.sent,r=[],n.forEach((function(e){r.push(mp(e.ref))})),t.next=8,Promise.all(r);case 8:console.log("X\xf3a t\u1ea5t c\u1ea3 t\xe0i li\u1ec7u th\xe0nh c\xf4ng!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("L\u1ed7i khi x\xf3a t\xe0i li\u1ec7u:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},Cp=Ep;function Tp(e){var t=e/1e3,n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60),a=Math.floor(t%60);return{days:n,hours:r,minutes:i,seconds:a,toString:function(e){var t=e.seconds,o=void 0===t||t,s=e.minutes,u=void 0===s||s,l=e.hours,c=void 0===l||l,f=e.days,h=void 0===f||f,d=(e.months,e.years,"");return n>0&&!0===h&&(d+=n+"d "),r>0&&!0===c&&(d+=r+"h "),i>0&&!0===u&&(d+=i+"min "),a>0&&!0===o&&(d+=a+" seconds "),d.trim()}}}var _p=(f(wp={normal:[432e5,2592e5,5184e5,1296e6,2592e6,432e7,5184e6,5184e6]},"normal",[432e5,2592e5,5184e5,1296e6,864e6,2592e6,31104e5,432e7]),f(wp,"normal",[.5,3.5,7.5,16,10,35,40,60].map((function(e){return 24*e*60*60*1e3}))),f(wp,"fibocinacy",[]),wp),Ip={noun:"n",verb:"v",adverb:"adv",adjective:"a"},Np={get:function(e,t){var n=this;return l(s().mark((function t(){var r,i,a,o,u,l,c,f,h,v,m,g,y,b,w,k,x,S,E,C,T,_,N,D,A,L,P,R,O;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="",t.next=3,Promise.all([fetch("https://api.dictionaryapi.dev/api/v2/entries/en/"+e),n._getVerbFormAndPhrase(e),Ap.get({word:e}),Dp(e,"sp"),Dp(e,"ml")]);case 3:if(a=t.sent,o=p(a,5),u=o[0],l=p(o[1],2),c=l[0],f=l[1],h=o[2],v=o[3],m=o[4],null!==(r=h.pronunciation)&&void 0!==r&&r.all||!(e.split(" ").length>=2)){t.next=18;break}return g=e.split(" ").map((function(e){return Ap.get({word:e})})),t.next=16,Promise.all(g);case 16:y=t.sent,i=y.map((function(e){var t;return(null===(t=e.pronunciation)||void 0===t?void 0:t.all)||e.pronunciation||""})).join(" ");case 18:return t.next=20,u.json();case 20:if(!((b=t.sent)&&b.length>0||i)){t.next=26;break}return P=i||(null===(w=h.pronunciation)||void 0===w?void 0:w.all)||b[0].phonetic&&(null===(k=b[0].phonetic)||void 0===k?void 0:k.replace(/[\[\]+=\-_:\/]/g,""))||"",R=(null===h||void 0===h||null===(x=h.results)||void 0===x?void 0:x.length)>0?null===h||void 0===h?void 0:h.results[0].definition:null!==(S=b[0])&&void 0!==S&&S.meanings&&(null===(E=b[0])||void 0===E?void 0:E.meanings.length)>0?null===(C=b[0])||void 0===C||null===(T=C.meanings[0])||void 0===T||null===(_=T.definitions[0])||void 0===_?void 0:_.definition:"",O=i&&I(new Set(null===Ap||void 0===Ap?void 0:Ap._getTypeWords(h))).join(" ")||(null===(N=b[0])||void 0===N?void 0:N.meanings)&&(null===(D=b[0])||void 0===D?void 0:D.meanings.length)>0&&Ip[null===(A=b[0])||void 0===A||null===(L=A.meanings[0])||void 0===L?void 0:L.partOfSpeech]||"",t.abrupt("return",d(d({},b[0]),{},{phonetic:P,meaning:R,typeWord:O.trim(),spellLike:v.slice(1,5)||[],similarMeaning:m.slice(0,4)||[],verbForm:c,phrases:f}));case 26:return t.abrupt("return",{});case 27:case"end":return t.stop()}}),t)})))()},_getVerbFormAndPhrase:function(e){return l(s().mark((function t(){var n,r,i,a,o,u,l,c,f,h,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="5zpao24y4qxsjz3ztg5l5fr4z2opf8sh8y6w0xx1qctbzla1n",r="https://api.wordnik.com/v4/word.json",t.prev=2,t.next=5,Promise.all([fetch("".concat(r,"/").concat(e,"/relatedWords?api_key=").concat(n)),fetch("".concat(r,"/").concat(e,"/phrases?api_key=").concat(n))]);case 5:return i=t.sent,a=p(i,2),o=a[0],u=a[1],t.next=11,o.json();case 11:return l=t.sent,t.next=14,u.json();case 14:if(c=t.sent,!(null!==l&&void 0!==l&&l.message||null!==c&&void 0!==c&&c.message)){t.next=17;break}return t.abrupt("return",[[],[]]);case 17:return f=l.filter((function(e){return"verb-form"===e.relationshipType})),h=f.length>0&&f[0].words,d=c.slice(0,5),t.abrupt("return",[h,d]);case 23:return t.prev=23,t.t0=t.catch(2),console.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i:",t.t0),t.abrupt("return",[!1,!1]);case 27:case"end":return t.stop()}}),t,null,[[2,23]])})))()}},Dp=function(){var e=l(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.datamuse.com/words",r="?".concat(n,"=").concat(t),e.prev=2,e.next=5,fetch("https://api.datamuse.com/words"+r);case 5:return i=e.sent,e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",a||[]);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),Ap={get:function(e){return l(s().mark((function t(){var n,r,i,a,o,u,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.word,r=void 0===n?"":n,i=e.endpoint,a=void 0===i?"":i,"https://wordsapiv1.p.rapidapi.com/words/","6a5a523df8msh510d7c9ce044633p1fb096jsnb3471c934428",o={method:"GET",headers:{"X-RapidAPI-Key":"6a5a523df8msh510d7c9ce044633p1fb096jsnb3471c934428","X-RapidAPI-Host":"wordsapiv1.p.rapidapi.com"}},t.prev=4,t.next=7,fetch("".concat("https://wordsapiv1.p.rapidapi.com/words/").concat(r,"/").concat(a),o);case 7:return u=t.sent,t.next=10,u.json();case 10:return l=t.sent,t.abrupt("return",l);case 14:t.prev=14,t.t0=t.catch(4),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()},getWordDetail:function(e,t){var n=this;return l(s().mark((function r(){var i,a,o,u,l,c,f;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(i=t||{}).endpoint,o=void 0===a?"examples":a,u=i.limitResults,l=void 0===u?5:u,r.next=3,n.get({word:e,endpoint:o});case 3:return c=r.sent,f=c[o]&&c[o].slice(0,l)||[],r.abrupt("return",f);case 6:case"end":return r.stop()}}),r)})))()},_getTypeWords:function(e){var t;return null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.map((function(e){return Ip[e.partOfSpeech]}))}},Lp=Np,Pp=function(){var e=l(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lp.get(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",{});case 5:return r=n.phonetic||"",i=n.meaning||"",a=n.typeWord||"",e.abrupt("return",d(d({},n),{},{spelling:r,meaning:i,typeWords:a}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rp=function(){var e=l(s().mark((function e(t){var n,r,i,a,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return e.includes("=")?"sr-word-similar sr-cl-secondary":e.includes("+")?"sr-word-family sr-cl-primary":e.includes("-")?"sr-word-opposite sr-cl-danger":e.includes("_")||e.includes("~")?"sr-word-more sr-cl-green":""},n=/(<\/?\w+[^>]*>)|\s/g,r=t.split(n).filter(Boolean),i=r.map((function(e){return e.split(" ")})).flat().filter(Boolean),a=i.map(function(){var e=l(s().mark((function e(t){var n,r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/[:=\-+_]/,"=+-_",":",!(t.length>1&&("=+-_".includes(t[0])||":".includes(t[t.length-1])))){e.next=16;break}if(n=c(t),r=t.replace(/[+=\-_:\/]/g,"").trim(),i="",!t.includes(":")){e.next=15;break}return e.next=10,Pp(r.replace("&nbsp;",""));case 10:a=e.sent,o=a.spelling,a.meaning,u=a.typeWords,i="".concat(u&&'<span class="sr-examples-typeWord">('.concat(u,")</span>")," ").concat(o&&'<span class="sr-examples-spelling sr-cl-yellow">/'.concat(o,"/</span>"));case 15:return e.abrupt("return","".concat(n?'<span class="sr-examples-word '.concat(n,'">').concat(r,"</span>"):r," ").concat(i));case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(a);case 7:return o=e.sent,u=o.join(" "),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Op=Rp;function Mp(e,t){for(var n=t.toLowerCase(),r=e.toLowerCase(),i=n.split(/[,.| ]+/).reduce((function(e,t){return e.includes(t)?e:[].concat(I(e),[t])}),[]),a=r.split(/[,.| ]+/).reduce((function(e,t){return e.includes(t)?e:[].concat(I(e),[t])}),[]),o=0,s=0;s<a.length;s++)i.includes(a[s])&&o++;return o>=2}function jp(e,t){var n="",r="";if(e.length<t.length?(n=e,r=t):(n=t,r=e),n.length<=3)return!1;if(r.length-n.length>=5)return!1;if(r.includes(n))return!0;var i=function(e){for(var t=e.split(""),n=[],r=0;r<t.length-1;r++){var i=t[r]+t[r+1];n.push(i)}return n}(n);return i.filter((function(e){var t=r.indexOf(e);if(t>=0)return r=r.slice(t),!0})).length/i.length>=.6||void 0}var Fp=function(e,t,n){for(var r=[],i=0;i<e.length&&!(r.length>=10);i++){var a=e[i],o=t.toLowerCase(),s=a.voca.toLowerCase();if(o===s)return!1;var u=jp(o,s),l=Mp(n,a.translate),c=u&&l?0:u?1:l?2:-1;c>=0&&r.push({id:a.id,voca:a.voca,translate:a.translate,spelling:a.spelling,typeWords:a.typeWords,_typeSimilar:c})}return r.slice(0,10)},Vp=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).typeOf,n=void 0===t?[]:t;function r(){var t=localStorage.getItem(e);return JSON.parse(t)||n}return{setData:function(t){localStorage.setItem(e,JSON.stringify(t))},saveItem:function(e){var t=r()||n,i=t.findIndex((function(t){return t.id===e.id}));i>=0?t[i]=e:t.push(e),this.setData(t)},getItem:function(e){var t=r();return t?t[e]:null},getAllItems:function(){return r()},updateItem:function(e){var t=r();t&&t[e.id]&&(t[e.id]=e,this.setData(t))},deleteItem:function(e){var t=r();t&&t[e]&&(delete t[e],this.setData(t))},clearAllItems:function(){localStorage.removeItem(e)}}},Up="SR_MISSED_WORDS",zp=Vp("SR_CONFIGS",{typeOf:{}}),Bp=Vp,Wp=n(184);var qp=function(e){var t=e.handleKeyDown,n=p((0,i.useState)(""),2),r=n[0],a=n[1];return(0,Wp.jsx)("div",{style:{display:"flex"},children:(0,Wp.jsx)("input",{type:"text",className:"sr-create-sentence-input",value:r,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){t(e,a)}})})};function Hp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Kp=["size","style"];var Gp=function(e){var t=e.size,n=void 0===t?"":t,r=e.style,i=Hp(e,Kp);return(0,Wp.jsx)("span",d({style:d({"--size":n},r),className:"sr-loader"},i))},Qp=function(e,t,n){var r=e;return[{from:"&*",to:"+ + + + +"},{from:'<span <span="" class="sr-examples-word sr-word-similar sr-cl-secondary"> style"fontweight </span>',to:""},{from:'<span <span="" class="sr-examples-word sr-word-similar sr-cl-secondary">style"backgroundcolor</span>',to:""},{from:'var(--sr-white); <span class="sr-examples-word sr-word-opposite sr-cl-danger"> fontsize </span> var(--bs-body-font-size); <span class="sr-examples-word sr-word-opposite sr-cl-danger"> fontweight </span>',to:""},{from:'var(--sr-white);">',to:""},{from:'<span <span="" class="sr-examples-word sr-word-similar sr-cl-secondary"> style"backgroundcolor </span>',to:""},{from:"var(--bs-body-font-weight);",to:""},{from:'<span class="sr-examples-word sr-word-opposite sr-cl-danger"> textalign </span> var(--bs-body-text-align);"&gt;',to:""},{from:'color <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\'k\u0259l\u0259r/</span> red; cursor <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\'k\u025crs\u0259r/</span> pointer; transform <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/tr\xe6ns\'fo\u028arm/</span> translate(-3px, <span class="sr-examples-word sr-word-opposite sr-cl-danger">5px);</span>  "&gt;x',to:""},{from:'red; cursor <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /\'k\u025crs\u0259r/ </span> pointer; transform <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /tr\xe6ns\'fo\u028arm/ </span> translate(-3px, <span class="sr-examples-word sr-word-opposite sr-cl-danger"> 5px); </span> "&gt;x',to:""},{from:'color <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /\'k\u0259l\u0259r/ </span> red; cursor <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /\'k\u025crs\u0259r/ </span> pointer; transform <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /tr\xe6ns\'fo\u028arm/ </span> translate(-3px, <span class="sr-examples-word sr-word-opposite sr-cl-danger"> 5px); </span> "&gt;x',to:'"'},{from:'<span class="im-inliner-orig-text"> ',to:""},{from:' </span> <inliner class="im-inliner-dst-text" <span="">style"color   #109e36; <span class="sr-examples-word sr-word-opposite sr-cl-danger">paddingright</span>   8px;"&gt;',to:"_"},{from:'</span> <inliner class="im-inliner-dst-text" <span class="sr-examples-word sr-word-similar sr-cl-secondary">style"color</span>   #109e36; <span class="sr-examples-word sr-word-opposite sr-cl-danger">paddingright</span>   8px;">',to:"_"},{from:'<inliner style="',to:""},{from:'</span><inliner class="im-inliner-dst-text" style="color: #109e36; padding-right: 8px;">',to:""},{from:'color <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\'k\u0259l\u0259r/</span>',to:""},{from:'color <span class=" sr-examples-typeword"="">(n) <span class="sr-examples-spelling sr-cl-yellow">/\'k\u0259l\u0259r/</span> red;\n            cursor <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\'k\u025crs\u0259r/</span> pointer;',to:""},{from:'transform <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/tr\xe6ns\'fo\u028arm/</span> translate(-3px, <span class="sr-examples-word sr-word-opposite sr-cl-danger">5px);</span>  "&gt; x </inliner> </inliner>',to:""},{from:"&nbsp;",to:" "},{from:"<br>===New Info===<br>",to:""},{from:"$$$",to:"+".concat(t,"ed: ").concat(n," <br/>+").concat(t,"ing: ").concat(n)},{from:"$$",to:n},{from:"$",to:t}].forEach((function(e){var t=e.from,n=e.to;r=r.replaceAll(t,n)})),r},Yp={searchImages:function(e){return l(s().mark((function t(){var n,r,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.unsplash.com/search/photos?query="+encodeURIComponent(e)+"&client_id=zsMUHS8pQZvE08TWqjxDJSQa-MDY-v8cncBvNzaRmv8");case 2:return r=t.sent,t.next=5,r.json();case 5:return i=t.sent,a=(null===i||void 0===i||null===(n=i.results)||void 0===n?void 0:n.map((function(e){return{url:e.urls.small,alt:e.alt_description,color:e.color,user:{name:e.user.name}}})))||[],t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))()}};var $p=function(e){e.data;var t=e.selected,n=e.imageClick,r=e.isShow,a=void 0===r||r,o=e.searchValue,u=void 0===o?"":o,c=e.limit,f=void 0===c?5:c,h=p((0,i.useState)(a?zp.getAllItems().showGallery||!1:a),2),v=h[0],m=h[1],g=p((0,i.useState)([]),2),y=g[0],b=g[1],w=p((0,i.useState)(!1),2),k=w[0],x=w[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){if(""!==u.trim()){var e=function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Yp.searchImages(u);case 3:t=e.sent,b((function(e){return t.slice(0,f)})),x(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(v&&0===y.length||v&&a)&&e()}else b([])}),800);return function(){clearTimeout(e)}}),[u,v]),(0,i.useEffect)((function(){y.length>0&&n(y[0])}),[y]),(0,Wp.jsx)("div",{children:(0,Wp.jsxs)("div",{id:"sr-album",children:[v&&(0,Wp.jsx)("ul",{class:"stage",children:y&&(null===y||void 0===y?void 0:y.map((function(e){return(0,Wp.jsx)("li",{className:"image-wrapper",children:(0,Wp.jsx)("img",{className:"".concat(t===e.url?"sr-selected":""),src:e.url,alt:e.alt,onClick:function(){return n(e,{showGallery:m})}})})})))}),k&&(0,Wp.jsx)(Gp,{size:"30px"}),(0,Wp.jsxs)("div",{style:{height:"16px"},className:"sr-gallery-actions",children:[(0,Wp.jsx)("button",{style:{"--size":"14px"},className:"sr-gallery-btn sr-circle-btn sr-bg-secondary",onClick:function(){m((function(e){if(!0===a){var t=d(d({},zp.getAllItems()),{},{showGallery:!e});zp.setData(t)}return!e}))}}),(0,Wp.jsx)("button",{style:{"--size":"14px"},className:"sr-gallery-btn sr-circle-btn sr-bg-primary"+"".concat(""===t?" no-image":""),onClick:function(){return n({})}})]})]})})},Xp=!!window.location.hostname.includes("tai-thai.github.io"),Jp={reminder:"REMINDER",id:"gmjojpondhajliegnnlhnfhkngibjjbl",sendMessage:function(e,t){var n,r,i,a;!Xp&&y&&null!==(n=chrome)&&void 0!==n&&null!==(r=n.runtime)&&void 0!==r&&r.sendMessage&&(null===(i=chrome)||void 0===i||null===(a=i.runtime)||void 0===a||a.sendMessage(this.id,e,(function(e){t&&t(e)})))}},Zp=Jp,ev="SEND_VOCAB_LIST_TO_EXTENSION",tv="GET_VOCAB_DATA_EXTENSION",nv="UPDATE_VOCAB_DATA_EXTENSION",rv="ADD_NEW_VOCAB_IN_DATA",iv="GET_DATA_LENGTH_OF_EXTENSION",av=["sr-similar-spelling-and-meaning","sr-similar-spelling","sr-similar-meaning sr-bg-danger","sr-word-synonym"],ov=function(e){var t,n,r=p((0,i.useState)({isShowInput:!1}),2),a=r[0],o=r[1],u=p((0,i.useState)([]),2),c=u[0],h=(u[1],p((0,i.useState)(!1),2)),v=h[0],m=h[1],y=p((0,i.useState)(e),2),b=y[0],w=y[1],k=p((0,i.useState)(!1),2),x=k[0],S=k[1],E=e.voca,C=e.translate,T=e.meaning,_=(e.imageInfo,e.examples,e.note,e.spacedRepetition,e.time),N=e.spelling,D=e.similar,A=e.typeWords,L=e.repetitiveTime,P=e.level,R=e.id,O=e.indexInData,M=e.setData,j=e.setMissedWords,F=e.setUpperDataSearch,V=e.indexInUpperData,U=e.searchText,z=e.data,B=e.simple,W=void 0!==B&&B,q=e.addEvent,H=void 0!==q&&q,K=p((0,i.useState)(!!U),2),G=K[0],Q=K[1],Y=p((0,i.useState)(D),2),$=Y[0],X=Y[1],J=p((0,i.useState)({similarMeaningWords:[],similarSoundWords:[]}),2),Z=J[0],ee=J[1],te=(0,i.useRef)(null),ne=((0,i.useRef)(null),L-(new Date).getTime()),re=(null===_||void 0===_?void 0:_.length)<=2;(0,i.useEffect)((function(){if(e.nextLevel&&ne<=0){var t=5*Math.random();setTimeout(l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)}))),t)}}),[e.nextLevel]),(0,i.useEffect)((function(){if((1===O||U)&&!e.nextLevel){var t=function(){var e=l(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Dp(E,"sp"),Dp(E,"ml")]);case 2:t=e.sent,n=p(t,2),r=n[0],i=n[1],ee({similarMeaningWords:null===i||void 0===i?void 0:i.slice(0,10),similarSoundWords:null===r||void 0===r?void 0:r.slice(1,10)});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}var n=function(e){"ArrowLeft"===e.key?ae():"ArrowRight"===e.key?ie():"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),Q((function(e){return!e})))};return 0===O&&!U&&H&&window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[O,H]);var ie=function(){var t=l(s().mark((function t(){var n,r,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(new Date).getTime(),r=[],i=P+1,P+1>=_p.normal.length?(console.log("===== RETURN LEVEL 7 => 7 ====="),r=[n,n+_p.normal[5]],i=7):r=[].concat(I(_),[n+_p.normal[P+1]]),a={time:r,level:i,repetitiveTime:r[r.length-1]},!g){t.next=8;break}return t.next=8,Cp.updateWord(R,a);case 8:return t.next=10,we(a,!0);case 10:M((function(t){var n=e.nextLevel?t.findIndex((function(e){return e.id===R})):O,r=[].concat(I(t),[d(d(d({},t[n]),a),{},{note:b.note,examples:b.examples})]);return r.splice(n,1),r}));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var e=l(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(new Date).getTime(),_,_.length,1,n={level:1,repetitiveTime:t+_p.normal[1]},!g){e.next=9;break}return e.next=9,Cp.updateWord(R,n);case 9:return e.next=11,we(n,!0);case 11:M((function(e){var t=d(d(d({},e[O]),n),{},{note:b.note,examples:b.examples}),r=[].concat(I(e),[t]);return ge(t),r.splice(O,1),r}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=l(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d({},z[O]),e.next=3,ge(t);case 3:if(n=(new Date).getTime(),r=_p.normal[0],i={repetitiveTime:n+r},!g){e.next=10;break}return e.next=10,Cp.updateWord(R,i);case 10:return e.next=12,we(i,!0);case 12:M((function(e){var t=d(d({},e[O]),i),n=[].concat(I(e),[t]);return ge(t),n.splice(O,1),n}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to remove it out of the database?")){e.next=7;break}if(!g){e.next=4;break}return e.next=4,Cp.deleteWord(R);case 4:M((function(e){var t=I(e);return t.splice(O,1),t})),e.next=8;break;case 7:console.log("Thing was not saved to the database.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var t=l(s().mark((function t(n){var r,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),n.stopPropagation(),r=n.target,e[r.id].trim()===r.innerText.trim()){t.next=12;break}if(i=f({},r.id,r.innerText),!g){t.next=8;break}return t.next=8,Cp.updateWord(R,i);case 8:return t.next=10,we(i);case 10:w((function(e){return d(d({},e),i)})),F&&F((function(e){return e[V][r.id]=r.innerText,e}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(e){e.stopPropagation(),"50"==e.keyCode&&ce(e,!1)},ce=function(){var e=l(s().mark((function e(t){var n,r,i,a,o,u,l,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],r=c.length>2&&void 0!==c[2]&&c[2],t.stopPropagation(),i=t.target,a=i.innerHTML,o=Qp(a,b.voca,b.translate),b[i.id].trim()===o.trim()){e.next=18;break}return e.next=9,Op(o);case 9:if(u=e.sent,l=f({},i.id,Qp(u,b.voca,b.translate)),!(n&&g&&r)){e.next=16;break}return e.next=14,Cp.updateWord(R,l);case 14:return e.next=16,we(l);case 16:r?(w((function(e){return d(d({},e),{},f({},i.id,u))})),M((function(e){return e[O]=d(d({},e[O]),l),e})),F&&V>=0&&F((function(e){var t=d(d({},e[V]),l);return e[V]=t,I(e)}))):t.target.innerHTML=u,r||setTimeout((function(){ce(t,n,!0)}),100);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=l(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fp(z,E,C),X(t),n={similar:t},!(g&&(null===t||void 0===t?void 0:t.length)>0)){e.next=6;break}return e.next=6,Cp.updateWord(R,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=I($)).splice(t,1),r={similar:n},X(n),!g){e.next=7;break}return e.next=7,Cp.updateWord(R,r);case 7:M((function(e){return e[O]=d(d({},e[O]),r),e}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=l(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=9;break}if(!(r=t.target.value.trim())){e.next=8;break}if(i={note:'<div class="sr-my-sentence"><span class="sr-symbol">&#9733;</span>'.concat(r,"</div> ").concat(b.note)},w((function(e){return d(d({},e),i)})),!g){e.next=8;break}return e.next=8,Cp.updateWord(R,i);case 8:n("");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=l(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Ap.getWordDetail(E);case 3:t=e.sent,(n=t.map((function(e){return"<div>- ".concat(e,"</div>")})).join(" ")||"")&&w((function(e){return d(d({},e),{},{examples:"".concat(e.examples?e.examples+"<br/>":"").concat(n)})})),m(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=l(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Ap.getWordDetail(E,{endpoint:"synonyms"});case 3:if(t=e.sent,n=t.map((function(e){return{_typeSimilar:3,typeWords:[],spelling:"",translate:"",voca:e}})),r=[].concat(I(n),I($)),X(r),m(!1),!(g&&(null===n||void 0===n?void 0:n.length)>0)){e.next=11;break}return e.next=11,Cp.updateWord(R,{similar:r});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,navigator.clipboard.readText();case 3:return n=e.sent,r=n.trim(),e.next=7,navigator.clipboard.writeText(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t?d(d({},t),{},{missedWordId:t.id}):d(d({},b),{},{missedWordId:b.id,data:null,setData:null,setMissedWords:null,setUpperDataSearch:null}),r=-1,"GRAMMAR"!==n.voca.toUpperCase().trim()){e.next=4;break}return e.abrupt("return",!1);case 4:if(!j){e.next=9;break}if(j((function(e){var t=I(e);return(r=t.findIndex((function(e){return e.missedWordId===n.id||e.voca.toLowerCase()===n.voca.toLowerCase()})))>=0?(t[r]=n,console.log("update missed word")):(t.push(n),console.log("push missed word")),t})),!(r<0&&g)){e.next=9;break}return e.next=9,Cp.newWord(d(d({},n),{},{timeAt:Date.now()}),Sp.missedWords);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=l(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("On double click image"),n={imageInfo:{}},!g){e.next=5;break}return e.next=5,Cp.updateWord(R,n);case 5:w((function(e){return d(d({},e),n)})),M((function(e){return e[O]=d(d({},e[O]),n),e})),F&&V>=0&&F((function(e){var t=d(d({},e[V]),n);return e[V]=t,I(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=l(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={imageInfo:d({},t)},!g){e.next=4;break}return e.next=4,Cp.updateWord(R,r);case 4:w((function(e){return d(d({},e),r)})),M((function(e){return e[O]=d(d({},e[O]),r),e})),F&&V>=0&&F((function(e){var t=d(d({},e[V]),r);return e[V]=t,I(e)})),n.showGallery((function(e){return!1}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=l(s().mark((function e(t){var n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,Zp.sendMessage({action:nv,moveToEndOfList:n,payload:d(d({},t),{},{id:b.id}),indexInData:b.indexInUpperData&&b.indexInUpperData>=0?b.indexInUpperData:b.indexInData});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=[{htmlSymbol:"&#10053;",handleClick:function(){var e=l(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new Date).getTime(),r=_p.normal[0],i={repetitiveTime:n+r},!g){e.next=7;break}return e.next=7,Cp.updateWord(R,i);case 7:M((function(e){var t=d(d({},e[O]),i),n=[].concat(I(e),[t]);return ge(t),n.splice(O,1),n}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{htmlSymbol:"&#9733;",handleClick:function(){o((function(e){return d(d({},e),{},{isShowInput:!e.isShowInput})}))}},{htmlSymbol:"&#8499;",handleClick:pe},{htmlSymbol:"&#9852;",handleClick:ve},{htmlSymbol:"&#9850;",handleClick:fe}];return(0,Wp.jsx)(Wp.Fragment,{children:e.nextLevel?(0,Wp.jsx)(Wp.Fragment,{}):(0,Wp.jsxs)("div",{ref:te,className:"sr-card sr-container ".concat(G&&"sr-show-detail-voca"," ").concat(W&&"sr-card-simple"," ").concat(re&&"sr-card-new-word"),"data-level":P,children:[(0,Wp.jsx)($p,{data:c,selected:null===b||void 0===b||null===(t=b.imageInfo)||void 0===t?void 0:t.url,imageClick:be,isShow:!1,searchValue:null===b||void 0===b?void 0:b.voca}),(0,Wp.jsxs)("div",{className:"sr-card-header",children:[(0,Wp.jsx)("h2",{id:"voca",className:"sr-title",contentEditable:"true",onBlur:ue,onKeyDown:function(e){return e.stopPropagation()},dangerouslySetInnerHTML:{__html:null===E||void 0===E?void 0:E.onHighlightText(U)}}),(0,Wp.jsx)("button",{onClick:function(){navigator.clipboard.writeText(E)},className:"sr-btn sr-html-symbol sr-html-symbol-btn sr-copy-btn",children:"\u274f"}),A&&A.length>0&&(0,Wp.jsx)("div",{className:"sr-type-word-container",children:"string"===typeof A?(0,Wp.jsxs)("span",{className:"type-words",children:["(",(0,Wp.jsx)("span",{id:"typeWords",children:A}),")"]}):A.map((function(e){return(0,Wp.jsxs)("span",{className:"type-words",children:["(",(0,Wp.jsx)("span",{id:"typeWords",children:e}),")"]})}))}),(0,Wp.jsxs)("span",{className:"spelling",children:["/",(0,Wp.jsx)("span",{id:"spelling",contentEditable:"true",onBlur:ue,onKeyDown:function(e){return e.stopPropagation()},dangerouslySetInnerHTML:{__html:(null===N||void 0===N?void 0:N.onHighlightText(U))||"spelling"}}),"/"]})]}),(0,Wp.jsx)("div",{children:(0,Wp.jsxs)("div",{children:[(0,Wp.jsx)("span",{id:"meaning",className:"note meaning",contentEditable:"true",onBlur:ue,onKeyDown:function(e){return e.stopPropagation()},dangerouslySetInnerHTML:{__html:null===T||void 0===T?void 0:T.onHighlightText(U)}}),(0,Wp.jsxs)(Wp.Fragment,{children:[(0,Wp.jsx)("span",{className:"sr-meaning-flag",children:"|"}),(0,Wp.jsx)("p",{id:"translate",className:"note sr-translate",contentEditable:"true",onBlur:ue,onKeyDown:function(e){return e.stopPropagation()},dangerouslySetInnerHTML:{__html:(null===C||void 0===C?void 0:C.onHighlightText(U))||"translate"}})]})]})}),(0,Wp.jsx)("div",{className:"sr-tag-words-container",children:$.map((function(e,t){return(0,Wp.jsx)("button",{className:"sr-btn sr-tag-word "+(av[e._typeSimilar]||""),"data-info":"".concat(e.typeWords," /").concat(e.spelling||"","/ ").concat(e.translate),onDoubleClick:function(){return he(t)},children:e.voca})}))}),(0,Wp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:"sr-flex-center sr-additional-actions",children:[ne>0?(0,Wp.jsx)("p",{class:"note remaining-time",onClick:function(){return Q(!G)},children:Tp(ne).toString({seconds:!1})}):(0,Wp.jsx)("p",{class:"note over-time",onClick:function(){return Q(!G)},children:"over time"}),(0,Wp.jsx)("div",{style:{flexWrap:"wrap"},className:"sr-flex-center",children:ke.map((function(e){return(0,Wp.jsx)("button",{onClick:e.handleClick,className:"sr-btn sr-card-similar-words sr-html-symbol sr-html-symbol-btn",dangerouslySetInnerHTML:{__html:e.htmlSymbol}})}))})]}),a.isShowInput&&(0,Wp.jsx)(qp,{handleKeyDown:de}),(0,Wp.jsxs)("div",{className:"sr-card-note-container",children:[(0,Wp.jsx)("div",{id:"note",className:"sr-note",contentEditable:"true",onFocus:me,onBlur:function(e){ce(e)},onKeyDown:le,dangerouslySetInnerHTML:{__html:b.note}}),(0,Wp.jsx)("div",{id:"examples",className:"example-container sr-example",contentEditable:"true",onFocus:me,onBlur:function(e){ce(e)},onKeyDown:le,dangerouslySetInnerHTML:{__html:b.examples}})]}),(0,Wp.jsxs)("div",{className:"sr-card-items-footer",children:[b.imageInfo&&(null===(n=b.imageInfo)||void 0===n?void 0:n.url)&&(0,Wp.jsxs)("div",{className:"sr-card-item-image-container",children:[x&&(0,Wp.jsx)("img",{className:"sr-card-item-image",src:b.imageInfo.url,alt:b.imageInfo.alt,onDoubleClick:ye}),(0,Wp.jsxs)("div",{className:"sr-card-item-image-description",onClick:function(){return S((function(e){return!e}))},children:["Photo on"," ",(0,Wp.jsx)("a",{src:"https://unsplash.com",children:"Unsplash"})]})]}),(0,Wp.jsxs)("div",{className:"card-actions",children:[(0,Wp.jsx)("button",{className:"sr-btn btn-outline sr-circle-btn sr-actions-delete","data-color":"orange",onClick:se,children:"\u2715"}),(0,Wp.jsx)("button",{className:"sr-btn sr-actions-prev btn-outline sr-circle-btn",onClick:ae,children:"\u21a2"}),(0,Wp.jsx)("button",{className:"sr-btn sr-actions-next sr-circle-btn",onClick:ie,children:"\u21a3"}),(0,Wp.jsx)("button",{className:"sr-btn sr-actions-next sr-circle-btn",onClick:oe,children:"\u2756"}),v&&(0,Wp.jsx)(Gp,{style:{marginLeft:"15px"},size:"50px"})]})]}),(0,Wp.jsx)("div",{children:Z.similarMeaningWords.length>0&&(0,Wp.jsxs)(Wp.Fragment,{children:[(0,Wp.jsx)("h4",{className:"sr-cl-primary",children:"Mean Like:"}),(0,Wp.jsx)("div",{children:Z.similarMeaningWords.map((function(e){return(0,Wp.jsx)("button",{style:{userSelect:"text",padding:"7px"},className:"sr-btn sr-bg-primary sr-cl-white",children:e.word})}))})]})}),(0,Wp.jsx)("div",{children:Z.similarSoundWords.length>0&&(0,Wp.jsxs)(Wp.Fragment,{children:[(0,Wp.jsx)("h4",{className:"sr-cl-primary",children:"Sound Like:"}),(0,Wp.jsx)("div",{children:Z.similarSoundWords.map((function(e){return(0,Wp.jsx)("button",{style:{userSelect:"text",padding:"7px"},className:"sr-btn sr-bg-secondary sr-cl-white",children:e.word})}))})]})})]})})};var sv=function(e){var t,n=e.searchValue,r=void 0===n?"":n,a=e.data,o=e.setData,u=e.setMissedWords,c=(e.showTitle,e.simpleSearch,e.componentItem),f=void 0===c?ov:c,h=(e.formCreateItemActiveId,p((0,i.useState)([]),2)),v=h[0],m=h[1],g=p((0,i.useState)(""),2),y=g[0],b=g[1],w=p((0,i.useState)(!1),2),k=w[0],x=w[1];(0,i.useEffect)((function(){var e=setTimeout((function(){var e=y.trim().toUpperCase()||r.trim().toUpperCase();if(e&&e.length>1&&a.length>0){var t=a.map((function(t,n){return t.voca.toUpperCase().includes(e)||t.note.toUpperCase().includes(e)||t.translate.toUpperCase().includes(e)?d(d({},t),{},{indexInData:n}):null})).filter(Boolean);m(t)}else e||m([])}),400);return function(){clearTimeout(e)}}),[r,y]);var S=function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return n=e.sent,r=n.trim(),t.target.value=r,e.next=7,navigator.clipboard.writeText(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Wp.jsxs)("div",{className:"sr-search-container",children:[(0,Wp.jsxs)("h2",{style:{width:"fit-content"},className:"sr-cl-secondary",onClick:function(){return x((function(e){return!e}))},children:["Search (",v.length,")"]}),(0,Wp.jsxs)(Wp.Fragment,{children:[k&&(0,Wp.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Wp.jsx)("input",{className:"sr-search-input",type:"text",value:y,onChange:function(e){return b(e.target.value)}}),(0,Wp.jsx)("input",{style:{width:"50px"},className:"sr-search-input",type:"text",placeholder:"copy",onBlur:function(e){return e.target.value=""},onFocus:S})]}),(0,Wp.jsx)("div",{className:"sr-search-results",children:v.length>0&&(null===(t=v.slice(0,10))||void 0===t?void 0:t.map((function(e,t){return(0,Wp.jsx)(f,d(d({},e),{},{indexInData:t,setData:m,setUpperDataSearch:o,setMissedWords:u,indexInUpperData:e.indexInData,searchText:y.trim(),data:a}),e.id+"search")})))})]})]})};var uv=function(e){var t=e.data;return(0,Wp.jsx)("div",{children:(0,Wp.jsx)("ul",{children:t.map((function(e){return(0,Wp.jsx)("li",{children:(0,Wp.jsxs)("p",{className:"sr-base-info",children:[e.level>3?"":e.voca," (","string"!==typeof e.typeWords&&e.typeWords.map((function(e){return e+" "})),") /"," ",(0,Wp.jsx)("span",{className:"sr-cl-yellow",children:e.spelling}),e,e.level<0||e.level>3?'[<span class="sr-cl-secondary">'.concat(e.translate,"</span>]"):""]})},"word-only"+e.id)}))})})};function lv(e){var t=e.setMiddle,n=e.data;return(0,Wp.jsx)("div",{className:"sr-flex-center sr-no-print",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:(0,Wp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:n.length/2,onBlur:function(e){return t(Number(e.target.value))}})})}function cv(e){var t,n=e.data,r=void 0===n?[]:n,i=e.from,a=e.to,o=e.setData,s=e.showRelateWords,u=e.rootData;return(0,Wp.jsx)("div",{id:"list-words sr-no-print",children:(0,Wp.jsx)("ul",{children:null===r||void 0===r||null===(t=r.slice(i,a))||void 0===t?void 0:t.map((function(e,t){return(0,Wp.jsx)(fv,d(d({},e),{},{showRelateWords:s,setData:o,from:i,to:a,index:t,rootData:u}),e.id+"list")}))})})}var fv=function(e){var t=p((0,i.useState)(e),2),n=t[0],r=t[1];(0,i.useEffect)((function(){if(e.showRelateWords){var t=function(){var t=l(s().mark((function t(){var n,i,a,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.rootData).length>0&&(i=Fp(n,e.voca,e.translate).map((function(e){return{similarType:e._typeSimilar,voca:e.voca,translate:e.translate,typeWords:e.typeWords}}))).length>0&&(a=["sr-cl-yellow","sr-cl-primary","sr-cl-secondary"],o=i.map((function(e){return'<span class="'.concat(a[e.similarType],'">').concat(e.voca,"</span> (").concat(e.typeWords,")")})).join(" / "),r((function(e){return d(d({},e),{},{note:"<div>".concat(o,"</div><div>").concat(e.note,"</div>")})})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[e.showRelateWords]);return(0,Wp.jsxs)("li",{children:[(0,Wp.jsxs)("p",{className:"sr-word-title",children:[n.voca," ("," ","string"!==typeof n.typeWords&&n.typeWords.map((function(e){return e+" "})),") /",(0,Wp.jsx)("span",{className:"sr-cl-yellow",children:n.spelling}),"/"," ",(0,Wp.jsx)("button",{className:"sr-print-word-delete sr-no-print",onClick:function(){return t=Math.floor(e.from+e.index),void e.setData((function(e){var n=I(e);return n.splice(t,1),n}));var t},children:"X"})," ",e.level," _ ",Math.floor(e.from+e.index+1)]}),(0,Wp.jsxs)("p",{className:"sr-max-line-2",children:["[",(0,Wp.jsx)("span",{className:"sr-cl-primary",children:n.translate}),"]"]}),(0,Wp.jsxs)("div",{className:"padding-left list-words-more-info",children:[n.note&&(0,Wp.jsx)("div",{className:"sr-word-addition sr-card-note-container",dangerouslySetInnerHTML:{__html:n.note}}),n.examples&&(0,Wp.jsx)("div",{className:"sr-word-addition sr-card-note-container",dangerouslySetInnerHTML:{__html:n.examples}})]})]})};var hv=function(e){var t=e.data,n=void 0===t?[]:t,r=e.from,a=e.to,o=p((0,i.useState)({from:r,to:a}),2),u=o[0],c=o[1],f=function(){var e=l(s().mark((function e(t){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!(n.length>0)){e.next=6;break}return r=n.slice(u.from,u.to).map((function(e){return e.voca})).join(", "),i="\n                    \u0110\u1eb7t c\xe2u cho nh\u1eefng t\u1eeb sau b\u1eb1ng ti\u1ebfng vi\u1ec7t y\xeau c\u1ea7u li\u1ec7t k\xea theo danh s\xe1ch sau \u0111\xf3 d\u1ecbch c\xe1c c\xe2u \u0111\xf3 b\u1eb1ng ti\u1ebfng anh \u1edf ph\xeda b\xean d\u01b0\u1edbi: ".concat(r,'\n\n                                \n                    Vd cho t\u1eeb Hello:\n                    1. Urge (V, n): \'T\xf4i khuy\xean b\u1ea1n n\xean \u0111i kh\xe1m b\xe1c s\u0129.\'\n                    <Khuy\xean nh\u1ee7, th\xfac gi\u1ee5c> /\u025c:d\u0292/\n                    Vd cho t\u1eeb Entrepreneur:\n                    2. Particular (A, n): "T\xf4i mu\u1ed1n bi\u1ebft th\xf4ng tin c\u1ee5 th\u1ec3 v\u1ec1 s\u1ea3n ph\u1ea9m n\xe0y."\n                    <C\u1ee5 th\u1ec3, \u0111\u1eb7c bi\u1ec7t> /p\u0259r\'t\u026akj\u0259l\u0259r/\n\n                    D\u1ecbch c\xe2u ti\u1ebfng vi\u1ec7t sang ti\u1ebfng anh:\n                    1. Urge (V, n) /\u025c:d\u0292/: "I urge you to go see a doctor."\n                    2. Particular (A, n) /p\u0259r\'t\u026akj\u0259l\u0259r/: "I want to know the particular information about this product." \n               '),e.next=6,navigator.clipboard.writeText(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Wp.jsxs)("div",{className:"sr-flex-center sr-no-print",style:{display:"inline-flex"},children:[(0,Wp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",background:"#1ac27d"},className:"sr-btn",onClick:f,children:"ChatGpt"}),(0,Wp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:[(0,Wp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:u.from,onBlur:function(e){return c((function(t){return d(d({},t),{},{from:Number(e.target.value)||r||0})}))}}),(0,Wp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:u.to,onBlur:function(e){return c((function(t){return d(d({},t),{},{to:Number(e.target.value)||a||20})}))}})]})]})},dv=function(e){var t=e.data,n=e.getWords,r=e.darkTheme,a=p((0,i.useState)([]),2),o=a[0],u=a[1],c=p((0,i.useState)(t),2),f=c[0],h=c[1],v=p((0,i.useState)(!0),2),m=v[0],g=v[1],y=p((0,i.useState)(!0),2),b=y[0],w=y[1],k=p((0,i.useState)(f.length/2),2),x=k[0],S=k[1],E=p((0,i.useState)({showItemsBy:{level:{from:0,to:7}},showRelateWords:!1}),2),C=E[0],T=E[1],_=p((0,i.useState)(!1),2),N=_[0],D=_[1],A=(0,i.useRef)(null),L=(n.to,(0,i.useRef)(null)),P=(new Date).toJSON().slice(0,10);(0,i.useEffect)((function(){Zp.sendMessage({action:tv},(function(e){e.data.length>0&&u(e.data)}))}),[]),(0,i.useEffect)((function(){h((function(e){var n=t.filter((function(e){return e.level>=C.showItemsBy.level.from&&e.level<=C.showItemsBy.level.to}));return S(n.length/2),n}))}),[C.showItemsBy.level.to,C.showItemsBy.level.from]),(0,i.useEffect)((function(){L.current&&L.current.scrollIntoView({behavior:"smooth"})}),[]),(0,i.useEffect)((function(){A.current&&A.current.scrollIntoView({behavior:"smooth"})}),[f]);var R=function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return n=e.sent,r=n.trim(),e.next=6,navigator.clipboard.writeText(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t,n){var r=e.target.innerHTML;f.forEach((function(e){r=r.onHighlightText(e.voca,(function(t){return"".concat(e.voca)}))})),e.target.innerHTML=r.replaceAll("<br>","")};return(0,Wp.jsx)(Wp.Fragment,{children:m&&(0,Wp.jsx)("div",{className:"sr-print-window"+(b?" sr-show-related-note":"")+(r?" sr-dark-mode":""),ref:L,children:(0,Wp.jsxs)("div",{className:"sr-print-window-container",children:[(0,Wp.jsxs)("p",{style:{display:"flex",alignItems:"center",marginLeft:"15px"},className:"sr-print-window-title",children:["Today: ",P," "]}),(0,Wp.jsxs)("div",{className:"sr-print-window-words-container",children:[(0,Wp.jsxs)("div",{className:"sr-print-list-word sr-show-detail-voca",children:[(0,Wp.jsx)(cv,{data:f,from:0,to:x,setData:h,showRelateWords:C.showRelateWords,rootData:o}),(0,Wp.jsx)(cv,{data:f,from:x,to:f.length,setData:h,showRelateWords:C.showRelateWords,rootData:o})]}),(0,Wp.jsx)(lv,{setMiddle:S,data:f}),(0,Wp.jsxs)("div",{ref:A,className:"sr-flex-center sr-no-print",children:[(0,Wp.jsxs)("div",{className:"sr-flex-center sr-no-print",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:[(0,Wp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:n.from,onBlur:function(e){T((function(t){return t.showItemsBy.level.from=Number(e.target.value)||0,d({},t)}))}}),(0,Wp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:7,onBlur:function(e){T((function(t){return t.showItemsBy.level.to=Number(e.target.value)||0,d({},t)}))}})]}),(0,Wp.jsx)("button",{style:{marginLeft:"15px"},className:"sr-btn btn-show-more sr-bg-primary sr-no-print sr-circle-btn",onClick:function(){return w((function(e){return!e}))},children:"\u268d"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-primary sr-circle-btn sr-no-print",onClick:function(){document.body.classList.add("sr-print-missed-words"),window.print(),window.addEventListener("afterprint",(function(){document.body.classList.remove("sr-print-missed-words")}))},children:"\u2117"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return g((function(e){return!e}))},children:"\u2716"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return function(){for(var e=I(f),t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}h(e)}()},children:"\ud83d\udd00"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return T((function(e){return d(d({},e),{},{showRelateWords:!e.showRelateWords})}))},children:"\ud83d\udd96"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return D((function(e){return!e}))},children:"\ud83d\udcc3"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",children:f.length})]}),N&&(0,Wp.jsx)(uv,{data:f}),console.log("sjlfjsadk"),(0,Wp.jsxs)("div",{style:{display:"flex",minWidth:"100%"},children:[(0,Wp.jsxs)("div",{children:[(0,Wp.jsx)(hv,{data:f,from:0,to:x}),(0,Wp.jsx)("div",{style:{padding:"5px"},onFocus:R,id:"sr-passage",className:"passage-container sr-passage",contentEditable:"true",onBlur:function(e){return O(e,0,f.length)}})]}),(0,Wp.jsxs)("div",{children:[(0,Wp.jsx)(hv,{data:f,from:x,to:f.length+1}),(0,Wp.jsx)("div",{style:{padding:"5px",marginLeft:"5px"},onFocus:R,id:"sr-passage",className:"passage-container sr-passage",contentEditable:"true",onBlur:function(e){return O(e,0,f.length)}})]})]})]})]})})})},pv=Bp(Up);pv.getAllItems,pv.clearAllItems,pv.saveItem;var vv=function(e){var t=e.data,n=e.setData,r=e.darkTheme,o=(e.setDarkTheme,e.handleShowVocab),u=p((0,i.useState)(!1),2),c=u[0],f=u[1],h=p((0,i.useState)({from:0,to:21}),2),v=h[0],m=h[1];(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cp.get(Sp.missedWords,{by:"timeAt"});case 2:t=e.sent,i=r(t),n(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(e){return e.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t}))};return g&&t.length<=0&&e(),function(){}}),[]);var y=function(){var e=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),n([]),!g){e.next=5;break}return e.next=5,Cp.deleteAllDocuments(Sp.missedWords);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=l(s().mark((function e(n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),!(t.length>0)){e.next=6;break}return r=t.slice(v.from,v.to).map((function(e){return e.voca})).join(", "),i="\n            \u0110\u1eb7t c\xe2u cho nh\u1eefng t\u1eeb sau b\u1eb1ng ti\u1ebfng vi\u1ec7t y\xeau c\u1ea7u li\u1ec7t k\xea theo danh s\xe1ch sau \u0111\xf3 d\u1ecbch c\xe1c c\xe2u \u0111\xf3 b\u1eb1ng ti\u1ebfng anh \u1edf ph\xeda b\xean d\u01b0\u1edbi: ".concat(r,'\n            \n            Vd cho t\u1eeb Hello:\n            1. Hello (int): \'xin ch\xe0o, b\u1ea1n c\xf3 kh\u1ecfe kh\xf4ng\'\n               <Xin ch\xe0o>: "hello, how are you"\n            Vd cho t\u1eeb Entrepreneur:\n            2. Entrepreneur (n): "Nh\xe0 doanh nh\xe2n n\xe0y \u0111\xe3 th\xe0nh c\xf4ng trong nhi\u1ec1u l\u0129nh v\u1ef1c kinh doanh."\n            <Nh\xe0 doanh nh\xe2n>: "This entrepreneur has been successful in various business ventures."   \n               '),e.next=6,navigator.clipboard.writeText(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Wp.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"auto"},className:"sr-search-container",children:[(0,Wp.jsxs)("h2",{style:{width:"fit-content",display:"inline-block"},className:"sr-cl-secondary",onClick:function(){return f((function(e){return!e}))},children:["Missed (",t.length,")"]}),(0,Wp.jsx)("button",{style:{padding:"10px",marginLeft:"15px"},className:"sr-btn sr-bg-primary",onClick:function(e){if(e.stopPropagation(),!(t.length<=0)){o();var n=document.querySelector(".sr-print-component");n&&n.remove();var i=window.document.createElement("div");i.classList.add("sr-print-component"),window.document.body.appendChild(i);var s=a.createRoot(i);console.log({darkTheme:r}),s.render((0,Wp.jsx)(dv,{data:t,getWords:v,darkTheme:r}))}},children:"Print"}),(0,Wp.jsx)("button",{style:{padding:"10px",marginLeft:"15px"},className:"sr-btn sr-bg-secondary",onClick:y,children:"Clear"}),(0,Wp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex"},children:[(0,Wp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",background:"#1ac27d"},className:"sr-btn",onClick:b,children:"ChatGpt"}),(0,Wp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:[(0,Wp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:v.from,onBlur:function(e){return m((function(t){return d(d({},t),{},{from:Number(e.target.value)||0})}))}}),(0,Wp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:v.to,onBlur:function(e){return m((function(t){return d(d({},t),{},{to:Number(e.target.value)||20})}))}})]})]}),c&&(0,Wp.jsx)("div",{className:"sr-search-results",children:t.length>0&&t.map((function(e,t){return(0,Wp.jsx)(ov,d(d({},e),{},{indexInData:t,setGlobalMissedWordsData:n}),e.id)}))})]})},mv=function(e){var t=e.handleShowComponent,n=e.data,r=e.setData,a=(e.upperData,e.setUpperData),o=e.missedWords,u=e.setMissedWords,c=e.darkTheme,f=e.setDarkTheme,h=p((0,i.useState)({besideContainer:!1,side:"right"}),2),v=h[0],m=h[1],y=p((0,i.useState)({amountItemShow:6,pageNum:1}),2),b=y[0],w=y[1],k=p((0,i.useState)(!1),2),x=k[0],S=k[1],E=p((0,i.useState)(null),2),C=E[0],T=E[1],_=p((0,i.useState)(!1),2),I=_[0],N=_[1],D=p((0,i.useState)({nextLevel:{from:0,to:3}}),2),A=D[0],L=D[1],P=p((0,i.useState)(!1),2),R=P[0],O=P[1];(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===C?(t=(new Date).getTime(),r=n.reduce((function(e,n){return n.repetitiveTime-t<=0?e+1:e}),0),T(r)):T((function(e){return e-1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[n]),(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],Zp.sendMessage({action:tv},(function(e){console.log("sr-app: data from extension",e.data.length),t=e.data})),!(t.length<=0)){e.next=8;break}return e.next=5,Cp.get();case 5:return t=e.sent,e.next=8,Zp.sendMessage({action:ev,data:t},(function(e){console.log("sr-app: Sended data to extension - vocabContainer.js",e)}));case 8:r(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.length<=0&&g&&(console.log("fetch data voca container"),N(!0),e(),N(!1)),function(){}}),[]),(0,i.useEffect)((function(){return x&&(console.log("sr-app: Multiple change"),setTimeout((function(){S(!1)}),3e3)),function(){}}),[x]);var M=function(){var e=zp.getAllItems();f((function(t){var n=d(d({},e),{},{theme:!t});return zp.setData(n),!t}))},j=function(e){m((function(t){return d(d({},t),{},{besideContainer:!t.besideContainer,side:e})}))};return(0,Wp.jsx)(Wp.Fragment,{children:I?(0,Wp.jsx)(Gp,{size:"100px"}):(0,Wp.jsxs)("div",{className:"".concat(c?"sr-dark-mode":""," ").concat(v.besideContainer?"sr-beside-wrapper sr-side-".concat(v.side):""),children:[(0,Wp.jsx)("div",{className:"sr-overlay"}),(0,Wp.jsxs)("div",{className:"card-container",children:[(0,Wp.jsx)(vv,{data:o,setData:u,darkTheme:c,setDarkTheme:f,handleShowVocab:t}),(0,Wp.jsx)(sv,{data:n,setData:r,setMissedWords:u}),x&&(0,Wp.jsxs)("div",{style:{color:"white",width:"100%",padding:"50px",textAlign:"center"},children:[" ","Multiple Next Level Items..."]}),n.length>0&&n.slice(0,x?C:b.amountItemShow*b.pageNum).map((function(e,t){return(0,i.createElement)(ov,d(d({},e),{},{key:e.id+"vocaContainer",indexInData:t,setData:r,setMissedWords:u,data:n,nextLevel:!!(x&&e.level>=A.nextLevel.from&&e.level<=A.nextLevel.to),addEvent:R,setUpperDataSearch:a,indexInUpperData:e.vocabIndexInUpperData||-1}))}))]}),(0,Wp.jsxs)("div",{style:{maxWidth:"100vw"},className:"card-actions-container",children:[(0,Wp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid",height:"fit-content",margin:"auto"},children:[(0,Wp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:A.nextLevel.from,onBlur:function(e){L((function(t){return d(d({},t),{},{nextLevel:d(d({},t.nextLevel),{},{from:Number(e.target.value)||0})})}))}}),(0,Wp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:A.nextLevel.to,onBlur:function(e){L((function(t){return d(d({},t),{},{nextLevel:d(d({},t.nextLevel),{},{to:Number(e.target.value)||3})})}))}})]}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return S((function(e){return!e}))},children:"\ud83d\ude31"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return O((function(e){return!e}))},children:R?"\ud83d\ude49":"\ud83d\ude48"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return j("left")},children:"\u21a2"}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return j("right")},children:"\u21a3"}),b.amountItemShow*(b.pageNum+1)<=n.length+b.amountItemShow&&(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-yellow sr-circle-btn",onClick:function(){b.amountItemShow*(b.pageNum+1)<=n.length+b.amountItemShow&&(console.log("COUNT PAGE"),w(d(d({},b),{},{pageNum:b.pageNum+1})))},children:"\u2120"}),(0,Wp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",color:"white"},className:"sr-btn sr-bg-primary sr-circle-btn",onClick:M,dangerouslySetInnerHTML:{__html:c?"&#9728;":"&#9770;"}}),(0,Wp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",color:"white"},className:"sr-btn sr-bg-primary sr-circle-btn",onClick:M,dangerouslySetInnerHTML:{__html:C}}),(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:t,children:"\u2716"})]})]})})},gv={id:"",voca:"",spelling:"",meaning:"",translate:"",examples:"",note:"",typeWords:"",time:[],similar:[],opposite:[],level:0,repetitiveTime:0},yv=-1;var bv=function(e){for(var t,n=e.setShowFormCreate,r=e.setShowVocaContainer,a=e.setShowProgressChart,o=(e.setShowTypingApp,e.data),u=e.setData,c=e.positionFixed,h=void 0===c||c,v=e.wordTemplate,m=void 0===v?gv:v,y=e.afterSubmit,b=e.setShowNewWordList,w=(e.noHandleGetSpelling,e.closeFormAfterSubmit),k=void 0!==w&&w,x=p((0,i.useState)(m),2),S=x[0],E=x[1],C=p((0,i.useState)(!1),2),T=C[0],_=C[1],I=p((0,i.useState)([]),2),N=(I[0],I[1]),D=(0,i.useRef)(null),A=(0,i.useRef)(null),L=_p.normal.length,P=[],R=0;R<L;R++)P.push(R);(0,i.useEffect)((function(){var e=setTimeout((function(){""!==S.voca.trim()&&V()}),800);return function(){clearTimeout(e)}}),[S.voca]),(0,i.useEffect)((function(){D.current&&D.current.focus()}),[]),(0,i.useEffect)((function(){E(m),D.current.value=m.voca,m.typeWords||V()}),[m]),(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=window.getSelection().toString()).length>0)){e.next=6;break}return e.next=4,Lp.get(t);case 4:n=e.sent,E((function(e){if(e.voca.trim())return e;var r=d(d({},e),{},{voca:t});if(n){var i=n.phonetic||"",a=n.meaning||"",o=n.typeWord||"";D.current.value=t,r=d(d({},r),{},{spelling:i,typeWords:o,meaning:a})}return r}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[]);var O=function(){var e=l(s().mark((function e(){var t,r,i,a,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){for(var t=(new Date).getTime(),n=[t],r=0;r<=e;r++)n.push(t+_p.normal[r]);return n},!(S.voca.length<=0)){e.next=4;break}return alert("WORD EMPTY"),e.abrupt("return");case 4:if("string"===typeof(t={id:S.id,voca:S.voca,spelling:S.spelling,meaning:S.meaning,translate:S.translate,examples:S.examples,note:S.note,typeWords:S.typeWords,time:S.time,similar:S.similar,opposite:S.opposite,level:S.level,repetitiveTime:S.repetitiveTime}).typeWords&&t.typeWords.length>0?t.typeWords=t.typeWords.split(" ")||[]:t.typeWords=t.typeWords||[],r=(null===o||void 0===o?void 0:o.filter((function(e){return e.id===S.id}))[0])||{},t.id&&r.level===S.level||(t.time=c(S.level),i=(new Date).getTime(),t.repetitiveTime=S.id||0!==S.level?t.time[S.level+1]:i+-864e5),t.spelling=S.spelling.replace(/[\[\]+=\-_:\/]/g,""),!t.id){e.next=20;break}if(console.log("sr-app: update for :",t.voca,t.id),!g){e.next=14;break}return e.next=14,Cp.updateWord(t.id,t);case 14:return E((function(e){return d({},gv)})),u((function(e){return e[yv]=d(d({},e[yv]),t),e})),e.next=18,Zp.sendMessage({action:nv,payload:t,indexInData:yv||(S.indexInUpperData||S.indexInData)});case 18:e.next=30;break;case 20:if(console.log("sr-app: create new for :",t.voca,t.id),a=Math.random(),!g){e.next=26;break}return e.next=25,Cp.newWord(t);case 25:a=e.sent;case 26:return l=d(d({},t),{},{id:a}),u((function(e){return e.unshift(l),e})),e.next=30,Zp.sendMessage({action:rv,payload:l});case 30:N([]),E(gv),D.current.value="",D.current.focus(),y&&y(t),k&&n(!1),Zp.sendMessage({vocaAlarm:!0,alarmName:Zp.reminder,data:t});case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){"Enter"===e.key&&O()},j=function(){var e=l(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.stopPropagation(),n=t.target.id,r=t.target.value,{},i=d(d({},S),{},f({},n,r)),E(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Number(e.target.innerText);E(d(d({},S),{},{level:t}))},V=function(){var e=l(s().mark((function e(t){var n,r,i,a,o,u,c,h,p,v,g,y,b,w,x,C,T,I;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=function(){return(I=l(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ap.getWordDetail(a);case 2:if(t=e.sent,!(n=t.map((function(e,t){return"<div>".concat(t,". ").concat(e,"</div>")})).join(" ")||"")){e.next=8;break}return e.abrupt("return","".concat(m.examples?m.examples+"<br/>":"").concat(n));case 8:return e.abrupt("return",m.examples);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},T=function(){return I.apply(this,arguments)},_(!0),i=(null===(n=D.current)||void 0===n?void 0:n.id)||"voca",a=S.voca||(null===(r=D.current)||void 0===r?void 0:r.value.trim())||"",!S.hasNote){e.next=8;break}return _(!1),e.abrupt("return");case 8:return a||N([]),e.next=11,Lp.get(a);case 11:if(o=e.sent,u=[],!o){e.next=25;break}return p=o.phonetic||"",v=o.meaning||"",g=k?o.typeWord:S.typeWords?S.typeWords:o.typeWord||"",y=(null===(c=o.spellLike)||void 0===c?void 0:c.length)>0?"<div>Sound : ".concat(o.spellLike.map((function(e){return e.word+" "})).join(" / "),"</div>"):"",b=(null===(h=o.similarMeaning)||void 0===h?void 0:h.length)>0?"<div>Meaning : ".concat(o.similarMeaning.map((function(e){return e.word+" "})).join(" / "),"</div>"):"",w=o.verbForm&&o.verbForm.some((function(e){return!e.toLowerCase().includes(a.toLowerCase())&&!e.includes("ing")}))&&o.verbForm.length>0?"<div class='sr-note-related sr-note-verbform'><span class='sr-cl-primary'>Verb form :</span>\n            <div>".concat(o.verbForm.map((function(e,t){return"".concat(e," ").concat(t<o.verbForm.length-1?"- ":"")})),"</div></div>").replace(/[,]/g,""):"",x="\n            ".concat(w,"\n            ").concat(y,"\n            ").concat(b,"\n            ").concat(m.note,"\n            "),e.next=23,T();case 23:C=e.sent,E((function(e){var t,n;return d(d({},e),{},(f(n={},i,a),f(n,"voca",null===(t=D.current)||void 0===t?void 0:t.value.trim()),f(n,"spelling",p),f(n,"meaning",v),f(n,"note",x),f(n,"typeWords",g),f(n,"similar",u),f(n,"examples",C),n))}));case 25:_(!1);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=l(s().mark((function e(t){var n,r,i,a,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],t.stopPropagation(),_(!0),r=t.target.innerHTML,i=Qp(r,S.voca,S.translate),e.next=7,Op(i);case 7:a=e.sent,E((function(e){return d(d({},e),{},f({},t.target.id,Qp(a,S.voca,S.translate)))})),n||setTimeout((function(){U(t,!0)}),100),_(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){e.stopPropagation(),"50"==e.keyCode&&(U(e),e.target.focus())},B=function(){var e=l(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return t=e.sent,n=t.trim(),e.next=6,navigator.clipboard.writeText(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Wp.jsx)("div",{children:(0,Wp.jsxs)("div",{style:{flexDirection:"column"},className:"sr-container form-container ".concat(h?"fixed":""),children:[(0,Wp.jsx)($p,{selected:null===S||void 0===S||null===(t=S.imageInfo)||void 0===t?void 0:t.url,imageClick:function(e){E((function(t){return d(d({},t),{},{imageInfo:d({},e)})}))},searchValue:null===S||void 0===S?void 0:S.voca}),o.length>0&&(0,Wp.jsx)(sv,{searchValue:null===S||void 0===S?void 0:S.voca,data:o,setData:u,simpleSearch:!0,showTitle:!1,componentItem:function(e){var t,n=(new Date).getTime(),r=e.repetitiveTime-n;return(0,Wp.jsxs)("div",{className:"sr-search-item "+(e.formItemActive?"active":""),"data-level":e.level,onClick:function(){var t,n={id:e.id,voca:e.voca,spelling:e.spelling,meaning:e.meaning,translate:e.translate,examples:"".concat(e.examples," ").concat(S.examples.trim()?"<br>===New Info===<br> ".concat(S.examples):""),note:"".concat(e.note," ").concat(S.note.trim()?"<br>===New Info===<br> ".concat(S.note):""),typeWords:null===(t=e.typeWords)||void 0===t?void 0:t.map((function(e){return e})).join(" "),time:e.time,similar:e.similar,opposite:e.opposite,level:e.level,repetitiveTime:e.repetitiveTime,hasNote:!0};E(n),yv=e.indexInUpperData},children:[(0,Wp.jsxs)("p",{children:[(0,Wp.jsx)("span",{children:e.voca})," ",(0,Wp.jsx)("span",{children:"string"!==typeof e.typeWords&&(null===e||void 0===e||null===(t=e.typeWords)||void 0===t?void 0:t.map((function(e){return"(".concat(e,")")})))})," ",(0,Wp.jsx)("span",{className:"sr-cl-yellow",children:e.translate})]}),(0,Wp.jsx)("span",{className:"sr-simple-search-time",children:Tp(r).toString({minutes:!1,seconds:!1})})]})},formCreateItemActiveId:S.id}),T&&(0,Wp.jsx)(Gp,{size:"10px"}),(0,Wp.jsxs)("div",{style:{display:"flex"},className:"sr-form-wrapper",children:[(0,Wp.jsxs)("div",{className:"wrap-container full",children:[(0,Wp.jsxs)("div",{className:"my-wrapper",children:[(0,Wp.jsxs)("div",{className:"form-input-wrapper",children:[(0,Wp.jsx)("input",{ref:D,tabIndex:"1",type:"text",id:"voca",placeholder:"word",value:S.voca,onChange:j}),S.voca&&(0,Wp.jsx)("span",{onClick:function(e){e.stopPropagation(),E(d({},gv)),D.current&&(D.current.value="")},className:"sr-btn sr-circle-btn sr-form-clear",children:"\u2716"})]}),(0,Wp.jsx)("div",{className:"form-input-wrapper",children:(0,Wp.jsx)("input",{ref:A,tabIndex:"2",type:"text",value:S.translate,id:"translate",placeholder:"translate",onChange:j,onKeyDown:M})}),(0,Wp.jsx)("div",{className:"form-input-wrapper",children:(0,Wp.jsx)("input",{tabIndex:"3",type:"text",value:S.typeWords,id:"typeWords",placeholder:"type",onChange:j,onKeyDown:M})}),(0,Wp.jsx)("div",{className:"form-input-wrapper",children:(0,Wp.jsx)("input",{tabIndex:"6",type:"text",value:S.spelling,id:"spelling",placeholder:"spelling",onChange:j,onKeyDown:M})})]}),(0,Wp.jsxs)("div",{className:"my-wrapper sr-form-my-wrapper-more-info",children:[(0,Wp.jsx)("div",{className:"form-input-wrapper",children:(0,Wp.jsx)("div",{contentEditable:"true",id:"note",tabIndex:"4",onBlur:U,onFocus:B,onKeyDown:z,dangerouslySetInnerHTML:{__html:S.note}})}),(0,Wp.jsx)("div",{className:"form-input-wrapper",children:(0,Wp.jsx)("div",{contentEditable:"true",tabIndex:"5",id:"examples",onBlur:U,onFocus:B,onKeyDown:z,dangerouslySetInnerHTML:{__html:S.examples}})}),(0,Wp.jsx)("div",{className:"form-input-wrapper sr-wrap-radio",children:P&&P.map((function(e){return(0,Wp.jsxs)("div",{className:"sr-radio-group",children:[(0,Wp.jsx)("input",{type:"radio",id:"level-"+e,className:"sr-input-radio",name:"sr-radio-level",value:e,checked:e==S.level}),(0,Wp.jsx)("label",{className:"sr-label-radio",htmlFor:"level-"+e,onClick:F,children:e})]},"form-level-".concat(e))}))})]})]}),(0,Wp.jsxs)("div",{className:"wrap-container wrapper-actions",children:[(0,Wp.jsx)("div",{className:"form-input-wrapper",children:(0,Wp.jsx)("button",{className:"sr-btn sr-bg-primary w-100",onClick:O,children:"Submit"})}),(0,Wp.jsxs)("div",{className:"form-word base-actions-container",children:[(0,Wp.jsx)("button",{className:"sr-btn action-btn btn-award",onClick:function(){n(!1),a(),b(!1)},children:(0,Wp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,Wp.jsx)("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"})})}),(0,Wp.jsx)("button",{className:"sr-btn action-btn btn-flash-cards",onClick:function(){n(!1),r(),b(!1)},children:(0,Wp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Wp.jsx)("path",{d:"M284.3 11.7c-15.6-15.6-40.9-15.6-56.6 0l-216 216c-15.6 15.6-15.6 40.9 0 56.6l216 216c15.6 15.6 40.9 15.6 56.6 0l216-216c15.6-15.6 15.6-40.9 0-56.6l-216-216z"})})}),(0,Wp.jsx)("button",{className:"sr-btn action-btn btn-flash-cards",onClick:function(){n(!1),b()},children:(0,Wp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"30 -30 600 600",children:(0,Wp.jsxs)("g",{children:[(0,Wp.jsx)("path",{d:"m113.75 35h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m113.75 210h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m113.75 385h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m288.75 35h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m288.75 210h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m288.75 385h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m463.75 35h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m463.75 210h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,Wp.jsx)("path",{d:"m463.75 385h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"})]})})})]})]})]})]})})},wv=function(e){var t=e.setShowComponent,n=e.data,r=e.setData,a=e.missedWords,o=e.setMissedWords,u=e.darkTheme,c=e.setDarkTheme,f=p((0,i.useState)([]),2),h=f[0],v=f[1],m=p((0,i.useState)(0),2),g=m[0],y=m[1],b=p((0,i.useState)(0),2),w=b[0],k=b[1],x=p((0,i.useState)(0),2),S=x[0],E=x[1],C=p((0,i.useState)(0),2),T=C[0],_=C[1],I=p((0,i.useState)(!1),2),N=I[0],D=I[1],A=p((0,i.useState)(0),2),L=(A[0],A[1],p((0,i.useState)(!1),2)),P=L[0],R=L[1],O=p((0,i.useState)([]),2),M=O[0],j=O[1];(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t,i,a,o,u,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){for(var t=0;t<e.length;t++)e[t]||(e[t]=[]);return e},!((t=n).length<=0)){e.next=5;break}return e.next=5,Zp.sendMessage({action:tv},(function(e){console.log("sr-app: data from extension",e.data.length),t=e.data}));case 5:if(!(t.length<=0)){e.next=13;break}return console.log("fetch data progress container"),e.next=9,Cp.get();case 9:return t=e.sent,r(t),e.next=13,Zp.sendMessage({action:ev,data:t},(function(e){console.log("sr-app: Sended data to extension",e)}));case 13:i=0,a=[],o=[],u=t.reduce((function(e,t,n){var r=t.level;e[r]?(e[r].push(d(d({},t),{},{vocabIndexInUpperData:n})),i<e[r].length&&(i=e[r].length)):(e[r]=[],e[r].push(t));var s=(new Date).getTime(),u=t.repetitiveTime-s;return u<=0?a.push(t):u>0&&u<432e5&&o.push(t),e}),[]),l=c(u),v(l),y(i),k(t.length),E(a),_(o);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R(!0),e(),R(!1),function(){}}),[n]);var F=function(e){V(),j(e)},V=function(){D((function(e){return!e}))},U=function(e){return h[e]};return(0,Wp.jsx)(Wp.Fragment,{children:P?(0,Wp.jsx)(Gp,{size:"70px"}):(0,Wp.jsxs)("div",{children:[N&&(0,Wp.jsx)(mv,{handleShowComponent:V,data:M,setData:j,missedWords:a,setMissedWords:o,darkTheme:u,setDarkTheme:c,setUpperData:r}),(0,Wp.jsxs)("div",{className:"sr-progress-chart sr-container",children:[(0,Wp.jsx)("button",{className:"close-btn progress-chart-close-btn",onClick:t,children:(0,Wp.jsx)("span",{className:"close-icon",children:"\xd7"})}),(0,Wp.jsxs)("button",{style:{position:"fixed",top:"10px",left:"10px",padding:"10px"},className:"sr-btn sr-bg-secondary",children:["Total"," ",(0,Wp.jsx)("span",{onClick:function(){return F(S)},children:S.length}),"/",(0,Wp.jsx)("span",{onClick:function(){return F(T)},children:T.length}),"/",w]}),h&&h.length>0&&h.map((function(e,t){return(0,Wp.jsx)("div",{class:"bar  ".concat(0==e.length?"bar-empty":""),"data-counter":e.length,"data-level":t,style:{height:e.length?e.length/g*100+"%":"10px"},onClick:function(){return e=t,V(),void j(U(e));var e}})}))]})]})})},kv=function(e){if(e.trim()){var t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("span.sr-examples-word");return Array.from(t).map((function(e){var t,n,r,i,a=e.textContent.trim(),o=(null===e||void 0===e||null===(t=e.nextElementSibling)||void 0===t?void 0:t.textContent.trim())||[],s=(null===(n=e.nextElementSibling)||void 0===n||null===(r=n.nextElementSibling)||void 0===r?void 0:r.textContent.trim())||[];return{word:a,typeWord:o,spelling:s,translate:null===e||void 0===e||null===(i=e.parentElement)||void 0===i?void 0:i.textContent.replace(a,"").replace(o,"").replace(s,"").trim()}}))}},xv=function(e){var t=e.word,n=e.matched,r=(e.translate,e.typeWord,e.active),a=e.inputValue,o=(e.spelling,p((0,i.useState)({top:0,left:0}),2)),s=(o[0],o[1],(0,i.useRef)(null));return(0,i.useEffect)((function(){return r&&s.current.scrollIntoView({behavior:"smooth",block:"center"}),function(){}}),[r]),(0,Wp.jsx)(Wp.Fragment,{children:(0,Wp.jsx)("div",{ref:s,className:"sr-word ".concat(n?"matched":""," ").concat(r?"active":""),children:r?t.split("").map((function(e,t){return t>=a.length?(0,Wp.jsx)("span",{className:t===a.length?"sr-caret-active":"",children:e}):(0,Wp.jsx)("span",{className:(null===(n=a[t])||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())?"sr-matched":"sr-wrong",children:e});var n})):t})})},Sv=function(e){var t,n,r,a=e.setShowComponent,o=e.data,u=e.setData,c=p((0,i.useState)([]),2),f=c[0],h=c[1],v=p((0,i.useState)(0),2),m=v[0],g=v[1],y=p((0,i.useState)(""),2),b=y[0],w=y[1],k=p((0,i.useState)({amountWordShow:50,pageNum:1}),2),x=k[0],S=k[1],E=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cp.get();case 2:t=e.sent,u(t),t.length>0&&Zp.sendMessage({vocaAlarm:!0,alarmName:Zp.reminder,data:t[0]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.length<=0&&(console.log("fetch data typing container"),e()),function(){}}),[]),(0,i.useEffect)((function(){if(!(o.length<=0)){var e=x.amountWordShow*(x.pageNum-1),t=x.amountWordShow*x.pageNum;if(!(t>o.length+x.amountWordShow)){var n=o.slice(e,t).reduce((function(e,t){var n=[{word:t.voca,spelling:t.spelling,typeWord:t.typeWords,translate:t.translate}],r=kv(t.examples)||[],i=kv(t.note)||[],a=[].concat(n,I(r),I(i)).filter(Boolean);return[].concat(I(e),I(a))}),[]);h([].concat(I(f),I(n)))}}}),[x,o]),(0,i.useEffect)((function(){m===f.length-5&&S((function(e){return d(d({},e),{},{pageNum:e.pageNum+1})}))}),[m]);return(0,Wp.jsx)("div",{className:"sr-typing-app",children:(0,Wp.jsxs)("div",{className:"sr-typing-app-container",children:[(0,Wp.jsx)("h2",{className:"sr-typing-app-title",onClick:a,children:"Typing App"}),(0,Wp.jsxs)("div",{className:"sr-typing-word-info-1",children:["(",null===(t=f[m])||void 0===t?void 0:t.typeWord,") \u2022 /",null===(n=f[m])||void 0===n?void 0:n.spelling,"/"]}),(0,Wp.jsxs)("div",{className:"sr-words-box",children:[f.map((function(e,t){var n=t==m?E:null;return(0,i.createElement)(xv,d(d({},e),{},{ref:n,key:e.translate+e.word,matched:t<m,active:t==m,inputValue:b}))})),(0,Wp.jsx)("div",{style:{margin:"auto",textAlign:"center",fontSize:"16px",color:"white",height:"300px",width:"100%"},children:"----// Ending //----"})]}),(0,Wp.jsx)("div",{className:"sr-word-more-info",children:"".concat(null===(r=f[m])||void 0===r?void 0:r.translate)}),(0,Wp.jsx)("input",{className:"sr-input-typing",type:"text",value:b,onChange:function(e){var t=e.target.value;w(t)},onKeyDown:function(e){var t;32===e.keyCode?e.target.value.trim().toLowerCase()===(null===(t=f[m])||void 0===t?void 0:t.word.trim().toLowerCase())&&(e.preventDefault(),w(""),g(m+1)):188===e.keyCode?g((function(e){return e-1})):190===e.keyCode&&g((function(e){return e+1}))}})]})})};var Ev=function(e){var t=e.handleShowVocaContainer,n=e.handleShowFormCreate,r=e.handleShowProgressChart,i=e.handleShowTypingApp;return(0,Wp.jsx)("nav",{children:(0,Wp.jsxs)("div",{className:"nav-mobile",children:[(0,Wp.jsx)("button",{className:"sr-btn sr-bg-primary",onClick:t,children:"Voca Container"}),(0,Wp.jsx)("button",{className:"sr-btn sr-bg-secondary",onClick:n,children:"Form Create"}),(0,Wp.jsx)("button",{className:"sr-btn sr-bg-yellow",onClick:r,children:"Progress Chart"}),(0,Wp.jsx)("button",{className:"sr-btn sr-bg-black",onClick:i,children:"Typing App"})]})})};var Cv,Tv,_v=function(e){var t,n,r,a,o,u,c,h=e.wordList,v=e.setWordList,m=e.darkTheme,y=(e.setDarkTheme,e.currentWordList),b=e.setCurrentWordList,w=e.setShowFormCreate,k=e.setShowVocaContainer,x=e.setShowProgressChart,S=e.setShowTypingApp,E=e.setShowNewWordList,C=e.addingWordAmount,T=e.setAddingWordAmount,_=p((0,i.useState)(!0),2),N=_[0],D=_[1],A=p((0,i.useState)(0),2),L=A[0],P=A[1],R=p((0,i.useState)(0),2),O=R[0],M=R[1],j=p((0,i.useState)(gv),2),F=j[0],V=j[1],U=p((0,i.useState)([]),2),z=U[0],B=U[1],W=p((0,i.useState)({amountItemShow:20,pageNum:1}),2),q=W[0],H=W[1];(0,i.useEffect)((function(){if(h.length>0){var e,t,n,r=d(d({},O<(null===(e=h[L])||void 0===e||null===(t=e.wordList)||void 0===t?void 0:t.length)?null===(n=h[L])||void 0===n?void 0:n.wordList[O]:gv),{},{index:O});G(r)}}),[O,h,L]),(0,i.useEffect)((function(){var e=function(){var e=l(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,Cp.get(Sp.wordList,{by:"title"});case 3:t=e.sent,v(t),D(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h.length<=0&&e(),function(){}}),[]);var K=function(){var e=l(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B((function(e){var n=(t.voca||t.vocab)[0];return d(d({},e),{},f({},n,e[n]?e[n]+1:1))})),D(!0),!(O<0&&t.voca)){e.next=6;break}return T((function(e){return e+1})),D(!1),e.abrupt("return");case 6:if(r=d({},h[L]),null===(n=r.wordList)||void 0===n||n.splice(O,1),!g){e.next=11;break}return e.next=11,Cp.updateWord(r.id,r,Sp.wordList);case 11:v((function(e){var t=I(e);return t[L]=r,t})),t.voca&&T((function(e){return e+1})),D(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){e.index<0&&V(gv);var t=h[L].form?h[L].form:0,n=Y[t](e);V(n)},Q=function(){var e=l(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!g){e.next=4;break}return e.next=4,Cp.deleteWord(n,Sp.wordList);case 4:v((function(e){var t=I(e);return t.splice(L,1),t}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=[function(e){var t,n=(null===(t=e.wordFamilies)||void 0===t?void 0:t.map((function(e){return e})).join("<br>"))||"";return d(d({},gv),{},{voca:e.vocab,note:n})},function(e){return d(d(d({},gv),e),{},{voca:e.voca||e.vocab,typeWords:null!==e&&void 0!==e&&e.typeWords?null===e||void 0===e?void 0:e.typeWords[0]:""})}];return(0,Wp.jsxs)("div",{className:"sr-new-word-list ".concat(m?"sr-dark-mode":""),children:[(0,Wp.jsx)("div",{className:"sr-overlay"}),(0,Wp.jsxs)("div",{className:"card-container sr-new-word-list-container",children:[(0,Wp.jsxs)("div",{className:"sr-new-word-list-wrapper",children:[(0,Wp.jsx)("div",{class:"sr-sidebar",children:(0,Wp.jsx)("ul",{class:"sr-options",children:null===h||void 0===h?void 0:h.map((function(e,t){var n;return(0,Wp.jsxs)("li",{style:{justifyContent:"unset"},className:"sr-options-name sr-flex-center ".concat(L===t?"active":""),onClick:function(){return function(e){P(e)}(t)},"data-title":e.title,children:[L===t&&(0,Wp.jsx)("button",{style:{"--size":"15px",fontSize:"10px",marginRight:"10px"},className:"sr-btn btn-show-more sr-bg-primary sr-circle-btn sr-cl-black sr-flex-center",onClick:function(t){return Q(t,e.id)}}),e.title," ","(".concat((null===(n=e.wordList)||void 0===n?void 0:n.length)||0,")")]},e.id+"title")}))})}),(0,Wp.jsxs)("div",{class:"sr-main-content",children:[(0,Wp.jsxs)("h6",{className:"sr-title",children:[(0,Wp.jsxs)("span",{onClick:E,children:["Danh s\xe1ch c\xe1c t\u1eeb m\u1edbi:"," ",N&&(0,Wp.jsx)(Gp,{size:"20px"})]})," ",(0,Wp.jsx)("span",{children:null===(t=h[L])||void 0===t||null===(n=t.wordList)||void 0===n?void 0:n.length}),(0,Wp.jsxs)("span",{children:[" / ",C]})]})," ",(0,Wp.jsxs)("ul",{class:"sr-word-list",children:[(0,Wp.jsx)("li",{className:"sr-word ".concat(-1===O?"active":""),onClick:function(e){return M(-1)},children:"NULL"}),null===(r=h[L])||void 0===r||null===(a=r.wordList)||void 0===a||null===(o=a.slice(0,q.amountItemShow*q.pageNum))||void 0===o?void 0:o.map((function(e,t){d(d({},e),{},{index:t});var n,r,i,a,o=e.vocab?e.vocab[0]:e.voca[0],s=z[o]>=2;return(0,Wp.jsxs)("li",{className:"sr-word ".concat(O===t?"active":""," ").concat(s?"pass-letter":""),onClick:function(e){return M(t)},children:[(0,Wp.jsxs)("p",{className:"sr-root-word",children:[e.voca||e.vocab," ",t===O&&(0,Wp.jsx)("span",{style:{"--size":"15px",fontSize:"10px"},className:"sr-btn sr-circle-btn sr-delete-btn",onClick:function(t){t.stopPropagation(),K(e)},children:"\u2716"})]}),(0,Wp.jsxs)("p",{className:"more-info",children:[(0,Wp.jsxs)("small",{children:["(","string"===typeof e.typeWords?e.typeWords:(null===(n=e.typeWords)||void 0===n?void 0:n.length)>0?null===(r=e.typeWords)||void 0===r?void 0:r.map((function(e){return e})):"",")"]}),(0,Wp.jsx)("p",{style:{width:"10px"}}),(0,Wp.jsx)("span",{className:"sr-cl-primary",children:e.translate})]}),(null===(i=e.wordFamilies)||void 0===i?void 0:i.length)>0&&(0,Wp.jsx)("ul",{className:"sr-word-families",children:null===(a=e.wordFamilies)||void 0===a?void 0:a.map((function(e){return(0,Wp.jsx)("li",{children:e},e+"word-families")}))}),t===O&&(0,Wp.jsx)("li",{style:{width:"100%"},className:"sr-word sr-btn sr-bg-yellow ".concat(-1===O?"active":""),onClick:function(e){return M(-1)},children:"NULL"})]},e.vocab)})),(0,Wp.jsx)("li",{})," "]}),q.amountItemShow*(q.pageNum+1)<=(null===(u=h[L])||void 0===u||null===(c=u.wordList)||void 0===c?void 0:c.length)+q.amountItemShow&&(0,Wp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-yellow sr-circle-btn",onClick:function(){var e,t;q.amountItemShow*(q.pageNum+1)<=(null===(e=h[L])||void 0===e||null===(t=e.wordList)||void 0===t?void 0:t.length)+q.amountItemShow&&(console.log("COUNT PAGE"),H(d(d({},q),{},{pageNum:q.pageNum+1})))},children:"\u2120"})]})]}),(0,Wp.jsx)(bv,{positionFixed:!1,data:y,setData:b,wordTemplate:F,afterSubmit:K,setShowFormCreate:w,setShowVocaContainer:k,setShowProgressChart:x,setShowTypingApp:S,setShowNewWordList:E,noHandleGetSpelling:!0,closeFormAfterSubmit:!1})]})]})},Iv=g?[]:[{id:"05wvboUfT1AgfaMR2kxU",level:3,translate:"Y t\xe1, y\xeau th\u01b0\u01a1ng, th\xedch, y\xeau, th\xedch",similar:[],typeWords:["n"],voca:"exclude",time:[1682222509361,1682227309361,1682265709361,1683893155e3,1684748095524],opposite:[],meaning:"A wet nurse.",note:"",spelling:"n\u025c\u02d0s",repetitiveTime:1684748095524,examples:""},{id:"0B0HPoHMG1wMjkUizLMP",spelling:"s\u026ak",translate:"\u1ed1m y\xeau, \u1ed1m, th\xedch, y\xeau, \xf4m",similar:[],note:"",repetitiveTime:1686905737149,opposite:[],voca:"exclusion",time:[1681449732242,1681454532242,1681492932242,1684239216130,1686905737149],meaning:"Sick people in general as a group.",typeWords:["n","a"],examples:'<span class="sr-word-family sr-cl-primary">ill</span> (n) /\u026al/ \u1ed1m <div> <span class="sr-word-family sr-cl-primary">illness</span> (n) /\u02c8\u026al.n\u0259s/ s\u1ef1 \u1ed1m \u0111au </div>',level:4},{id:"0Lev4MjYVOvxiZc4XkxQ",translate:"kh\xe2m ph\u1ee5c, th\xe1n ph\u1ee5c, y t\xe1, th\xedch",examples:'<span class="sr-examples-word sr-word-family sr-cl-primary">admiration</span> <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\u02cc\xe6d.m\u025a\u02c8e\u026a\u0283.\u0259n/</span> s\u1ef1 kh\xe2m ph\u1ee5c, s\u1ef1 th\xe1n ph\u1ee5c',voca:"demo",time:[1682649321567,1683640155891,1684182002947,1684466866861],similar:[],typeWords:["v"],note:"",level:2,meaning:"To be amazed at; to view with surprise; to marvel at.",spelling:"\u0259d\u02c8ma\u026a\u0259",opposite:[],repetitiveTime:1684466866861},{id:"0MP2zN1wJNYevfKKIbwA",translate:"Ngh\u1ec9 ng\u01a1i",voca:"tidy",time:[1681878904692,1681883704692,1681922104692,1682269321774,1684238991153,1686905544997],repetitiveTime:1686905544997,similar:[],typeWords:["n","v"],opposite:[],meaning:"(of a person or animal) Relief from work or activity by sleeping; sleep.",examples:"Rest of : ph\u1ea7n c\xf2n l\u1ea1i \u2026",spelling:"\u0279\u025bst",note:"",level:4},{id:"0MP2zN1wJNYevfKKIbwA",translate:"Ngh\u1ec9 ng\u01a1i",voca:"Vietnamese",time:[1681878904692,1681883704692,1681922104692,1682269321774,1684238991153,1686905544997],repetitiveTime:1686905544997,similar:[],typeWords:["n","v"],opposite:[],meaning:"(of a person or animal) Relief from work or activity by sleeping; sleep.",examples:"Rest of : ph\u1ea7n c\xf2n l\u1ea1i \u2026",spelling:"\u0279\u025bst",note:"",level:4},{id:"0MP2zN1wJNYevfKKIbwA",translate:"Ngh\u1ec9 ng\u01a1i",voca:"vietnamese",time:[1681878904692,1681883704692,1681922104692,1682269321774,1684238991153,1686905544997],repetitiveTime:1686905544997,similar:[],typeWords:["n","v"],opposite:[],meaning:"(of a person or animal) Relief from work or activity by sleeping; sleep.",examples:"Rest of : ph\u1ea7n c\xf2n l\u1ea1i \u2026",spelling:"\u0279\u025bst",note:"",level:4},{id:"0MP2zN1wJNYevfKKIbwA",translate:"Ngh\u1ec9 ng\u01a1i",voca:"english",time:[1681878904692,1681883704692,1681922104692,1682269321774,1684238991153,1686905544997],repetitiveTime:1686905544997,similar:[],typeWords:["n","v"],opposite:[],meaning:"(of a person or animal) Relief from work or activity by sleeping; sleep.",examples:"Rest of : ph\u1ea7n c\xf2n l\u1ea1i \u2026",spelling:"\u0279\u025bst",note:"",level:4}],Nv=g?[]:[{id:"6f1DtikQ0BvdSdhPzNHc",title:"List_1",wordList:[{vocab:"conventionality",wordFamilies:[]},{vocab:"convene",wordFamilies:["convention"]},{vocab:"conventional",wordFamilies:[]},{vocab:"coordination",wordFamilies:[]},{vocab:"corporate",wordFamilies:["corporation"]},{vocab:"correspond",wordFamilies:["correspondence","corresponding","correspondingly"]},{vocab:"criterion",wordFamilies:[]},{vocab:"deduce",wordFamilies:["deducible","deduction"]},{vocab:"demo",wordFamilies:["demonstrable","demonstrably","demonstrate","demonstration","demonstrator"]},{vocab:"disproportion",wordFamilies:["disproportionate"]},{vocab:"dominance",wordFamilies:["dominate","domination"]},{vocab:"domination",wordFamilies:[]},{vocab:"emphasis",wordFamilies:["emphasize"]},{vocab:"exclude",wordFamilies:["excluding"]},{vocab:"exclusion",wordFamilies:[]},{vocab:"illustrate",wordFamilies:["illustration"]},{vocab:"illustrative",wordFamilies:[]}]},{id:"977BBdn8Z5mWpUPuzCKw",title:"List_2",wordList:[{vocab:"arbitrarily",wordFamilies:[]},{vocab:"abandoned",wordFamilies:["abandonment"]},{vocab:"accompaniment",wordFamilies:[]},{vocab:"accompany",wordFamilies:[]},{vocab:"accumulate",wordFamilies:["accumulation"]},{vocab:"ambiguity",wordFamilies:[]},{vocab:"ambiguous",wordFamilies:["ambiguously"]}]},{title:"570 Phrase 1",id:"sljfdlfjfklsdjf",form:1,wordList:[{vocab:"in time",spelling:"/\u026an ta\u026am/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/133730.jpeg"},translate:"\br\u1ed3i th\xec, sau c\xf9ng",examples:"in time they came to accept the harsh reality",note:"in the course of time; eventually",typeWords:["idiom"]},{vocab:"turn out",spelling:"/t\u025crn \u0251\u028at/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/136312.jpeg"},translate:"tr\u1edf n\xean, tr\u1edf th\xe0nh",examples:"How will the game turn out?",note:"to develop in a particular way, or to have a particular result",typeWords:["phrasal verb"]},{vocab:"work out",spelling:"/w\u0259rk a\u028at/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/145797.png"},translate:"t\xecm m\u1ed9t gi\u1ea3i ph\xe1p, gi\u1ea3i quy\u1ebft",examples:"I\u2019m trying to work out what it stands for.",note:"to find a solution",typeWords:["phrasal verb"]},{vocab:"get out",spelling:"/\u0261\u025bt a\u028at/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/147392.crdownload"},translate:"tho\xe1t kh\u1ecfi",examples:"I think her backache was just a way of getting out of the housework.",note:"to escape; to exit, to avoid doing something",typeWords:["phrasal verb"]},{vocab:"be supposed to",spelling:"/bi s\u0259\u02c8po\u028az\u0259d t\u0259/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/148227.jpeg"},translate:"n\xean l\xe0, \u0111\u01b0\u1ee3c cho l\xe0",examples:"I didn\u2019t go, but I was supposed to.",note:"to be expected or required to do/be something according to a rule, a custom, an arrangement, etc.",typeWords:["idiom"]}]},{title:"570 Phrase 2",id:"sljfdlfjfsdsadklsdjf",form:1,wordList:[{vocab:"at once",spelling:"/ \xe6t w\u028cns/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5637.jpeg"},translate:"ngay l\u1eadp t\u1ee9c",examples:"I fell asleep at once",note:"immediately, at the same time",typeWords:["adv"]},{vocab:"what it takes",spelling:"/w\u028ct \u026at te\u026aks/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5638.jpeg"},translate:"m\u1ecdi th\u1ee9 c\u1ea7n thi\u1ebft",examples:"She has what it takes to do the job",note:"everything that is required",typeWords:["undefined"]},{vocab:"in practice",spelling:"/ \u026an \u02c8pr\xe6k\xb7t\u026as/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5639.jpeg"},translate:"trong th\u1ef1c t\u1ebf",examples:"Drivers say we need speed limits but, in practice, they don\u2019t respect them.",note:"actually, in fact, used for talking about what really happens as opposed to what you think will or should happen",typeWords:["phrase"]},{vocab:"lots of",spelling:"/l\u0251ts \u028cv/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5640.jpeg"},translate:"nhi\u1ec1u",examples:"Lots of them do travel during the winter months.",note:"a large number or amount of (things, people, etc.)",typeWords:["noun"]}]}],Dv=(Bp(Up).getAllItems,[]),Av=!g;var Lv=function(){var e=p((0,i.useState)(Iv||Dv),2),t=e[0],n=e[1],r=p((0,i.useState)({count:0,isHighlight:!1}),2),a=(r[0],r[1],p((0,i.useState)(0),2)),o=a[0],s=a[1],u=p((0,i.useState)(Nv||[]),2),l=u[0],c=u[1],f=p((0,i.useState)(zp.getAllItems().theme||!0),2),h=f[0],v=f[1],m=p((0,i.useState)("boolean"!==typeof zp.getAllItems().readMode||zp.getAllItems().readMode),2),g=m[0],y=m[1],b=p((0,i.useState)(zp.getAllItems().chatGPTStyle||!1),2),w=b[0],k=b[1],x=p((0,i.useState)([]),2),S=x[0],E=x[1],C=p((0,i.useState)({vocaContainer:!1,formCreate:Av,progressChart:!1,typingApp:!1,navMobile:!1,navYoutube:!1,newWordList:!1}),2),T=C[0],_=C[1],I=function(e){_((function(t){return d(d({},t),{},{vocaContainer:"boolean"==typeof e?e:!t.vocaContainer})}))},N=function(e){_((function(t){return d(d({},t),{},{newWordList:"boolean"==typeof e?e:!t.newWordList})}))},D=function(e){_((function(t){return d(d({},t),{},{formCreate:"boolean"==typeof e?e:!t.formCreate})}))},A=function(e){_((function(t){return d(d({},t),{},{progressChart:"boolean"==typeof e?e:!t.progressChart})}))},L=function(e){_((function(t){return d(d({},t),{},{typingApp:"boolean"==typeof e?e:!t.typingApp})}))};(0,i.useEffect)((function(){Dv=t}),[t]),(0,i.useEffect)((function(){Av=T.formCreate}),[T.formCreate]),(0,i.useEffect)((function(){console.log("sr-app: listening sr-app extension");var e=function(){Zp.sendMessage({action:tv},(function(e){var t,r,i;console.log("sr-app: Receive data from extension",Dv.length,null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length),Dv.length>0&&0===(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.length)?Zp.sendMessage({action:ev,data:Dv},(function(e){console.log("sr-app: Sending data to extension - app.js - done",e)})):(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.length)>0&&(console.log("%csr-app: async data...","color: orange"),n(e.data))}))};e(),document.addEventListener("visibilitychange",(function(){document.hidden?Zp.sendMessage({action:iv},(function(e){console.log("sr-app: Blur tab data from extension"),(null===e||void 0===e?void 0:e.dataLength)>0&&(console.log(null===e||void 0===e?void 0:e.dataLength),console.log("%csr-app: Clear current Data!","color: red"),n([]))})):(console.log("sr-app: visibilitychange"),e())}))}),[]),(0,i.useEffect)((function(){var e=function(e){var t=function(){e.stopImmediatePropagation(),e.preventDefault()};"Enter"!==e.key&&Av&&(e.stopPropagation(),e.stopImmediatePropagation()),e.altKey&&"q"===e.key&&(t(),D()),e.altKey&&"Q"===e.key&&(t(),N())};return window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[]),(0,i.useEffect)((function(){var e=window.location.hostname,t=window.location.protocol;(e.includes("tai-thai.github.io")?_((function(e){return d(d({},e),{},{navMobile:!0})})):(e.includes("youtube.com")||e.includes("translate.google.com"))&&_((function(e){return d(d({},e),{},{navYoutube:!0})})),t.includes("chrome-extension"))&&(console.log("extension popup"),document.querySelector("body").style.cssText="\n                width: 400px;\n                height: 400px;\n           ",_((function(e){return d(d({},e),{},{formCreate:!0})})))}),[]),(0,i.useEffect)((function(){!0===g?document.querySelector("html").classList.add("sr-read-mode"):document.querySelector("html").classList.remove("sr-read-mode"),console.log("sr-app: ",{readMode:g});var e=d(d({},zp.getAllItems()),{},{readMode:g});zp.setData(e)}),[g]),(0,i.useEffect)((function(){if(!0===w){(Cv=document.createElement("style")).textContent='*:not(:empty) {\n    background: #353541;\n    background: #8899ab;\n    background: #16202a;\n    border: none;\n}\n\n*[class*="gradient"] {\n    background: none !important;\n}\n\n*[class*="dark:bg-gray-800"] {\n    background: transparent !important;\n}\n\nh1 {\n    display: none !important;\n}\n\n\n\ntextarea#prompt-textarea {\n    background: none;\n    border: none;\n}\n\nform * {\n    /* background: none !important;\n    border: none !important;\n    box-shadow: none !important; */\n    /* border-bottom: 1px solid black !important; */\n}\n\nform + div {\n    /* display: none; */\n    opacity: 0;\n    /* padding: 10px !important; */\n    /* height: 20px; */\n}\n\nform + div > span {\n    display: none;\n}\n\nform div:not([class*="dark"]), form {\n    background: transparent !important;\n}\n\ndiv[class*="flex-shrink-0"][style*="width: 260px"] {\n    width: 30px !important;\n    height: 30px;\n    border-radius: 999px;\n    overflow: hidden !important;\n    border: 1px solid #ccc;\n    /* background: red !important; */\n    transition: all 0.5s ease-out;\n}\n\ndiv[class*="flex-shrink-0"][style*="width: 260px"]:hover {\n    width: 260px !important;\n    height: 100%;\n    overflow: auto !important;\n    border-radius: 10px;\n}\n\nimg[alt*="User"],\ndiv[style*="background-color: rgb(25, 195, 125);"],\ndiv[class*="flex justify-between empty:hidden lg:block"],\nform[class*="stretch"],\nheader,\ndiv[class*="sticky"]:is([class*="md:hidden"]) {\n    opacity: 0;\n    cursor: pointer;\n    transition: all 0.3s ease;\n}\n\nimg[alt*="User"]:hover,\ndiv[style*="background-color: rgb(25, 195, 125);"]:hover,\ndiv[class*="flex justify-between empty:hidden lg:block"]:hover,\nform[class*="stretch"]:hover,\nform[class*="stretch"]:has(textarea:focus),\nheader:hover,\ndiv[class*="sticky"]:is([class*="md:hidden"]):hover {\n    opacity: 1;\n    /* transition: all .3s ease; */\n}\n\ndiv[class*="flex flex-1 gap-4 text-base mx-auto md:gap-6 md:max-w-2xl lg:max-w-[38rem] }"] {\n    max-width: 60rem;\n    margin-right: auto !important;\n}\n\n@media (min-width: 800px) {\n    div[class*="flex flex-1 gap-4 text-base mx-auto md:gap-6 md:max-w-2xl lg:max-w-[38rem] }"] {\n        margin-left: 100px;\n    }\n\n    [class*="p-4 justify-center text-base"] > [class*="flex flex-1 gap-4 text-base mx-auto"] {\n        margin-left: 88px;\n        max-width: 897px;\n    }\n}\n\ndiv[class*="dark:bg-gray-800"][style*="--avatar-color: #19c37d;"] * {\n    color: #8957e5 !important;\n    /* margin-left: 10px; */\n    /* text-align: center; */\n}\n\ndiv[class*="dark:bg-gray-800"][style*="--avatar-color: #19c37d;"]\n    > div[class*="p-4"] {\n    padding: 5px;\n}\n\n/* div[class*=gradient] {\n    background: transparent !important;\n} */\n\n/* div[class*="h-32 md:h-48 flex-shrink-0"] {\n    display: none;\n} */\n\nstrong {\n    color: #cec4ac !important;\n    color: #8957e5 !important;\n}\n',document.head.appendChild(Cv),setTimeout(P,1500)}else{var e;if(Cv)Cv.remove(),null===(e=Tv)||void 0===e||e.remove()}var t=d(d({},zp.getAllItems()),{},{chatGPTStyle:w});zp.setData(t)}),[w]);var P=function(){document.title="Research...",(document.querySelectorAll("link[rel*='icon']")||[]).forEach((function(e){return null===e||void 0===e?void 0:e.remove()})),(Tv=document.createElement("link")).rel="shortcut icon",Tv.type="image/png",document.head.appendChild(Tv),Tv.href="https://www.clipartmax.com/png/middle/68-683168_google-assistant-app-icon.png",Tv.href="https://cdn-icons-png.flaticon.com/512/3576/3576378.png"};return(0,Wp.jsxs)("div",{id:"sr-app",className:"sr-app",children:[(0,Wp.jsxs)("main",{children:[T.vocaContainer&&(0,Wp.jsx)(mv,{handleShowComponent:I,data:t,setData:n,missedWords:S,setMissedWords:E,darkTheme:h,setDarkTheme:v}),T.newWordList&&(0,Wp.jsx)(_v,{handleShowComponent:N,wordList:l,setWordList:c,currentWordList:t,setCurrentWordList:n,darkTheme:h,setShowNewWordList:N,setDarkTheme:v,setShowFormCreate:D,setShowVocaContainer:I,setShowProgressChart:A,setShowTypingApp:L,addingWordAmount:o,setAddingWordAmount:s}),T.formCreate&&(0,Wp.jsx)(bv,{setShowFormCreate:D,setShowVocaContainer:I,setShowProgressChart:A,setShowTypingApp:L,data:t,setData:n,setShowNewWordList:N}),T.progressChart&&(0,Wp.jsx)(wv,{setShowComponent:A,data:t,setData:n,missedWords:S,setMissedWords:E,darkTheme:h,setDarkTheme:v}),T.typingApp&&(0,Wp.jsx)(Sv,{setShowComponent:L,data:t,setData:n})]}),T.navMobile&&(0,Wp.jsx)(Ev,{handleShowVocaContainer:I,handleShowFormCreate:D,handleShowProgressChart:A,handleShowTypingApp:L}),(T.navYoutube,(0,Wp.jsxs)(Wp.Fragment,{children:[window.location.hostname.includes("chat.openai.com")&&(0,Wp.jsxs)(Wp.Fragment,{children:[(0,Wp.jsx)("button",{style:{bottom:"90px",right:"20px"},className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-readMode",onClick:function(){return k((function(e){return!e}))},children:"\ud83d\ude08"}),(0,Wp.jsx)("button",{style:{bottom:"130px",right:"20px"},className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-readMode",onClick:P,children:"\ud83d\udca8"})]}),(0,Wp.jsx)("button",{className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-youtube",onClick:D,children:"\u203b"}),(0,Wp.jsx)("button",{className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-readMode",onClick:function(){return y((function(e){return!e}))},children:g?"\u2600\ufe0f":"\ud83c\udf1a"})]}))]})},Pv=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},Rv=function(){var e=document.createElement("div");e.id="SR-APP-ROOT",document.body.appendChild(e),a.createRoot(e).render((0,Wp.jsx)(Lv,{}))},Ov=window.location.hostname,Mv=Ov.includes("dailydictation.com"),jv=new MutationObserver((function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){if("childList"===t.value.type&&document.body){if(document.getElementById("SR-APP-ROOT"))return;Rv(),console.log("sr-app: "+Ov+" - Removing observer!"),jv.disconnect()}}}catch(i){n.e(i)}finally{n.f()}}));Mv&&document.addEventListener("DOMNodeInserted",(function(e){var t=e.target;if(t.childNodes.length>0)for(var n=t.querySelectorAll("textarea"),r=function(e){n[e].addEventListener("keydown",(function(t){"Tab"==t.key&&setTimeout((function(){var t=document.querySelector(".dictation__input-highlight-text").innerText||"",r=document.querySelector(".text-success").innerText;if(!(t.length<=1)){var i=n[e].value.replace(t,r);n[e].value=i}}),0)})),console.log("sr-app: Add event for",n[e]," - dictationdaily.com only")},i=0;i<n.length;i++)r(i)})),console.log("Loading js file!"),document.body?(console.log("sr-app: main website!"),Rv()):jv.observe(document.documentElement,{childList:!0,subtree:!0}),Pv()}()}();
//# sourceMappingURL=main.js.map