/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";var t={463:function(t,n,r){var i=r(791),a=r(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j,F=Object.assign;function V(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ne(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,fe,he=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return fe(e,t)}))}:fe);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ce=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function _e(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function De(){}var Ae=!1;function Le(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ce)&&(De(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(f)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(fe){Oe=!1}function Me(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var je=!1,Fe=null,Ve=!1,Ue=null,ze={onError:function(e){je=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){je=!1,Fe=null,Me.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Je=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,et=a.unstable_ImmediatePriority,tt=a.unstable_UserBlockingPriority,nt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,it=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/lt|0)|0},ut=Math.log,lt=Math.LN2;var ct=64,ft=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,Ct,Tt,_t=!1,It=[],Nt=null,Dt=null,At=null,Lt=new Map,Rt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=bi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function zt(){_t=!1,null!==Nt&&Vt(Nt)&&(Nt=null),null!==Dt&&Vt(Dt)&&(Dt=null),null!==At&&Vt(At)&&(At=null),Lt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Dt&&Bt(Dt,e),null!==At&&Bt(At,e),Lt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=wt,a=qt.transition;qt.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,qt.transition=a}}function Gt(e,t,n,r){var i=wt,a=qt.transition;qt.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,qt.transition=a}}function Qt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,$t,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=jt(Nt,e,t,n,r,i),!0;case"dragenter":return Dt=jt(Dt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lt.set(a,jt(Lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,jt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=bi(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,un,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,un=e.screenY-ln.screenY):un=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=on(pn),mn=on(F({},pn,{dataTransfer:0})),yn=on(F({},hn,{relatedTarget:0})),gn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(bn),kn=on(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Cn}var _n=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(_n),Nn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Ln),On=[9,13,27,32],Pn=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var jn=f&&"TextEvent"in window&&!Mn,Fn=f&&(!Pn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function $n(e){Vr(e,0)}function Yn(e){if(Q(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(f){var Zn;if(f){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Zn=er}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Gn&&(Gn.detachEvent("onpropertychange",rr),Qn=Gn=null)}function rr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Kn(t,Qn,e,xe(e)),Le($n,t)}}function ir(e,t,n){"focusin"===e?(nr(),Qn=n,(Gn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=fr(n,a);var o=fr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,br=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==$(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Gr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Cr={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}f&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=Tr("animationend"),Ir=Tr("animationiteration"),Nr=Tr("animationstart"),Dr=Tr("transitionend"),Ar=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Lr.length;Or++){var Pr=Lr[Or];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Be.apply(this,arguments),je){if(!je)throw Error(o(198));var c=Fe;je=!1,Fe=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=bi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Le((function(){var r=a,i=xe(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=fn,l=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case _r:case Ir:case Nr:u=gn;break;case Dr:u=An;break;case"scroll":u=dn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&c.push(Kr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!bi(l)&&!l[vi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?bi(l):null)&&(l!==(f=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=vn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==l?s:ki(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,bi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)c=Qr(c),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Qr(c),h=Qr(h)}c=null}else c=null;null!==u&&$r(o,s,u,c,!1),null!==l&&null!==f&&$r(o,f,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Jn)m=sr;else{m=ar;var y=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&te(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(yr=y,gr=r,br=null);break;case"focusout":br=gr=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(g=tn()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Wn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Pn&&zn(e,t)?(e=tn(),en=Zt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ai="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ui)}:ii;function ui(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,vi="__reactContainer$"+hi,mi="__reactEvents$"+hi,yi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function bi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=fi(e);null!==e;){if(n=e[di])return n;e=fi(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var Si=[],Ei=-1;function Ci(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function _i(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ii={},Ni=Ci(Ii),Di=Ci(!1),Ai=Ii;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Di),Ti(Ni)}function Pi(e,t,n){if(Ni.current!==Ii)throw Error(o(168));_i(Ni,t),_i(Di,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ni.current,_i(Ni,e),_i(Di,Di.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Di),Ti(Ni),_i(Ni,e)):Ti(Di),_i(Di,n)}var Vi=null,Ui=!1,zi=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function Wi(){if(!zi&&null!==Vi){zi=!0;var t=0,n=wt;try{var r=Vi;for(wt=1;t<r.length;t++){var i=r[t];do{i=i(!0)}while(null!==i)}Vi=null,Ui=!1}catch(e){throw null!==Vi&&(Vi=Vi.slice(t+1)),Qe(et,Wi),e}finally{wt=n,zi=!1}}return null}var qi=[],Hi=0,Ki=null,Gi=0,Qi=[],$i=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Hi++]=Gi,qi[Hi++]=Ki,Ki=e,Gi=t}function ea(e,t,n){Qi[$i++]=Xi,Qi[$i++]=Ji,Qi[$i++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-st(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ta(e){null!==e.return&&(Zi(e,1),ea(e,1,0))}function na(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Qi[--$i],Qi[$i]=null,Ji=Qi[--$i],Qi[$i]=null,Xi=Qi[--$i],Qi[$i]=null}var ra=null,ia=null,aa=!1,oa=null;function sa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,ia=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var t=ia;if(t){var n=t;if(!ua(e,t)){if(la(e))throw Error(o(418));t=ci(n.nextSibling);var r=ra;t&&ua(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(la(e))throw Error(o(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ha(e){if(e!==ra)return!1;if(!aa)return fa(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw da(),Error(o(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=ra?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ia;e;)e=ci(e.nextSibling)}function pa(){ia=ra=null,aa=!1}function va(e){null===oa?oa=[e]:oa.push(e)}var ma=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ci(null),ba=null,wa=null,ka=null;function xa(){ka=wa=ba=null}function Sa(e){var t=ga.current;Ti(ga),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ba=e,ka=wa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===wa){if(null===ba)throw Error(o(308));wa=e,ba.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var _a=null;function Ia(e){null===_a?_a=[e]:_a.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Du)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ua=(new i.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(il(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(il(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nl(),r=rl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(il(t,e,r,n),Ma(t,e,r))}};function Wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Ri(t)?Ai:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Ri(t)?Ai:Ni.current,i.context=Li(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=jl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case S:return(t=Ul(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(ne(t)||M(t))return(t=jl(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(ne(n)||M(n))return null!==i?null:f(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),aa&&Zi(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return aa&&Zi(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),aa&&Zi(i,v),l}function m(i,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),aa&&Zi(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=a(g,s,m),null===f?c=g:f.sibling=g,f=g);return aa&&Zi(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),aa&&Zi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&$a(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=jl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ml(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case S:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(ne(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},eo=Ci(Za),to=Ci(Za),no=Ci(Za);function ro(e){if(e===Za)throw Error(o(174));return e}function io(e,t){switch(_i(no,t),_i(to,e),_i(eo,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(eo),_i(eo,t)}function ao(){Ti(eo),Ti(to),Ti(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=le(t,e.type);t!==n&&(_i(to,e),_i(eo,n))}function so(e){to.current===e&&(Ti(eo),Ti(to))}var uo=Ci(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function fo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=k.ReactCurrentDispatcher,po=k.ReactCurrentBatchConfig,vo=0,mo=null,yo=null,go=null,bo=!1,wo=!1,ko=0,xo=0;function So(){throw Error(o(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,a){if(vo=a,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?us:ls,e=n(r,i),wo){a=0;do{if(wo=!1,ko=0,25<=a)throw Error(o(301));a+=1,go=yo=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(wo)}if(ho.current=ss,t=null!==yo&&null!==yo.next,vo=0,go=yo=mo=null,bo=!1,t)throw Error(o(300));return e}function To(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===yo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,yo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function No(e,t){return"function"===typeof t?t(e):t}function Do(e){var t=Io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((vo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,mo.lanes|=f,Fu|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,ur(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,mo.lanes|=a,Fu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);ur(a,t.memoizedState)||(ks=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Lo(){}function Ro(e,t){var n=mo,r=Io(),i=t(),a=!ur(r.memoizedState,i);if(a&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(o(349));0!==(30&vo)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){jo(t)&&Fo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Da(e,1);null!==t&&il(t,e,1,-1)}function Vo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Io().memoizedState}function Bo(e,t,n,r){var i=_o();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return Wo(2048,8,e,t)}function Ko(e,t){return Wo(4,2,e,t)}function Go(e,t){return Wo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Qo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(ur(n,t)||(n=mt(),mo.lanes|=n,Fu|=n,e.baseState=!0),t)}function es(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{wt=n,po.transition=r}}function ts(){return Io().memoizedState}function ns(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))as(t,n);else if(null!==(n=Na(e,t,n,r))){il(n,e,r,nl()),os(n,t,r)}}function rs(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))as(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ur(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Na(e,t,i,r))&&(il(n,e,r,i=nl()),os(n,t,r))}}function is(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){wo=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var ss={readContext:Ta,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ns.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=es.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=_o();if(aa){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Au)throw Error(o(349));0!==(30&vo)||Oo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qo(Mo.bind(null,r,a,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_o(),t=Au.identifierPrefix;if(aa){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ta,useCallback:Xo,useContext:Ta,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Do,useRef:zo,useState:function(){return Do(No)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Io(),yo.memoizedState,e)},useTransition:function(){return[Do(No)[0],Io().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Ro,useId:ts,unstable_isNewReconciler:!1},cs={readContext:Ta,useCallback:Xo,useContext:Ta,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:zo,useState:function(){return Ao(No)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Zo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(No)[0],Io().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Ro,useId:ts,unstable_isNewReconciler:!1};function fs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Gu=r),ds(0,t)},n}function ms(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Qu?Qu=new Set([this]):Qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=k.ReactCurrentOwner,ks=!1;function xs(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=To(),null===e||ks?(aa&&n&&ta(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Pl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Pu,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Pu,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Pu,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Pu,Ou),Ou|=r;return xs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ri(n)?Ai:Ni.current;return a=Li(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=To(),null===e||ks?(aa&&r&&ta(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var a=!0;ji(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ta(l):l=Li(t,l=Ri(n)?Ai:Ni.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Di.current||Aa?("function"===typeof c&&(za(t,n,c,r),u=t.memoizedState),(s=Aa||Wa(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ya(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ta(u):u=Li(t,u=Ri(n)?Ai:Ni.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Di.current||Aa?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(l=Aa||Wa(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ds(e,t,n,r,a,i)}function Ds(e,t,n,r,i,a){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ks(e,t,a);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),io(e,t.containerInfo)}function Ls(e,t,n,r,i){return pa(),va(i),t.flags|=256,xs(e,t,n,r),t.child}var Rs,Os,Ps,Ms,js={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vs(e,t,n){var r,i=t.pendingProps,a=uo.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(uo,1&a),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=jl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=js,e):Us(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(a=jl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=js,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,zs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Da(e,i),il(r,e,i,-1))}return yl(),zs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ia=ci(i.nextSibling),ra=t,aa=!0,oa=null,null!==e&&(Qi[$i++]=Xi,Qi[$i++]=Ji,Qi[$i++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pl(r,s):(s=jl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&va(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Qs(t),null;case 3:return r=t.stateNode,ao(),Ti(Di),Ti(Ni),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(ul(oa),oa=null))),Os(e,t),Qs(t),null;case 5:so(t);var i=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Qs(t),null}if(e=ro(eo.current),ha(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ae(r,a),Ur("invalid",r)}for(var s in be(n,a),i=null,a)if(a.hasOwnProperty(s)){var l=a[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),ee(r,a,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[pi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(s=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),i=ie(e,r),Ur("invalid",e)}for(a in be(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ye(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&w(e,a,c,s))}switch(n){case"input":G(e),ee(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?re(e,!!r.multiple,a,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ro(no.current),ro(eo.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Qs(t),null;case 13:if(Ti(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))da(),pa(),t.flags|=98560,a=!1;else if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qs(t),a=!1}else null!==oa&&(ul(oa),oa=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Mu&&(Mu=3):yl())),null!==t.updateQueue&&(t.flags|=4),Qs(t),null);case 4:return ao(),Os(e,t),null===e&&Wr(t.stateNode.containerInfo),Qs(t),null;case 10:return Sa(t.type._context),Qs(t),null;case 19:if(Ti(uo),null===(a=t.memoizedState))return Qs(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Gs(a,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=lo(e))){for(t.flags|=128,Gs(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>qu&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!aa)return Qs(t),null}else 2*Je()-a.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Qs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Qs(t),6&t.subtreeFlags&&(t.flags|=8192)):Qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(na(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ti(Di),Ti(Ni),fo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return so(t),null;case 13:if(Ti(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(uo),null;case 4:return ao(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(eo.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=ie(e,i),r=ie(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,Zs="function"===typeof WeakSet?WeakSet:Set,eu=null;function tu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function nu(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var ru=!1;function iu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&nu(t,n,a)}i=i.next}while(i!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return 5===e.tag||3===e.tag||4===e.tag}function lu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function fu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(fu(e,t,n),e=e.sibling;null!==e;)fu(e,t,n),e=e.sibling}var hu=null,du=!1;function pu(e,t,n){for(n=n.child;null!==n;)vu(e,t,n),n=n.sibling}function vu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||tu(n,t);case 6:var r=hu,i=du;hu=null,pu(e,t,n),du=i,null!==(hu=r)&&(du?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(du?(e=hu,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(hu,n.stateNode));break;case 4:r=hu,i=du,hu=n.stateNode.containerInfo,du=!0,pu(e,t,n),hu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&nu(n,t,o),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Js&&(tu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pu(e,t,n),Js=r):pu(e,t,n);break;default:pu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Dl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,du=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===hu)throw Error(o(160));vu(a,s,i),hu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Tl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),bu(e),4&r){try{iu(3,e,e.return),au(3,e)}catch(m){Tl(e,e.return,m)}try{iu(5,e,e.return)}catch(m){Tl(e,e.return,m)}}break;case 1:yu(t,e),bu(e),512&r&&null!==n&&tu(n,n.return);break;case 5:if(yu(t,e),bu(e),512&r&&null!==n&&tu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Tl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),we(u,s);var c=we(u,a);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?he(i,h):"children"===f?de(i,h):w(i,f,h,c)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?re(i,!!a.multiple,a.defaultValue,!0):re(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){Tl(e,e.return,m)}}break;case 6:if(yu(t,e),bu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Tl(e,e.return,m)}}break;case 3:if(yu(t,e),bu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Tl(e,e.return,m)}break;case 4:default:yu(t,e),bu(e);break;case 13:yu(t,e),bu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Je())),4&r&&mu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||f,yu(t,e),Js=c):yu(t,e),bu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(eu=e,f=e.child;null!==f;){for(h=eu=f;null!==eu;){switch(p=(d=eu).child,d.tag){case 0:case 11:case 14:case 15:iu(4,d,d.return);break;case 1:tu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tl(r,n,m)}}break;case 5:tu(d,d.return);break;case 22:if(null!==d.memoizedState){Su(h);continue}}null!==p?(p.return=d,eu=p):Su(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(m){Tl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Tl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(t,e),bu(e),4&r&&mu(e);case 21:}}function bu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(uu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),fu(e,lu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,lu(e),a);break;default:throw Error(o(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wu(e,t,n){eu=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==eu;){var i=eu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var l=Js;if(Xs=o,(Js=u)&&!l)for(eu=i;null!==eu;)u=(o=eu).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,eu=u):Eu(i);for(;null!==a;)eu=a,ku(a,t,n),a=a.sibling;eu=i,Xs=s,Js=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,eu=a):xu(e)}}function xu(e){for(;null!==eu;){var t=eu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Va(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ou(t)}catch(d){Tl(t,t.return,d)}}if(t===e){eu=null;break}if(null!==(n=t.sibling)){n.return=t.return,eu=n;break}eu=t.return}}function Su(e){for(;null!==eu;){var t=eu;if(t===e){eu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,eu=n;break}eu=t.return}}function Eu(e){for(;null!==eu;){var t=eu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){Tl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tl(t,i,u)}}var a=t.return;try{ou(t)}catch(u){Tl(t,a,u)}break;case 5:var o=t.return;try{ou(t)}catch(u){Tl(t,o,u)}}}catch(u){Tl(t,t.return,u)}if(t===e){eu=null;break}var s=t.sibling;if(null!==s){s.return=t.return,eu=s;break}eu=t.return}}var Cu,Tu=Math.ceil,_u=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,Nu=k.ReactCurrentBatchConfig,Du=0,Au=null,Lu=null,Ru=0,Ou=0,Pu=Ci(0),Mu=0,ju=null,Fu=0,Vu=0,Uu=0,zu=null,Bu=null,Wu=0,qu=1/0,Hu=null,Ku=!1,Gu=null,Qu=null,$u=!1,Yu=null,Xu=0,Ju=0,Zu=null,el=-1,tl=0;function nl(){return 0!==(6&Du)?Je():-1!==el?el:el=Je()}function rl(e){return 0===(1&e.mode)?1:0!==(2&Du)&&0!==Ru?Ru&-Ru:null!==ma.transition?(0===tl&&(tl=mt()),tl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function il(e,t,n,r){if(50<Ju)throw Ju=0,Zu=null,Error(o(185));gt(e,n,r),0!==(2&Du)&&e===Au||(e===Au&&(0===(2&Du)&&(Vu|=n),4===Mu&&ll(e,Ru)),al(e,r),1===n&&0===Du&&0===(1&t.mode)&&(qu=Je()+500,Ui&&Wi()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-st(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Au?Ru:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cl.bind(null,e)):Bi(cl.bind(null,e)),si((function(){0===(6&Du)&&Wi()})),n=null;else{switch(kt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Al(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(el=-1,tl=0,0!==(6&Du))throw Error(o(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=dt(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Du;Du|=2;var a=ml();for(Au===e&&Ru===t||(Hu=null,qu=Je()+500,pl(e,t));;)try{wl();break}catch(u){vl(e,u)}xa(),_u.current=a,Du=i,null!==Lu?t=0:(Au=null,Ru=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=sl(e,i))),1===t)throw n=ju,pl(e,0),ll(e,r),al(e,Je()),n;if(6===t)ll(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=vt(e))&&(r=a,t=sl(e,a))),1===t))throw n=ju,pl(e,0),ll(e,r),al(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sl(e,Bu,Hu);break;case 3:if(ll(e,r),(130023424&r)===r&&10<(t=Wu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Sl.bind(null,e,Bu,Hu),t);break}Sl(e,Bu,Hu);break;case 4:if(ll(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-st(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ii(Sl.bind(null,e,Bu,Hu),r);break}Sl(e,Bu,Hu);break;default:throw Error(o(329))}}}return al(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function sl(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Bu,Bu=n,null!==t&&ul(t)),e}function ul(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function ll(e,t){for(t&=~Uu,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Du))throw Error(o(327));El();var t=dt(e,0);if(0===(1&t))return al(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=ju,pl(e,0),ll(e,t),al(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,Bu,Hu),al(e,Je()),null}function fl(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(qu=Je()+500,Ui&&Wi())}}function hl(e){null!==Yu&&0===Yu.tag&&0===(6&Du)&&El();var t=Du;Du|=1;var n=Nu.transition,r=wt;try{if(Nu.transition=null,wt=1,e)return e()}finally{wt=r,Nu.transition=n,0===(6&(Du=t))&&Wi()}}function dl(){Ou=Pu.current,Ti(Pu)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ai(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:ao(),Ti(Di),Ti(Ni),fo();break;case 5:so(r);break;case 4:ao();break;case 13:case 19:Ti(uo);break;case 10:Sa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Au=e,Lu=e=Pl(e.current,null),Ru=Ou=t,Mu=0,ju=null,Uu=Vu=Fu=0,Bu=zu=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function vl(e,t){for(;;){var n=Lu;try{if(xa(),ho.current=ss,bo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bo=!1}if(vo=0,go=yo=mo=null,wo=!1,ko=0,Iu.current=null,null===n||null===n.return){Mu=1,ju=t,Lu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,bs(p,s,u,0,t),1&p.mode&&ys(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ys(a,c,t),yl();break e}l=Error(o(426))}else if(aa&&1&u.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bs(y,s,u,0,t),va(fs(l,u));break e}}a=l=fs(l,u),4!==Mu&&(Mu=2),null===zu?zu=[a]:zu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,ja(a,vs(0,l,t));break e;case 1:u=l;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qu||!Qu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,ja(a,ms(a,u,t));break e}}a=a.return}while(null!==a)}xl(n)}catch(w){t=w,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function ml(){var e=_u.current;return _u.current=ss,null===e?ss:e}function yl(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Au||0===(268435455&Fu)&&0===(268435455&Vu)||ll(Au,Ru)}function gl(t,n){var r=Du;Du|=2;var i=ml();for(Au===t&&Ru===n||(Hu=null,pl(t,n));;)try{bl();break}catch(e){vl(t,e)}if(xa(),Du=r,_u.current=i,null!==Lu)throw Error(o(261));return Au=null,Ru=0,Mu}function bl(){for(;null!==Lu;)kl(Lu)}function wl(){for(;null!==Lu&&!Ye();)kl(Lu)}function kl(e){var t=Cu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?xl(e):Lu=t,Iu.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Ou)))return void(Lu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return Mu=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Mu&&(Mu=5)}function Sl(e,t,n){var r=wt,i=Nu.transition;try{Nu.transition=null,wt=1,function(e,t,n,r){do{El()}while(null!==Yu);if(0!==(6&Du))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Au&&(Lu=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$u||($u=!0,Al(nt,(function(){return El(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nu.transition,Nu.transition=null;var s=wt;wt=1;var u=Du;Du|=4,Iu.current=null,function(e,t){if(ti=Ht,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===a&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Ht=!1,eu=t;null!==eu;)if(e=(t=eu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,eu=e;else for(;null!==eu;){t=eu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ya(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Tl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,eu=e;break}eu=t.return}v=ru,ru=!1}(e,n),gu(n,e),vr(ni),Ht=!!ti,ni=ti=null,e.current=n,wu(n,e,i),Xe(),Du=u,wt=s,Nu.transition=a}else e.current=n;if($u&&($u=!1,Yu=e,Xu=i),a=e.pendingLanes,0===a&&(Qu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Gu,Gu=null,e;0!==(1&Xu)&&0!==e.tag&&El(),a=e.pendingLanes,0!==(1&a)?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,Wi()}(e,t,n,r)}finally{Nu.transition=i,wt=r}return null}function El(){if(null!==Yu){var e=kt(Xu),t=Nu.transition,n=wt;try{if(Nu.transition=null,wt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Du))throw Error(o(331));var i=Du;for(Du|=4,eu=e.current;null!==eu;){var a=eu,s=a.child;if(0!==(16&eu.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(eu=c;null!==eu;){var f=eu;switch(f.tag){case 0:case 11:case 15:iu(8,f,a)}var h=f.child;if(null!==h)h.return=f,eu=h;else for(;null!==eu;){var d=(f=eu).sibling,p=f.return;if(su(f),f===c){eu=null;break}if(null!==d){d.return=p,eu=d;break}eu=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}eu=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,eu=s;else e:for(;null!==eu;){if(0!==(2048&(a=eu).flags))switch(a.tag){case 0:case 11:case 15:iu(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,eu=g;break e}eu=a.return}}var b=e.current;for(eu=b;null!==eu;){var w=(s=eu).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,eu=w;else e:for(s=b;null!==eu;){if(0!==(2048&(u=eu).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(x){Tl(u,u.return,x)}if(u===s){eu=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,eu=k;break e}eu=u.return}}if(Du=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{wt=n,Nu.transition=t}}return!1}function Cl(e,t,n){e=Pa(e,t=vs(0,t=fs(n,t),1),1),t=nl(),null!==e&&(gt(e,1,t),al(e,t))}function Tl(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qu||!Qu.has(r))){t=Pa(t,e=ms(t,e=fs(n,e),1),1),e=nl(),null!==t&&(gt(t,1,e),al(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nl(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Mu||3===Mu&&(130023424&Ru)===Ru&&500>Je()-Wu?pl(e,0):Uu|=n),al(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ft,0===(130023424&(ft<<=1))&&(ft=4194304)));var n=nl();null!==(e=Da(e,t))&&(gt(e,t,n),al(e,n))}function Nl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Dl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Il(e,n)}function Al(e,t){return Qe(e,t)}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ll(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return jl(n.children,i,a,t);case C:s=8,i|=8;break;case T:return(e=Rl(12,n,t,2|i)).elementType=T,e.lanes=a,e;case D:return(e=Rl(13,n,t,i)).elementType=D,e.lanes=a,e;case A:return(e=Rl(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Fl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case I:s=9;break e;case N:s=11;break e;case L:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new zl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Wl(e){if(!e)return Ii;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Wl(null),n=e.current,(a=Oa(r=nl(),i=rl(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,gt(e,i,r),al(e,r),e}function Hl(e,t,n,r){var i=t.current,a=nl(),o=rl(i);return n=Wl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(il(e,i,o,a),Ma(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ql(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:As(t),pa();break;case 5:oo(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(_i(uo,1&uo.current),null!==(e=Ks(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ks(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,aa&&0!==(1048576&t.flags)&&ea(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Li(t,Ni.current);Ca(t,n),i=Co(null,t,r,e,i,n);var a=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ds(null,t,r,!0,a,n)):(t.tag=0,aa&&a&&ta(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===L)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ya(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=fs(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=fs(Error(o(424)),t));break e}for(ia=ci(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,oa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Ks(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&ca(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ri(r,i)?s=null:null!==a&&ri(r,a)&&(t.flags|=32),_s(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vs(e,t,n);case 4:return io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(ga,r._currentValue),r._currentValue=s,null!==a)if(ur(a.value,s)){if(a.children===i.children&&!Di.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Oa(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ea(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ta(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Es(e,t,r,i=ya(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,Ca(t,n),qa(t,r,i),Ka(t,r,i,n),Ds(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(){}function tc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",ec);return e._reactRootContainer=o,e[vi]=o.current,Wr(8===e.nodeType?e.parentNode:e),hl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",ec);return e._reactRootContainer=u,e[vi]=u.current,Wr(8===e.nodeType?e.parentNode:e),hl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Kl(o)}Xl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hl(e,t,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Hl(null,e,null,null)})),t[vi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(bt(t,1|n),al(t,Je()),0===(6&Du)&&(qu=Je()+500,Wi()))}break;case 13:hl((function(){var t=Da(e,1);if(null!==t){var n=nl();il(t,e,1,n)}})),Ql(e,1)}},St=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)il(t,e,134217728,nl());Ql(e,134217728)}},Et=function(e){if(13===e.tag){var t=rl(e),n=Da(e,t);if(null!==n)il(n,e,t,nl());Ql(e,t)}},Ct=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));Q(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Ne=fl,De=hl;var nc={usingClientEntryPoint:!1,Events:[wi,ki,xi,_e,Ie,fl]},rc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(ic),ot=ac}catch(fe){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,n.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},n.createRoot=function(e,t){if(!Jl(e))throw Error(o(299));var n=!1,r="",i=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yl(t)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},n.flushSync=function(e){return hl(e)},n.hydrate=function(e,t,n){if(!Zl(t))throw Error(o(200));return tc(null,e,t,!0,n)},n.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,a,s),e[vi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},n.render=function(e,t,n){if(!Zl(t))throw Error(o(200));return tc(null,e,t,!1,n)},n.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(o(40));return!!e._reactRootContainer&&(hl((function(){tc(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},n.unstable_batchedUpdates=fl,n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return tc(e,t,n,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,R(x);else{var t=r(c);null!==t&&O(k,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&O(k,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,T=-1,_=5,I=-1;function N(){return!(t.unstable_now()-I<_)}function D(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=D,S=function(){L.postMessage(null)}}else S=function(){y(D,0)};function R(e){C=e,E||(E=!0,S())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,O(k,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".bf46caed.chunk.js"},r.miniCssF=function(e){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ex-spaced-repetition:";r.l=function(n,i,a,o){if(e[n])e[n].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[i];var h=function(t,r){s.onerror=s.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/Spaced-repetition/",function(){var e={179:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=a);var o=r.p+r.u(t),s=new Error;r.l(o,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,a,o=n[0],s=n[1],u=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)u(r)}for(t&&t(n);l<o.length;l++)a=o[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkex_spaced_repetition=self.webpackChunkex_spaced_repetition||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){if(e){if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}var a=r(791),o=r(250);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(D){c=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new _(i||[]);return r(o,"_invoke",{value:S(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};c(y,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(I([])));b&&b!==t&&n.call(b,a)&&(y=b);var w=m.prototype=p.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,o,u){var l=h(e[r],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),c(w,l,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,s,"next",e)}function s(e){l(a,r,i,o,s,"throw",e)}o(void 0)}))}}function f(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}String.prototype.onHighlightText=function(e,t){if(e){var n=new RegExp(e.trim().toLowerCase(),"gi");return this.replace(n,"<span class='highlight'>".concat(t?t(e):"$&","</span>"))}return this},String.prototype.removeSpecialCharacters=function(){return this.replace(/[,./;'[\]\=-`\\\/<>?:"{}|+_\(\)*&^%$#@!~]/g,"")};var m=!window.location.hostname.includes("localhost");function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e,t,n){return b=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},b.apply(null,arguments)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function k(){return k="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},k.apply(this,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},x(e)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){var t=g();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function T(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function N(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var D=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new L;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},L=function(e){S(n,e);var t=C(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return N(n)}(x(Error)),R=function(e){return function(e){var t=D(e);return A.encodeByteArray(t,!0)}(e).replace(/\./g,"")},O=function(t){try{return A.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};var P=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},M=function(){try{return P()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Spaced-repetition",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var n=t&&O(t[1]);return n&&JSON.parse(n)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},j=function(e){var t=function(e){var t,n;return null===(n=null===(t=M())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},F=function(){var e;return null===(e=M())||void 0===e?void 0:e.config},V=function(){function e(){var t=this;_(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return N(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function U(){try{return"object"===typeof indexedDB}catch(e){return!1}}var z=function(e){S(n,e);var t=C(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(E(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(E(a),B.prototype.create),a}return N(n)}(x(Error)),B=function(){function e(t,n,r){_(this,e),this.service=t,this.serviceName=n,this.errors=r}return N(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(W,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new z(n,a,t)}}]),e}();var W=/\{\$([^}]+)}/g;function q(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(H(s)&&H(u)){if(!q(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function H(e){return null!==e&&"object"===typeof e}function K(e){return e&&e._delegate?e._delegate:e}var G=function(){function e(t,n,r){_(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return N(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Q="[DEFAULT]",$=function(){function t(e,n){_(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return N(t,[{key:"get",value:function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new V;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(e){}}return this.instancesDeferred.get(n).promise}},{key:"getImmediate",value:function(t){var n,r=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(n=null===t||void 0===t?void 0:t.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(i)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(e){}var n,r=i(this.instancesDeferred.entries());try{for(r.s();!(n=r.n()).done;){var a=v(n.value,2),o=a[0],s=a[1],u=this.normalizeInstanceIdentifier(o);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(e){}}}catch(c){r.e(c)}finally{r.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(T(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),T(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=i(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=v(a.value,2),l=u[0],c=u[1];r===this.normalizeInstanceIdentifier(l)&&c.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;try{o(e,t)}catch(hh){}}}catch(s){a.e(s)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Q?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(hh){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.component?this.component.multipleInstances?e:Q:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var Y,X,J=function(){function e(t){_(this,e),this.name=t,this.providers=new Map}return N(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new $(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Z=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(X||(X={}));var ee={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},te=X.INFO,ne=(h(Y={},X.DEBUG,"log"),h(Y,X.VERBOSE,"log"),h(Y,X.INFO,"info"),h(Y,X.WARN,"warn"),h(Y,X.ERROR,"error"),Y),re=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ne[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ie=function(){function e(t){_(this,e),this.name=t,this._logLevel=te,this._logHandler=re,this._userLogHandler=null,Z.push(this)}return N(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in X))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ee[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.DEBUG].concat(t)),this._logHandler.apply(this,[this,X.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.VERBOSE].concat(t)),this._logHandler.apply(this,[this,X.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.INFO].concat(t)),this._logHandler.apply(this,[this,X.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.WARN].concat(t)),this._logHandler.apply(this,[this,X.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.ERROR].concat(t)),this._logHandler.apply(this,[this,X.ERROR].concat(t))}}]),e}();var ae,oe,se=function(e,t){return t.some((function(t){return e instanceof t}))};var ue=new WeakMap,le=new WeakMap,ce=new WeakMap,fe=new WeakMap,he=new WeakMap;var de={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return le.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ce.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return me(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function pe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ye(this),n),me(ue.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return me(e.apply(ye(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ye(this),t].concat(r));return ce.set(a,t.sort?t.sort():[t]),me(a)}}function ve(e){return"function"===typeof e?pe(e):(e instanceof IDBTransaction&&function(e){if(!le.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));le.set(e,t)}}(e),se(e,ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,de):e)}function me(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(me(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ue.set(t,e)})).catch((function(){})),he.set(t,e),t}(e);if(fe.has(e))return fe.get(e);var t=ve(e);return t!==e&&(fe.set(e,t),he.set(t,e)),t}var ye=function(e){return he.get(e)};var ge,be,we=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],xe=new Map;function Se(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(xe.get(t))return xe.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ke.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||we.includes(n))){var a=function(){var e=c(u().mark((function e(t){var a,o,s,l,c,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return xe.set(t,a),a}}}de=function(e){return p(p({},e),{},{get:function(t,n,r){return Se(t,n)||e.get(t,n,r)},has:function(t,n){return!!Se(t,n)||e.has(t,n)}})}(de);var Ee=function(){function e(t){_(this,e),this.container=t}return N(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ce="@firebase/app",Te="0.9.7",_e=new ie("@firebase/app"),Ie="[DEFAULT]",Ne=(h(ge={},Ce,"fire-core"),h(ge,"@firebase/app-compat","fire-core-compat"),h(ge,"@firebase/analytics","fire-analytics"),h(ge,"@firebase/analytics-compat","fire-analytics-compat"),h(ge,"@firebase/app-check","fire-app-check"),h(ge,"@firebase/app-check-compat","fire-app-check-compat"),h(ge,"@firebase/auth","fire-auth"),h(ge,"@firebase/auth-compat","fire-auth-compat"),h(ge,"@firebase/database","fire-rtdb"),h(ge,"@firebase/database-compat","fire-rtdb-compat"),h(ge,"@firebase/functions","fire-fn"),h(ge,"@firebase/functions-compat","fire-fn-compat"),h(ge,"@firebase/installations","fire-iid"),h(ge,"@firebase/installations-compat","fire-iid-compat"),h(ge,"@firebase/messaging","fire-fcm"),h(ge,"@firebase/messaging-compat","fire-fcm-compat"),h(ge,"@firebase/performance","fire-perf"),h(ge,"@firebase/performance-compat","fire-perf-compat"),h(ge,"@firebase/remote-config","fire-rc"),h(ge,"@firebase/remote-config-compat","fire-rc-compat"),h(ge,"@firebase/storage","fire-gcs"),h(ge,"@firebase/storage-compat","fire-gcs-compat"),h(ge,"@firebase/firestore","fire-fst"),h(ge,"@firebase/firestore-compat","fire-fst-compat"),h(ge,"fire-js","fire-js"),h(ge,"firebase","fire-js-all"),ge),De=new Map,Ae=new Map;function Le(t,n){try{t.container.addComponent(n)}catch(e){_e.debug("Component ".concat(n.name," failed to register with FirebaseApp ").concat(t.name),e)}}function Re(e){var t=e.name;if(Ae.has(t))return _e.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ae.set(t,e);var n,r=i(De.values());try{for(r.s();!(n=r.n()).done;){Le(n.value,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function Oe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Pe=(h(be={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(be,"bad-app-name","Illegal App name: '{$appName}"),h(be,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(be,"app-deleted","Firebase App named '{$appName}' already deleted"),h(be,"no-options","Need to provide options, when not being deployed to hosting via source."),h(be,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(be,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(be,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),h(be,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),h(be,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),h(be,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),be),Me=new B("app","Firebase",Pe),je=function(){function e(t,n,r){var i=this;_(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new G("app",(function(){return i}),"PUBLIC"))}return N(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Me.create("app-deleted",{appName:this._name})}}]),e}();function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Ie,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Me.create("bad-app-name",{appName:String(a)});if(n||(n=F()),!n)throw Me.create("no-options");var o=De.get(a);if(o){if(q(n,o.options)&&q(r,o.config))return o;throw Me.create("duplicate-app",{appName:a})}var s,u=new J(a),l=i(Ae.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new je(n,r,u);return De.set(a,f),f}function Ve(e,t,n){var r,i=null!==(r=Ne[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _e.warn(s.join(" "))}Re(new G("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Ue="firebase-heartbeat-database",ze=1,Be="firebase-heartbeat-store",We=null;function qe(){return We||(We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=me(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(me(s.result),e.oldVersion,e.newVersion,me(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Ue,ze,{upgrade:function(e,t){if(0===t)e.createObjectStore(Be)}}).catch((function(e){throw Me.create("idb-open",{originalErrorMessage:e.message})}))),We}function He(e){return Ke.apply(this,arguments)}function Ke(){return Ke=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe();case 3:return n=e.sent,e.abrupt("return",n.transaction(Be).objectStore(Be).get($e(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof z?_e.warn(e.t0.message):(r=Me.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_e.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ke.apply(this,arguments)}function Ge(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe();case 3:return r=e.sent,i=r.transaction(Be,"readwrite"),a=i.objectStore(Be),e.next=8,a.put(n,$e(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof z?_e.warn(e.t0.message):(o=Me.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_e.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Qe.apply(this,arguments)}function $e(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ye=function(){function e(t){var n=this;_(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new et(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return N(e,[{key:"triggerHeartbeat",value:function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Xe(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Xe(),n=Je(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=R(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xe(){return(new Date).toISOString().substring(0,10)}function Je(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],a=e.slice(),o=i(e);try{var s=function(){var e=t.value,i=r.find((function(t){return t.agent===e.agent}));if(i){if(i.dates.push(e.date),tt(r)>n)return i.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),tt(r)>n)return r.pop(),"break";a=a.slice(1)};for(o.s();!(t=o.n()).done;){if("break"===s())break}}catch(u){o.e(u)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:a}}var Ze,et=function(){function e(t){_(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return N(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,He(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ge(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ge(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(T(r.heartbeats),T(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function tt(e){return R(JSON.stringify({version:2,heartbeats:e})).length}Ze="",Re(new G("platform-logger",(function(e){return new Ee(e)}),"PRIVATE")),Re(new G("heartbeat",(function(e){return new Ye(e)}),"PRIVATE")),Ve(Ce,Te,Ze),Ve(Ce,Te,"esm2017"),Ve("fire-js","");var nt,rt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{},it={},at=at||{},ot=rt||self;function st(){}function ut(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ct="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function ht(e,t,n){return e.call.apply(e.bind,arguments)}function dt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:dt).apply(null,arguments)}function vt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function yt(){this.s=this.s,this.o=this.o}yt.prototype.s=!1,yt.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ct)&&e[ct]||(e[ct]=++ft))},yt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function bt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function wt(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ut(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function kt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ot.addEventListener("test",st,t),ot.removeEventListener("test",st,t)}catch(n){}return e}();function St(e){return/^[\s\xa0]*$/.test(e)}var Et=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ct(e,t){return e<t?-1:e>t?1:0}function Tt(){var e=ot.navigator;return e&&(e=e.userAgent)?e:""}function _t(e){return-1!=Tt().indexOf(e)}function It(e){return It[" "](e),e}It[" "]=st;var Nt,Dt=_t("Opera"),At=_t("Trident")||_t("MSIE"),Lt=_t("Edge"),Rt=Lt||At,Ot=_t("Gecko")&&!(-1!=Tt().toLowerCase().indexOf("webkit")&&!_t("Edge"))&&!(_t("Trident")||_t("MSIE"))&&!_t("Edge"),Pt=-1!=Tt().toLowerCase().indexOf("webkit")&&!_t("Edge");function Mt(){var e=ot.document;return e?e.documentMode:void 0}e:{var jt="",Ft=function(){var e=Tt();return Ot?/rv:([^\);]+)(\)|;)/.exec(e):Lt?/Edge\/([\d\.]+)/.exec(e):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pt?/WebKit\/(\S+)/.exec(e):Dt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ft&&(jt=Ft?Ft[1]:""),At){var Vt=Mt();if(null!=Vt&&Vt>parseFloat(jt)){Nt=String(Vt);break e}}Nt=jt}var Ut,zt={};function Bt(){return function(e){var t=zt;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Et(String(Nt)).split("."),n=Et("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ct(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ct(0==a[2].length,0==o[2].length)||Ct(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ot.document&&At){var Wt=Mt();Ut=Wt||(parseInt(Nt,10)||void 0)}else Ut=void 0;var qt=Ut;function Ht(e,t){if(kt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ot){e:{try{It(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ht.X.h.call(this)}}mt(Ht,kt);var Kt={2:"touch",3:"pen",4:"mouse"};Ht.prototype.h=function(){Ht.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function $t(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Qt,this.ba=this.ea=!1}function Yt(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Xt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jt(e){var t={};for(var n in e)t[n]=e[n];return t}var Zt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Zt.length;a++)n=Zt[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function tn(e){this.src=e,this.g={},this.h=0}function nn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Yt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=rn(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new $t(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var an="closure_lm_"+(1e6*Math.random()|0),on={};function sn(e,t,n,r,i){if(r&&r.once)return ln(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)sn(e,t[a],n,r,i);return null}return n=mn(n),e&&e[Gt]?e.N(t,n,lt(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lt(i)?!!i.capture:!!i,s=pn(e);if(s||(e[an]=s=new tn(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=dn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ln(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ln(e,t[a],n,r,i);return null}return n=mn(n),e&&e[Gt]?e.O(t,n,lt(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function cn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)cn(e,t[a],n,r,i);else r=lt(r)?!!r.capture:!!r,n=mn(n),e&&e[Gt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=rn(a=e.g[t],n,r,i))&&(Yt(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=pn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Gt])nn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pn(t))?(nn(n,e),0==n.h&&(n.src=null,t[an]=null)):Yt(e)}}}function hn(e){return e in on?on[e]:on[e]="on"+e}function dn(e,t){if(e.ba)e=!0;else{t=new Ht(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&fn(e),e=n.call(r,t)}return e}function pn(e){return(e=e[an])instanceof tn?e:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(e){return"function"===typeof e?e:(e[vn]||(e[vn]=function(t){return e.handleEvent(t)}),e[vn])}function yn(){yt.call(this),this.i=new tn(this),this.P=this,this.I=null}function gn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new kt(t,e);else if(t instanceof kt)t.target=t.target||e;else{var i=t;en(t=new kt(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=bn(o,r,!0,t)&&i}if(i=bn(o=t.g=e,r,!0,t)&&i,i=bn(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=bn(o=t.g=n[a],r,!1,t)&&i}function bn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&nn(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}mt(yn,yt),yn.prototype[Gt]=!0,yn.prototype.removeEventListener=function(e,t,n,r){cn(this,e,t,n,r)},yn.prototype.M=function(){if(yn.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yt(n[r]);delete t.g[e],t.h--}}this.I=null},yn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var wn=ot.JSON.stringify;function kn(){var e=Nn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xn,Sn=function(){function e(){_(this,e),this.h=this.g=null}return N(e,[{key:"add",value:function(e,t){var n=En.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),En=new(function(){function e(t,n){_(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return N(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Cn}),(function(e){return e.reset()})),Cn=function(){function e(){_(this,e),this.next=this.g=this.h=null}return N(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Tn(e){ot.setTimeout((function(){throw e}),0)}function _n(e,t){xn||function(){var e=ot.Promise.resolve(void 0);xn=function(){e.then(Dn)}}(),In||(xn(),In=!0),Nn.add(e,t)}var In=!1,Nn=new Sn;function Dn(){for(var e;e=kn();){try{e.h.call(e.g)}catch(n){Tn(n)}var t=En;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}In=!1}function An(e,t){yn.call(this),this.h=e||1,this.g=t||ot,this.j=pt(this.lb,this),this.l=Date.now()}function Ln(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Rn(e,t,n){if("function"===typeof e)n&&(e=pt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pt(e.handleEvent,e)}return 2147483647<Number(t)?-1:ot.setTimeout(e,t||0)}function On(e){e.g=Rn((function(){e.g=null,e.i&&(e.i=!1,On(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}mt(An,yn),(nt=An.prototype).ca=!1,nt.R=null,nt.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gn(this,"tick"),this.ca&&(Ln(this),this.start()))}},nt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){An.X.M.call(this),Ln(this),delete this.g};var Pn=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return N(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:On(this)}},{key:"M",value:function(){k(w(n.prototype),"M",this).call(this),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(yt);function Mn(e){yt.call(this),this.h=e,this.g={}}mt(Mn,yt);var jn=[];function Fn(e,t,n,r){Array.isArray(n)||(n&&(jn[0]=n.toString()),n=jn);for(var i=0;i<n.length;i++){var a=sn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Vn(e){Xt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fn(e)}),e),e.g={}}function Un(){this.g=!0}function zn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return wn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Mn.prototype.M=function(){Mn.X.M.call(this),Vn(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Un.prototype.Aa=function(){this.g=!1},Un.prototype.info=function(){};var Bn={},Wn=null;function qn(){return Wn=Wn||new yn}function Hn(e){kt.call(this,Bn.Pa,e)}function Kn(e){var t=qn();gn(t,new Hn(t))}function Gn(e,t){kt.call(this,Bn.STAT_EVENT,e),this.stat=t}function Qn(e){var t=qn();gn(t,new Gn(t,e))}function $n(e,t){kt.call(this,Bn.Qa,e),this.size=t}function Yn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ot.setTimeout((function(){e()}),t)}Bn.Pa="serverreachability",mt(Hn,kt),Bn.STAT_EVENT="statevent",mt(Gn,kt),Bn.Qa="timingevent",mt($n,kt);var Xn={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Jn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Zn(){}function er(e){return e.h||(e.h=e.i())}function tr(){}Zn.prototype.h=null;var nr,rr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ir(){kt.call(this,"d")}function ar(){kt.call(this,"c")}function or(){}function sr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Mn(this),this.O=lr,e=Rt?125:void 0,this.T=new An(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}mt(ir,kt),mt(ar,kt),mt(or,Zn),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},nr=new or;var lr=45e3,cr={},fr={};function hr(e,t,n){e.K=1,e.v=Ar(Tr(t)),e.s=n,e.P=!0,dr(e,null)}function dr(e,t){e.F=Date.now(),yr(e),e.A=Tr(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),qr(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ur,e.g=Hi(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Pn(pt(e.La,e,e.g),e.N)),Fn(e.S,e.g,"readystatechange",e.ib),t=e.H?Jt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Kn(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function pr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function vr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mr(e,n))==fr){4==t&&(e.o=4,Qn(14),i=!1),zn(e.j,e.m,null,"[Incomplete Response]");break}if(r==cr){e.o=4,Qn(15),zn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zn(e.j,e.m,r,null),xr(e,r)}pr(e)&&r!=fr&&r!=cr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ji(t),t.K=!0,Qn(11))):(zn(e.j,e.m,n,"[Invalid Chunked Response]"),kr(e),wr(e))}function mr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fr:(n=Number(t.substring(n,r)),isNaN(n)?cr:(r+=1)+n>t.length?fr:(t=t.substr(r,n),e.C=r+n,t))}function yr(e){e.V=Date.now()+e.O,gr(e,e.O)}function gr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Yn(pt(e.gb,e),t)}function br(e){e.B&&(ot.clearTimeout(e.B),e.B=null)}function wr(e){0==e.l.G||e.I||Ui(e.l,e)}function kr(e){br(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ln(e.T),Vn(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Jr(n.h,e)))if(!e.J&&Jr(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Vi(n),Ni(n)}Mi(n),Qn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Yn(pt(n.cb,n),6e3));if(1>=Xr(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Bi(n,11)}else if((e.J||n.g==e)&&Vi(n),!St(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Zr(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Dr(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=qi(r,r.H?r.ka:null,r.V),d.J){ei(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(br(p),yr(p)),r.g=d}else Pi(r);0<n.i.length&&Ai(n)}else"stop"!=a[0]&&"close"!=a[0]||Bi(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Bi(n,7):Ii(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Kn()}catch(a){}}function Sr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ut(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ut(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ut(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(nt=sr.prototype).setTimeout=function(e){this.O=e},nt.ib=function(e){e=e.target;var t=this.L;t&&3==xi(e)?t.l():this.La(e)},nt.La=function(e){try{if(e==this.g)e:{var t=xi(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Rt||this.g&&(this.h.h||this.g.fa()||Si(this.g)))){this.I||4!=t||7==n||Kn(),br(this);var r=this.g.aa();this.Y=r;t:if(pr(this)){var i=Si(this.g);e="";var a=i.length,o=4==xi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){kr(this),wr(this);var s="";break t}this.h.i=new ot.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!St(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Qn(12),kr(this),wr(this);break e}zn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xr(this,r)}this.P?(vr(this,t,s),Rt&&this.i&&3==t&&(Fn(this.S,this.T,"tick",this.hb),this.T.start())):(zn(this.j,this.m,s,null),xr(this,s)),4==t&&kr(this),this.i&&!this.I&&(4==t?Ui(this.l,this):(this.i=!1,yr(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),kr(this),wr(this)}}}catch(t){}},nt.hb=function(){if(this.g){var e=xi(this.g),t=this.g.fa();this.C<t.length&&(br(this),vr(this,e,t),this.i&&4!=e&&yr(this))}},nt.cancel=function(){this.I=!0,kr(this)},nt.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Kn(),Qn(17)),kr(this),this.o=2,wr(this)):gr(this,this.V-e)};var Er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cr){this.h=void 0!==t?t:e.h,_r(this,e.j),this.s=e.s,this.g=e.g,Ir(this,e.m),this.l=e.l,t=e.i;var n=new Ur;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nr(this,n),this.o=e.o}else e&&(n=String(e).match(Er))?(this.h=!!t,_r(this,n[1]||"",!0),this.s=Lr(n[2]||""),this.g=Lr(n[3]||"",!0),Ir(this,n[4]),this.l=Lr(n[5]||"",!0),Nr(this,n[6]||"",!0),this.o=Lr(n[7]||"")):(this.h=!!t,this.i=new Ur(null,this.h))}function Tr(e){return new Cr(e)}function _r(e,t,n){e.j=n?Lr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ir(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nr(e,t,n){t instanceof Ur?(e.i=t,function(e,t){t&&!e.j&&(zr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Br(this,t),qr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Rr(t,Fr)),e.i=new Ur(t,e.h))}function Dr(e,t,n){e.i.set(t,n)}function Ar(e){return Dr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Or),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Or(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rr(t,Pr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rr(t,Pr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rr(n,"/"==n.charAt(0)?jr:Mr,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rr(n,Vr)),e.join("")};var Pr=/[#\/\?@]/g,Mr=/[#\?:]/g,jr=/[#\?]/g,Fr=/[#\?@]/g,Vr=/#/g;function Ur(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zr(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Br(e,t){zr(e),t=Hr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Wr(e,t){return zr(e),t=Hr(e,t),e.g.has(t)}function qr(e,t,n){Br(e,t),0<n.length&&(e.i=null,e.g.set(Hr(e,t),bt(n)),e.h+=n.length)}function Hr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(nt=Ur.prototype).add=function(e,t){zr(this),this.i=null,e=Hr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},nt.forEach=function(e,t){zr(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},nt.oa=function(){zr(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},nt.W=function(e){zr(this);var t=[];if("string"===typeof e)Wr(this,e)&&(t=t.concat(this.g.get(Hr(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},nt.set=function(e,t){return zr(this),this.i=null,Wr(this,e=Hr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nt.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Kr=N((function e(t,n){_(this,e),this.h=t,this.g=n}));function Gr(e){this.l=e||$r,ot.PerformanceNavigationTiming?e=0<(e=ot.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ot.g&&ot.g.Ga&&ot.g.Ga()&&ot.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qr,$r=10;function Yr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xr(e){return e.h?1:e.g?e.g.size:0}function Jr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Zr(e,t){e.g?e.g.add(t):e.h=t}function ei(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ti(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=i(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.D)}}catch(o){r.e(o)}finally{r.f()}return n}return bt(e.i)}function ni(){}function ri(){this.g=new ni}function ii(t,n,r){var i=r||"";try{Sr(t,(function(e,t){var r=e;lt(e)&&(r=wn(e)),n.push(i+t+"="+encodeURIComponent(r))}))}catch(e){throw n.push(i+"type="+encodeURIComponent("_badmap")),e}}function ai(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oi(e){this.l=e.ac||null,this.j=e.jb||!1}function si(e,t){yn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ui,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gr.prototype.cancel=function(){if(this.i=ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=i(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ni.prototype.stringify=function(e){return ot.JSON.stringify(e,void 0)},ni.prototype.parse=function(e){return ot.JSON.parse(e,void 0)},mt(oi,Zn),oi.prototype.g=function(){return new si(this.l,this.j)},oi.prototype.i=(Qr={},function(){return Qr}),mt(si,yn);var ui=0;function li(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ci(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fi(e)}function fi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nt=si.prototype).open=function(e,t){if(this.readyState!=ui)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fi(this)},nt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ot).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ci(this)),this.readyState=ui},nt.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ot.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;li(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},nt.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ci(this):fi(this),3==this.readyState&&li(this)}},nt.Va=function(e){this.g&&(this.response=this.responseText=e,ci(this))},nt.Ua=function(e){this.g&&(this.response=e,ci(this))},nt.ga=function(){this.g&&ci(this)},nt.setRequestHeader=function(e,t){this.v.append(e,t)},nt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(si.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hi=ot.JSON.parse;function di(e){yn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pi,this.K=this.L=!1}mt(di,yn);var pi="",vi=/^https?$/i,mi=["POST","PUT"];function yi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gi(e),wi(e)}function gi(e){e.D||(e.D=!0,gn(e,"complete"),gn(e,"error"))}function bi(e){if(e.h&&"undefined"!=typeof at&&(!e.C[1]||4!=xi(e)||2!=e.aa()))if(e.v&&4==xi(e))Rn(e.Ha,0,e);else if(gn(e,"readystatechange"),4==xi(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Er)[1]||null;if(!a&&ot.self&&ot.self.location){var o=ot.self.location.protocol;a=o.substr(0,o.length-1)}i=!vi.test(a?a.toLowerCase():"")}t=i}if(t)gn(e,"complete"),gn(e,"success");else{e.m=6;try{var s=2<xi(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",gi(e)}}finally{wi(e)}}}function wi(t,n){if(t.g){ki(t);var r=t.g,i=t.C[0]?st:null;t.g=null,t.C=null,n||gn(t,"ready");try{r.onreadystatechange=i}catch(e){}}}function ki(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ot.clearTimeout(e.A),e.A=null)}function xi(e){return e.g?e.g.readyState:0}function Si(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case pi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ua){return null}}function Ei(e){var t="";return Xt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ci(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ei(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dr(e,t,n))}function Ti(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _i(e){this.Ca=0,this.i=[],this.j=new Un,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ti("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ti("baseRetryDelayMs",5e3,e),this.bb=Ti("retryDelaySeedMs",1e4,e),this.$a=Ti("forwardChannelMaxRetries",2,e),this.ta=Ti("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Gr(e&&e.concurrentRequestLimit),this.Fa=new ri,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ii(e){if(Di(e),3==e.G){var t=e.U++,n=Tr(e.F);Dr(n,"SID",e.I),Dr(n,"RID",t),Dr(n,"TYPE","terminate"),Ri(e,n),(t=new sr(e,e.j,t,void 0)).K=2,t.v=Ar(Tr(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon&&(n=ot.navigator.sendBeacon(t.v.toString(),"")),!n&&ot.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hi(t.l,null),t.g.da(t.v)),t.F=Date.now(),yr(t)}Wi(e)}function Ni(e){e.g&&(ji(e),e.g.cancel(),e.g=null)}function Di(e){Ni(e),e.u&&(ot.clearTimeout(e.u),e.u=null),Vi(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ot.clearTimeout(e.m),e.m=null)}function Ai(e){Yr(e.h)||e.m||(e.m=!0,_n(e.Ja,e),e.C=0)}function Li(e,t){var n;n=t?t.m:e.U++;var r=Tr(e.F);Dr(r,"SID",e.I),Dr(r,"RID",n),Dr(r,"AID",e.T),Ri(e,r),e.o&&e.s&&Ci(r,e.o,e.s),n=new sr(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Oi(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Zr(e.h,n),hr(n,r,t)}function Ri(e,t){e.ia&&Xt(e.ia,(function(e,n){Dr(t,n,e)})),e.l&&Sr({},(function(e,n){Dr(t,n,e)}))}function Oi(e,t,n){n=Math.min(e.i.length,n);var r=e.l?pt(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{ii(c,o,"req"+l+"_")}catch(ga){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Pi(e){e.g||e.u||(e.Z=1,_n(e.Ia,e),e.A=0)}function Mi(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Yn(pt(e.Ia,e),zi(e,e.A)),e.A++,!0)}function ji(e){null!=e.B&&(ot.clearTimeout(e.B),e.B=null)}function Fi(e){e.g=new sr(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Tr(e.sa);Dr(t,"RID","rpc"),Dr(t,"SID",e.I),Dr(t,"CI",e.L?"0":"1"),Dr(t,"AID",e.T),Dr(t,"TYPE","xmlhttp"),Ri(e,t),e.o&&e.s&&Ci(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ar(Tr(t)),n.s=null,n.P=!0,dr(n,e)}function Vi(e){null!=e.v&&(ot.clearTimeout(e.v),e.v=null)}function Ui(e,t){var n=null;if(e.g==t){Vi(e),ji(e),e.g=null;var r=2}else{if(!Jr(e.h,t))return;n=t.D,ei(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;gn(r=qn(),new $n(r,n)),Ai(e)}else Pi(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Xr(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Yn(pt(e.Ja,e,t),zi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Mi(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Bi(e,5);break;case 4:Bi(e,10);break;case 3:Bi(e,6);break;default:Bi(e,2)}}function zi(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Bi(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=pt(e.kb,e);n||(n=new Cr("//www.google.com/images/cleardot.gif"),ot.location&&"http"==ot.location.protocol||_r(n,"https"),Ar(n)),function(e,t){var n=new Un;if(ot.Image){var r=new Image;r.onload=vt(ai,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vt(ai,n,r,"TestLoadImage: error",!1,t),r.onabort=vt(ai,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vt(ai,n,r,"TestLoadImage: timeout",!1,t),ot.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qn(2);e.G=0,e.l&&e.l.va(t),Wi(e),Di(e)}function Wi(e){if(e.G=0,e.la=[],e.l){var t=ti(e.h);0==t.length&&0==e.i.length||(wt(e.la,t),wt(e.la,e.i),e.h.i.length=0,bt(e.i),e.i.length=0),e.l.ua()}}function qi(e,t,n){var r=n instanceof Cr?Tr(n):new Cr(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ir(r,r.m);else{var i=ot.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Cr(null,void 0);r&&_r(a,r),t&&(a.g=t),i&&Ir(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Dr(r,n,t),Dr(r,"VER",e.ma),Ri(e,r),r}function Hi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new di(new oi({jb:!0})):new di(e.ra)).Ka(e.H),t}function Ki(){}function Gi(){if(At&&!(10<=Number(qt)))throw Error("Environmental error: no available transport.")}function Qi(e,t){yn.call(this),this.g=new _i(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!St(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!St(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Xi(this)}function $i(e){ir.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yi(){ar.call(this),this.status=1}function Xi(e){this.g=e}(nt=di.prototype).Ka=function(e){this.L=e},nt.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nr.g(),this.C=this.u?er(this.u):er(nr),this.g.onreadystatechange=pt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void yi(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,s=i(r.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=ot.FormData&&e instanceof ot.FormData,!(0<=gt(mi,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=i(n);try{for(c.s();!(l=c.n()).done;){var f=v(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ki(this),0<this.B&&((this.K=function(e){return At&&Bt()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.qa,this)):this.A=Rn(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){yi(this,u)}},nt.qa=function(){"undefined"!=typeof at&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},nt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gn(this,"complete"),gn(this,"abort"),wi(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wi(this,!0)),di.X.M.call(this)},nt.Ha=function(){this.s||(this.F||this.v||this.l?bi(this):this.fb())},nt.fb=function(){bi(this)},nt.aa=function(){try{return 2<xi(this)?this.g.status:-1}catch(Qr){return-1}},nt.fa=function(){try{return this.g?this.g.responseText:""}catch(Qr){return""}},nt.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hi(t)}},nt.Ea=function(){return this.m},nt.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(nt=_i.prototype).ma=8,nt.G=1,nt.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new sr(this,this.j,e,void 0),n=this.s;if(this.S&&(n?en(n=Jt(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Oi(this,t,r),Dr(i=Tr(this.F),"RID",e),Dr(i,"CVER",22),this.D&&Dr(i,"X-HTTP-Session-Id",this.D),Ri(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ei(n)))+"&"+r:this.o&&Ci(i,this.o,n)),Zr(this.h,t),this.Ya&&Dr(i,"TYPE","init"),this.O?(Dr(i,"$req",r),Dr(i,"SID","null"),t.Z=!0,hr(t,i,null)):hr(t,i,r),this.G=2}}else 3==this.G&&(e?Li(this,e):0==this.i.length||Yr(this.h)||Li(this))},nt.Ia=function(){if(this.u=null,Fi(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Yn(pt(this.eb,this),e)}},nt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qn(10),Ni(this),Fi(this))},nt.cb=function(){null!=this.v&&(this.v=null,Ni(this),Mi(this),Qn(19))},nt.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Qn(2)):(this.j.info("Failed to ping google.com"),Qn(1))},(nt=Ki.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Ra=function(){},Gi.prototype.g=function(e,t){return new Qi(e,t)},mt(Qi,yn),Qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Qn(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=qi(e,null,e.V),Ai(e)},Qi.prototype.close=function(){Ii(this.g)},Qi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=wn(e),e=n);t.i.push(new Kr(t.ab++,e)),3==t.G&&Ai(t)},Qi.prototype.M=function(){this.g.l=null,delete this.j,Ii(this.g),delete this.g,Qi.X.M.call(this)},mt($i,ir),mt(Yi,ar),mt(Xi,Ki),Xi.prototype.xa=function(){gn(this.g,"a")},Xi.prototype.wa=function(e){gn(this.g,new $i(e))},Xi.prototype.va=function(e){gn(this.g,new Yi)},Xi.prototype.ua=function(){gn(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,Jn.COMPLETE="complete",tr.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",yn.prototype.listen=yn.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.Oa,di.prototype.getLastErrorCode=di.prototype.Ea,di.prototype.getStatus=di.prototype.aa,di.prototype.getResponseJson=di.prototype.Sa,di.prototype.getResponseText=di.prototype.fa,di.prototype.send=di.prototype.da,di.prototype.setWithCredentials=di.prototype.Ka;var Ji=it.createWebChannelTransport=function(){return new Gi},Zi=it.getStatEventTarget=function(){return qn()},ea=it.ErrorCode=Xn,ta=it.EventType=Jn,na=it.Event=Bn,ra=it.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ia=it.FetchXmlHttpFactory=oi,aa=it.WebChannel=tr,oa=it.XhrIo=di,sa="@firebase/firestore",ua=function(){function e(t){_(this,e),this.uid=t}return N(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ua.UNAUTHENTICATED=new ua(null),ua.GOOGLE_CREDENTIALS=new ua("google-credentials-uid"),ua.FIRST_PARTY=new ua("first-party-uid"),ua.MOCK_USER=new ua("mock-user");var la="9.19.0",ca=new ie("@firebase/firestore");function fa(){return ca.logLevel}function ha(e){if(ca.logLevel<=X.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(va);ca.debug.apply(ca,["Firestore (".concat(la,"): ").concat(e)].concat(T(i)))}}function da(e){if(ca.logLevel<=X.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(va);ca.error.apply(ca,["Firestore (".concat(la,"): ").concat(e)].concat(T(i)))}}function pa(e){if(ca.logLevel<=X.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(va);ca.warn.apply(ca,["Firestore (".concat(la,"): ").concat(e)].concat(T(i)))}}function va(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(la,") INTERNAL ASSERTION FAILED: ")+e;throw da(t),new Error(t)}function ya(e,t){e||ma()}function ga(e,t){return e}var ba={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wa=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return N(n)}(z),ka=N((function e(){var t=this;_(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xa=N((function e(t,n){_(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Sa=function(){function e(){_(this,e)}return N(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ua.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ea=function(){function e(t){_(this,e),this.token=t,this.changeListener=null}return N(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ca=function(){function e(t){_(this,e),this.t=t,this.currentUser=ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return N(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ka;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ka,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ha("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ha("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ka)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ha("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ya("string"==typeof n.accessToken),new xa(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ya(null===e||"string"==typeof e),new ua(e)}}]),e}(),Ta=function(){function e(t,n,r){_(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ua.FIRST_PARTY,this.g=new Map}return N(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),_a=function(){function e(t,n,r){_(this,e),this.h=t,this.l=n,this.m=r}return N(e,[{key:"getToken",value:function(){return Promise.resolve(new Ta(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ua.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ia=N((function e(t){_(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Na=function(){function e(t){_(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return N(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ha("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,ha("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ha("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):ha("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ya("string"==typeof t.token),e.T=t.token,new Ia(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Da(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Aa=function(){function e(){_(this,e)}return N(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Da(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function La(e,t){return e<t?-1:e>t?1:0}function Ra(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Oa=function(){function e(t,n){if(_(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new wa(ba.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wa(ba.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new wa(ba.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wa(ba.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return N(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?La(this.nanoseconds,e.nanoseconds):La(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Pa=function(){function e(t){_(this,e),this.timestamp=t}return N(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Oa(0,0))}},{key:"max",value:function(){return new e(new Oa(253402300799,999999999))}}]),e}(),Ma=function(){function e(t,n,r){_(this,e),void 0===n?n=0:n>t.length&&ma(),void 0===r?r=t.length-n:r>t.length-n&&ma(),this.segments=t,this.offset=n,this.len=r}return N(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ja=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new wa(ba.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,T(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ma),Fa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Va=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fa.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new wa(ba.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new wa(ba.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wa(ba.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new wa(ba.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ma),Ua=function(){function e(t){_(this,e),this.path=t}return N(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ja.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ja.fromString(t))}},{key:"fromName",value:function(t){return new e(ja.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ja.emptyPath())}},{key:"comparator",value:function(e,t){return ja.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ja(t.slice()))}}]),e}(),za=N((function e(t,n,r,i){_(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));za.UNKNOWN_ID=-1;function Ba(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pa.fromTimestamp(1e9===r?new Oa(n+1,0):new Oa(n,r));return new qa(i,Ua.empty(),t)}function Wa(e){return new qa(e.readTime,e.key,-1)}var qa=function(){function e(t,n,r){_(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return N(e,null,[{key:"min",value:function(){return new e(Pa.min(),Ua.empty(),-1)}},{key:"max",value:function(){return new e(Pa.max(),Ua.empty(),-1)}}]),e}();function Ha(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ua.comparator(e.documentKey,t.documentKey))?n:La(e.largestBatchId,t.largestBatchId)}var Ka="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ga=function(){function e(){_(this,e),this.onCommittedListeners=[]}return N(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Qa(e){return $a.apply(this,arguments)}function $a(){return $a=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ba.FAILED_PRECONDITION&&t.message===Ka){e.next=2;break}throw t;case 2:ha("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}var Ya=function(){function e(t){var n=this;_(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return N(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ma(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),a=i(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Xa(e){return"IndexedDbTransactionError"===e.name}var Ja=function(){function e(t,n){var r=this;_(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return N(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Za(e){return null==e}function eo(e){return 0===e&&1/e==-1/0}function to(e){return"number"==typeof e&&Number.isInteger(e)&&!eo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ja.ct=-1;var no=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ro=([].concat(T(no),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),io=ro;[].concat(io,["indexConfiguration","indexState","indexEntries"]);function ao(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function so(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var uo=function(){function e(t,n){_(this,e),this.comparator=t,this.root=n||co.EMPTY}return N(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,co.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,co.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lo(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lo(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lo(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lo(this.root,e,this.comparator,!0)}}]),e}(),lo=function(){function e(t,n,r,i){_(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return N(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),co=function(){function e(t,n,r,i,a){_(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return N(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ma();if(this.right.isRed())throw ma();var e=this.left.check();if(e!==this.right.check())throw ma();return e+(this.isRed()?0:1)}}]),e}();co.EMPTY=null,co.RED=!0,co.BLACK=!1,co.EMPTY=new(function(){function e(){_(this,e),this.size=0}return N(e,[{key:"key",get:function(){throw ma()}},{key:"value",get:function(){throw ma()}},{key:"color",get:function(){throw ma()}},{key:"left",get:function(){throw ma()}},{key:"right",get:function(){throw ma()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new co(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fo=function(){function e(t){_(this,e),this.comparator=t,this.data=new uo(this.comparator)}return N(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ho(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ho(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ho=function(){function e(t){_(this,e),this.iter=t}return N(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var po=function(){function e(t){_(this,e),this.fields=t,t.sort(Va.comparator)}return N(e,[{key:"unionWith",value:function(t){var n,r=new fo(Va.comparator),a=i(this.fields);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=r.add(o)}}catch(c){a.e(c)}finally{a.f()}var s,u=i(t);try{for(u.s();!(s=u.n()).done;){var l=s.value;r=r.add(l)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=i(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ra(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),vo=function(e){S(n,e);var t=C(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return N(n)}(x(Error));var mo=function(e){function t(e){_(this,t),this.binaryString=e}return N(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return La(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vo("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();mo.EMPTY_BYTE_STRING=new mo("");var yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(e){if(ya(!!e),"string"==typeof e){var t=0,n=yo.exec(e);if(ya(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bo(e.seconds),nanos:bo(e.nanos)}}function bo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wo(e){return"string"==typeof e?mo.fromBase64String(e):mo.fromUint8Array(e)}function ko(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xo(e){var t=e.mapValue.fields.__previous_value__;return ko(t)?xo(t):t}function So(e){var t=go(e.mapValue.fields.__local_write_time__.timestampValue);return new Oa(t.seconds,t.nanos)}var Eo=N((function e(t,n,r,i,a,o,s,u){_(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Co=function(){function e(t,n){_(this,e),this.projectId=t,this.database=n||"(default)"}return N(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),To={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ko(e)?4:zo(e)?9007199254740991:10:ma()}function Io(e,t){if(e===t)return!0;var n=_o(e);if(n!==_o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return So(e).isEqual(So(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=go(e.timestampValue),r=go(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wo(e.bytesValue).isEqual(wo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bo(e.geoPointValue.latitude)===bo(t.geoPointValue.latitude)&&bo(e.geoPointValue.longitude)===bo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bo(e.integerValue)===bo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bo(e.doubleValue),r=bo(t.doubleValue);return n===r?eo(n)===eo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ra(e.arrayValue.values||[],t.arrayValue.values||[],Io);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ao(n)!==ao(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Io(n[i],r[i])))return!1;return!0}(e,t);default:return ma()}}function No(e,t){return void 0!==(e.values||[]).find((function(e){return Io(e,t)}))}function Do(e,t){if(e===t)return 0;var n=_o(e),r=_o(t);if(n!==r)return La(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return La(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bo(e.integerValue||e.doubleValue),r=bo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ao(e.timestampValue,t.timestampValue);case 4:return Ao(So(e),So(t));case 5:return La(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wo(e),r=wo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=La(n[i],r[i]);if(0!==a)return a}return La(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=La(bo(e.latitude),bo(t.latitude));return 0!==n?n:La(bo(e.longitude),bo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Do(n[i],r[i]);if(a)return a}return La(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===To.mapValue&&t===To.mapValue)return 0;if(e===To.mapValue)return 1;if(t===To.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=La(r[o],a[o]);if(0!==s)return s;var u=Do(n[r[o]],i[a[o]]);if(0!==u)return u}return La(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ma()}}function Ao(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return La(e,t);var n=go(e),r=go(t),i=La(n.seconds,r.seconds);return 0!==i?i:La(n.nanos,r.nanos)}function Lo(e){return Ro(e)}function Ro(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=go(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ua.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,a=i(e.values||[]);try{for(a.s();!(t=a.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Ro(o)}}catch(s){a.e(s)}finally{a.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,a=i(Object.keys(e.fields||{}).sort());try{for(a.s();!(t=a.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(Ro(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return n+"}"}(e.mapValue):ma();var t,n}function Oo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Po(e){return!!e&&"integerValue"in e}function Mo(e){return!!e&&"arrayValue"in e}function jo(e){return!!e&&"nullValue"in e}function Fo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vo(e){return!!e&&"mapValue"in e}function Uo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return oo(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Uo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uo(e.arrayValue.values[r]);return n}return Object.assign({},e)}function zo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Bo=function(){function e(t){_(this,e),this.value=t}return N(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Vo(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(t)}},{key:"setAll",value:function(e){var t=this,n=Va.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Uo(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Vo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Io(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Vo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){oo(t,(function(t,n){return e[t]=n}));var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;delete e[o]}}catch(s){a.e(s)}finally{a.f()}}},{key:"clone",value:function(){return new e(Uo(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Wo(e){var t=[];return oo(e.fields,(function(e,n){var r=new Va([e]);if(Vo(n)){var a=Wo(n.mapValue).fields;if(0===a.length)t.push(r);else{var o,s=i(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;t.push(r.child(u))}}catch(l){s.e(l)}finally{s.f()}}}else t.push(r)})),new po(t)}var qo=function(){function e(t,n,r,i,a,o,s){_(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return N(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Pa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Pa.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Pa.min(),Pa.min(),Pa.min(),Bo.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Pa.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Pa.min(),Pa.min(),Bo.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Pa.min(),Pa.min(),Bo.empty(),2)}}]),e}(),Ho=N((function e(t,n){_(this,e),this.position=t,this.inclusive=n}));function Ko(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ua.comparator(Ua.fromName(o.referenceValue),n.key):Do(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Go(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Io(e.position[n],t.position[n]))return!1;return!0}var Qo=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_(this,e),this.field=t,this.dir=n}));function $o(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Yo=N((function e(){_(this,e)})),Xo=function(e){S(n,e);var t=C(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return N(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Do(t,this.value)):null!==t&&_o(this.value)===_o(t)&&this.matchesComparison(Do(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ma()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new as(e,t,r):"array-contains"===t?new ls(e,r):"in"===t?new cs(e,r):"not-in"===t?new fs(e,r):"array-contains-any"===t?new hs(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new os(e,n):new ss(e,n)}}]),n}(Yo),Jo=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return N(n,[{key:"matches",value:function(e){return Zo(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=i(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Yo);function Zo(e){return"and"===e.op}function es(e){return ts(e)&&Zo(e)}function ts(e){var t,n=i(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Jo)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ns(e){if(e instanceof Xo)return e.field.canonicalString()+e.op.toString()+Lo(e.value);if(es(e))return e.filters.map((function(e){return ns(e)})).join(",");var t=e.filters.map((function(e){return ns(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function rs(e,t){return e instanceof Xo?function(e,t){return t instanceof Xo&&e.op===t.op&&e.field.isEqual(t.field)&&Io(e.value,t.value)}(e,t):e instanceof Jo?function(e,t){return t instanceof Jo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&rs(n,t.filters[r])}),!0)}(e,t):void ma()}function is(e){return e instanceof Xo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Lo(e.value))}(e):e instanceof Jo?function(e){return e.op.toString()+" {"+e.getFilters().map(is).join(" ,")+"}"}(e):"Filter"}var as=function(e){S(n,e);var t=C(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,e,r,i)).key=Ua.fromName(i.referenceValue),a}return N(n,[{key:"matches",value:function(e){var t=Ua.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Xo),os=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,"in",r)).keys=us("in",r),i}return N(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xo),ss=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,"not-in",r)).keys=us("not-in",r),i}return N(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xo);function us(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ua.fromName(e.referenceValue)}))}var ls=function(e){S(n,e);var t=C(n);function n(e,r){return _(this,n),t.call(this,e,"array-contains",r)}return N(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Mo(t)&&No(t.arrayValue,this.value)}}]),n}(Xo),cs=function(e){S(n,e);var t=C(n);function n(e,r){return _(this,n),t.call(this,e,"in",r)}return N(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&No(this.value.arrayValue,t)}}]),n}(Xo),fs=function(e){S(n,e);var t=C(n);function n(e,r){return _(this,n),t.call(this,e,"not-in",r)}return N(n,[{key:"matches",value:function(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!No(this.value.arrayValue,t)}}]),n}(Xo),hs=function(e){S(n,e);var t=C(n);function n(e,r){return _(this,n),t.call(this,e,"array-contains-any",r)}return N(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Mo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return No(t.value.arrayValue,e)}))}}]),n}(Xo),ds=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function ps(e){return new ds(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vs(e){var t=ga(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ns(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Za(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Lo(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Lo(e)})).join(",")),t.ft=n}return t.ft}function ms(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$o(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!rs(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Go(e.startAt,t.startAt)&&Go(e.endAt,t.endAt)}function ys(e){return Ua.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var gs=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this.wt=null,this.startAt,this.endAt}));function bs(e,t,n,r,i,a,o,s){return new gs(e,t,n,r,i,a,o,s)}function ws(e){return new gs(e)}function ks(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ss(e){var t,n=i(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(a){n.e(a)}finally{n.f()}return null}function Es(e){return null!==e.collectionGroup}function Cs(e){var t=ga(e);if(null===t.dt){t.dt=[];var n=Ss(t),r=xs(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Qo(n)),t.dt.push(new Qo(Va.keyField(),"asc"));else{var a,o=!1,s=i(t.explicitOrderBy);try{for(s.s();!(a=s.n()).done;){var u=a.value;t.dt.push(u),u.field.isKeyField()&&(o=!0)}}catch(c){s.e(c)}finally{s.f()}if(!o){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Qo(Va.keyField(),l))}}}return t.dt}function Ts(e){var t=ga(e);if(!t.wt)if("F"===t.limitType)t.wt=ps(t.path,t.collectionGroup,Cs(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],a=i(Cs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s="desc"===o.dir?"asc":"desc";r.push(new Qo(o.field,s))}}catch(c){a.e(c)}finally{a.f()}var u=t.endAt?new Ho(t.endAt.position,t.endAt.inclusive):null,l=t.startAt?new Ho(t.startAt.position,t.startAt.inclusive):null;t.wt=ps(t.path,t.collectionGroup,r,t.filters,t.limit,u,l)}return t.wt}function _s(e,t){t.getFirstInequalityField(),Ss(e);var n=e.filters.concat([t]);return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Is(e,t,n){return new gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ns(e,t){return ms(Ts(e),Ts(t))&&e.limitType===t.limitType}function Ds(e){return"".concat(vs(Ts(e)),"|lt:").concat(e.limitType)}function As(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return is(e)})).join(", "),"]")),Za(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Lo(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Lo(e)})).join(",")),"Target(".concat(t,")")}(Ts(e)),"; limitType=").concat(e.limitType,")")}function Ls(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ua.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=i(Cs(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=i(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ko(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cs(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ko(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cs(e),t))}(e,t)}function Rs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Os(e){return function(t,n){var r,a=!1,o=i(Cs(e));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ps(s,t,n);if(0!==u)return u;a=a||s.field.isKeyField()}}catch(l){o.e(l)}finally{o.f()}return 0}}function Ps(e,t,n){var r=e.field.isKeyField()?Ua.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Do(r,i):ma()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ma()}}var Ms=function(){function e(t,n){_(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return N(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var o=v(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(l){a.e(l)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){oo(this.inner,(function(t,n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var o=v(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(l){a.e(l)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return so(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),js=new uo(Ua.comparator);function Fs(){return js}var Vs=new uo(Ua.comparator);function Us(){for(var e=Vs,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function zs(e){var t=Vs;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Bs(){return qs()}function Ws(){return qs()}function qs(){return new Ms((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hs=new uo(Ua.comparator),Ks=new fo(Ua.comparator);function Gs(){for(var e=Ks,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Qs=new fo(La);function $s(){return Qs}function Ys(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eo(t)?"-0":t}}function Xs(e){return{integerValue:""+e}}function Js(e,t){return to(t)?Xs(t):Ys(e,t)}var Zs=N((function e(){_(this,e),this._=void 0}));function eu(e,t,n){return e instanceof ru?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof iu?au(e,t):e instanceof ou?su(e,t):function(e,t){var n=nu(e,t),r=lu(n)+lu(e._t);return Po(n)&&Po(e._t)?Xs(r):Ys(e.serializer,r)}(e,t)}function tu(e,t,n){return e instanceof iu?au(e,t):e instanceof ou?su(e,t):n}function nu(e,t){return e instanceof uu?Po(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ru=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n)}(Zs),iu=function(e){S(n,e);var t=C(n);function n(e){var r;return _(this,n),(r=t.call(this)).elements=e,r}return N(n)}(Zs);function au(e,t){var n,r=cu(t),a=i(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return Io(t,e)}))||r.push(e)};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}var ou=function(e){S(n,e);var t=C(n);function n(e){var r;return _(this,n),(r=t.call(this)).elements=e,r}return N(n)}(Zs);function su(e,t){var n,r=cu(t),a=i(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!Io(t,e)}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}var uu=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return N(n)}(Zs);function lu(e){return bo(e.integerValue||e.doubleValue)}function cu(e){return Mo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fu=N((function e(t,n){_(this,e),this.version=t,this.transformResults=n})),hu=function(){function e(t,n){_(this,e),this.updateTime=t,this.exists=n}return N(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function du(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pu=N((function e(){_(this,e)}));function vu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _u(e.key,hu.none()):new wu(e.key,e.data,hu.none());var n,r=e.data,a=Bo.empty(),o=new fo(Va.comparator),s=i(t.fields);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(!o.has(u)){var l=r.field(u);null===l&&u.length>1&&(u=u.popLast(),l=r.field(u)),null===l?a.delete(u):a.set(u,l),o=o.add(u)}}}catch(c){s.e(c)}finally{s.f()}return new ku(e.key,a,new po(o.toArray()),hu.none())}function mu(e,t,n){e instanceof wu?function(e,t,n){var r=e.value.clone(),i=Su(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ku?function(e,t,n){if(du(e.precondition,t)){var r=Su(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yu(e,t,n,r){return e instanceof wu?function(e,t,n,r){if(!du(e.precondition,t))return n;var i=e.value.clone(),a=Eu(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ku?function(e,t,n,r){if(!du(e.precondition,t))return n;var i=Eu(e.fieldTransforms,r,t),a=t.data;return a.setAll(xu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return du(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gu(e,t){var n,r=null,a=i(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=t.data.field(o.field),u=nu(o.transform,s||null);null!=u&&(null===r&&(r=Bo.empty()),r.set(o.field,u))}}catch(l){a.e(l)}finally{a.f()}return r||null}function bu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ra(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof iu&&t instanceof iu||e instanceof ou&&t instanceof ou?Ra(e.elements,t.elements,Io):e instanceof uu&&t instanceof uu?Io(e._t,t._t):e instanceof ru&&t instanceof ru}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var wu=function(e){S(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return N(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pu),ku=function(e){S(n,e);var t=C(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return N(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(pu);function xu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Su(e,t,n){var r=new Map;ya(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,tu(o,s,n[i]))}return r}function Eu(e,t,n){var r,a=new Map,o=i(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.transform,l=n.data.field(s.field);a.set(s.field,eu(u,l,t))}}catch(c){o.e(c)}finally{o.f()}return a}var Cu,Tu,_u=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return N(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pu),Iu=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return N(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pu),Nu=function(){function e(t,n,r,i){_(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return N(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=i(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.key.isEqual(e.key)&&(t=yu(a,e,t,this.localWriteTime))}}catch(l){r.e(l)}finally{r.f()}var o,s=i(this.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.key.isEqual(e.key)&&(t=yu(u,e,t,this.localWriteTime))}}catch(l){s.e(l)}finally{s.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ws();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=vu(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Pa.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Gs())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(function(e,t){return bu(e,t)}))&&Ra(this.baseMutations,e.baseMutations,(function(e,t){return bu(e,t)}))}}]),e}(),Du=function(){function e(t,n,r,i){_(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return N(e,null,[{key:"from",value:function(t,n,r){ya(t.mutations.length===r.length);for(var i=Hs,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Au=function(){function e(t,n){_(this,e),this.largestBatchId=t,this.mutation=n}return N(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Lu=N((function e(t){_(this,e),this.count=t}));function Ru(e){switch(e){default:return ma();case ba.CANCELLED:case ba.UNKNOWN:case ba.DEADLINE_EXCEEDED:case ba.RESOURCE_EXHAUSTED:case ba.INTERNAL:case ba.UNAVAILABLE:case ba.UNAUTHENTICATED:return!1;case ba.INVALID_ARGUMENT:case ba.NOT_FOUND:case ba.ALREADY_EXISTS:case ba.PERMISSION_DENIED:case ba.FAILED_PRECONDITION:case ba.ABORTED:case ba.OUT_OF_RANGE:case ba.UNIMPLEMENTED:case ba.DATA_LOSS:return!0}}function Ou(e){if(void 0===e)return da("GRPC error has no .code"),ba.UNKNOWN;switch(e){case Cu.OK:return ba.OK;case Cu.CANCELLED:return ba.CANCELLED;case Cu.UNKNOWN:return ba.UNKNOWN;case Cu.DEADLINE_EXCEEDED:return ba.DEADLINE_EXCEEDED;case Cu.RESOURCE_EXHAUSTED:return ba.RESOURCE_EXHAUSTED;case Cu.INTERNAL:return ba.INTERNAL;case Cu.UNAVAILABLE:return ba.UNAVAILABLE;case Cu.UNAUTHENTICATED:return ba.UNAUTHENTICATED;case Cu.INVALID_ARGUMENT:return ba.INVALID_ARGUMENT;case Cu.NOT_FOUND:return ba.NOT_FOUND;case Cu.ALREADY_EXISTS:return ba.ALREADY_EXISTS;case Cu.PERMISSION_DENIED:return ba.PERMISSION_DENIED;case Cu.FAILED_PRECONDITION:return ba.FAILED_PRECONDITION;case Cu.ABORTED:return ba.ABORTED;case Cu.OUT_OF_RANGE:return ba.OUT_OF_RANGE;case Cu.UNIMPLEMENTED:return ba.UNIMPLEMENTED;case Cu.DATA_LOSS:return ba.DATA_LOSS;default:return ma()}}(Tu=Cu||(Cu={}))[Tu.OK=0]="OK",Tu[Tu.CANCELLED=1]="CANCELLED",Tu[Tu.UNKNOWN=2]="UNKNOWN",Tu[Tu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tu[Tu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tu[Tu.NOT_FOUND=5]="NOT_FOUND",Tu[Tu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tu[Tu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tu[Tu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tu[Tu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tu[Tu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tu[Tu.ABORTED=10]="ABORTED",Tu[Tu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tu[Tu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tu[Tu.INTERNAL=13]="INTERNAL",Tu[Tu.UNAVAILABLE=14]="UNAVAILABLE",Tu[Tu.DATA_LOSS=15]="DATA_LOSS";var Pu=function(){function e(){_(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return N(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Mu}},{key:"getOrCreateInstance",value:function(){return null===Mu&&(Mu=new e),Mu}}]),e}(),Mu=null,ju=function(){function e(t,n,r,i,a){_(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return N(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Pa.min(),i,$s(),Fs(),Gs())}}]),e}(),Fu=function(){function e(t,n,r,i,a){_(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return N(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Gs(),Gs(),Gs())}}]),e}(),Vu=N((function e(t,n,r,i){_(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Uu=N((function e(t,n){_(this,e),this.targetId=t,this.Et=n})),zu=N((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bu=function(){function e(){_(this,e),this.At=0,this.Rt=Hu(),this.vt=mo.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return N(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=Gs(),t=Gs(),n=Gs();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ma()}})),new Fu(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=Hu()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),Wu=function(){function e(t){_(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Fs(),this.qt=qu(),this.Ut=new fo(La)}return N(e,[{key:"Kt",value:function(e){var t,n=i(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var a,o=i(e.removedTargetIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.Qt(s,e.key,e.Tt)}}catch(u){o.e(u)}finally{o.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:ma()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(ys(a))if(0===r){var o=new Ua(a.path);this.Qt(n,o,qo.newNoDocument(o,Pa.min()))}else ya(1===r);else{var s=this.Zt(n);s!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Pu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:s,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&ys(a.target)){var o=new Ua(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,qo.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Gs();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new ju(e,n,this.Ut,this.Lt,r);return this.Lt=Fs(),this.qt=qu(),this.Ut=new fo(La),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new Bu,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new fo(La),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||ha("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Bu),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function qu(){return new uo(Ua.comparator)}function Hu(){return new uo(Ua.comparator)}var Ku={asc:"ASCENDING",desc:"DESCENDING"},Gu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qu={and:"AND",or:"OR"},$u=N((function e(t,n){_(this,e),this.databaseId=t,this.useProto3Json=n}));function Yu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ju(e,t){return Yu(e,t.toTimestamp())}function Zu(e){return ya(!!e),Pa.fromTimestamp(function(e){var t=go(e);return new Oa(t.seconds,t.nanos)}(e))}function el(e,t){return function(e){return new ja(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tl(e){var t=ja.fromString(e);return ya(kl(t)),t}function nl(e,t){return el(e.databaseId,t.path)}function rl(e,t){var n=tl(t);if(n.get(1)!==e.databaseId.projectId)throw new wa(ba.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wa(ba.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ua(sl(n))}function il(e,t){return el(e.databaseId,t)}function al(e){var t=tl(e);return 4===t.length?ja.emptyPath():sl(t)}function ol(e){return new ja(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sl(e){return ya(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ul(e,t,n){return{name:nl(e,t),fields:n.value.mapValue.fields}}function ll(e,t){var n;if(t instanceof wu)n={update:ul(e,t.key,t.value)};else if(t instanceof _u)n={delete:nl(e,t.key)};else if(t instanceof ku)n={update:ul(e,t.key,t.data),updateMask:wl(t.fieldMask)};else{if(!(t instanceof Iu))return ma();n={verify:nl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ru)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ou)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uu)return{fieldPath:t.field.canonicalString(),increment:n._t};throw ma()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ju(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ma()}(e,t.precondition)),n}function cl(e,t){return{documents:[il(e,t.path)]}}function fl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=il(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=il(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return bl(Jo.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yl(e.field),direction:pl(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.useProto3Json||Za(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hl(e){var t=al(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ya(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=dl(e);return t instanceof Jo&&es(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Qo(gl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Za(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Ho(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Ho(n,t)}(n.endAt)),bs(t,i,s,o,u,"F",l,c)}function dl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gl(e.unaryFilter.field);return Xo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gl(e.unaryFilter.field);return Xo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gl(e.unaryFilter.field);return Xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gl(e.unaryFilter.field);return Xo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ma()}}(e):void 0!==e.fieldFilter?function(e){return Xo.create(gl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ma()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jo.create(e.compositeFilter.filters.map((function(e){return dl(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ma()}}(e.compositeFilter.op))}(e):ma()}function pl(e){return Ku[e]}function vl(e){return Gu[e]}function ml(e){return Qu[e]}function yl(e){return{fieldPath:e.canonicalString()}}function gl(e){return Va.fromServerFormat(e.fieldPath)}function bl(e){return e instanceof Xo?function(e){if("=="===e.op){if(Fo(e.value))return{unaryFilter:{field:yl(e.field),op:"IS_NAN"}};if(jo(e.value))return{unaryFilter:{field:yl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fo(e.value))return{unaryFilter:{field:yl(e.field),op:"IS_NOT_NAN"}};if(jo(e.value))return{unaryFilter:{field:yl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(e.field),op:vl(e.op),value:e.value}}}(e):e instanceof Jo?function(e){var t=e.getFilters().map((function(e){return bl(e)}));return 1===t.length?t[0]:{compositeFilter:{op:ml(e.op),filters:t}}}(e):ma()}function wl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function kl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var xl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pa.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pa.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mo.EMPTY_BYTE_STRING;_(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return N(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Sl=N((function e(t){_(this,e),this.se=t}));function El(e){var t=hl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Is(t,t.limit,"L"):t}var Cl=function(){function e(){_(this,e)}return N(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(bo(e.integerValue));else if("doubleValue"in e){var n=bo(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),eo(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(wo(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?zo(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ma()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.ue(o,t)}}catch(s){a.e(s)}finally{a.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Ua.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();Cl.pe=new Cl;var Tl=function(){function e(){_(this,e),this.He=new _l}return N(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),Ya.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ya.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ya.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ya.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ya.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ya.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ya.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ya.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ya.resolve(qa.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ya.resolve(qa.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ya.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ya.resolve()}}]),e}(),_l=function(){function e(){_(this,e),this.index={}}return N(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fo(ja.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fo(ja.comparator)).toArray()}}]),e}();new Uint8Array(0);var Il=function(){function e(t,n,r){_(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return N(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Il.DEFAULT_COLLECTION_PERCENTILE=10,Il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Il.DEFAULT=new Il(41943040,Il.DEFAULT_COLLECTION_PERCENTILE,Il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Il.DISABLED=new Il(-1,0,0);var Nl=function(){function e(t){_(this,e),this.Rn=t}return N(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}();var Dl=function(){function e(){_(this,e),this.changes=new Ms((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return N(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,qo.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ya.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Al=N((function e(t,n){_(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ll=function(){function e(t,n,r,i){_(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return N(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&yu(r.mutation,e,po.empty(),Oa.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Gs()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gs(),i=Bs();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Us();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Bs();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Gs())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Fs(),a=qs(),o=qs();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ku)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),yu(o.mutation,t,o.mutation.getFieldMask(),Oa.now())):a.set(t.key,po.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Al(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=qs(),a=new uo((function(e,t){return e-t})),o=Gs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=i(e);try{var s=function(){var e=n.value;e.keys().forEach((function(n){var i=t.get(n);if(null!==i){var o=r.get(n)||po.empty();o=e.applyToLocalView(i,o),r.set(n,o);var s=(a.get(e.batchId)||Gs()).add(n);a=a.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}})).next((function(){for(var i=[],s=a.getReverseIterator(),u=function(){var a=s.getNext(),u=a.key,l=a.value,c=Ws();l.forEach((function(e){if(!o.has(e)){var n=vu(t.get(e),r.get(e));null!==n&&c.set(e,n),o=o.add(e)}})),i.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return Ya.waitFor(i)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ua.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Es(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ya.resolve(Bs()),s=-1,u=a;return o.next((function(t){return Ya.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Ya.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Gs())})).next((function(e){return{batchId:s,changes:zs(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ua(t)).next((function(e){var t=Us();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Us();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ya.forEach(o,(function(o){var s=function(e,t){return new gs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,qo.newInvalidDocument(r)))}));var n=Us();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&yu(a.mutation,i,po.empty(),Oa.now()),Ls(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Rl=function(){function e(t){_(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return N(e,[{key:"getBundleMetadata",value:function(e,t){return Ya.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Zu(n.createTime)}),Ya.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ya.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:El(e.bundledQuery),readTime:Zu(e.readTime)}}(t)),Ya.resolve()}}]),e}(),Ol=function(){function e(){_(this,e),this.overlays=new uo(Ua.comparator),this.ts=new Map}return N(e,[{key:"getOverlay",value:function(e,t){return Ya.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Bs();return Ya.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),Ya.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),Ya.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Bs(),i=t.length+1,a=new Ua(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ya.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new uo((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Bs(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Bs(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ya.resolve(u)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Au(t,n));var a=this.ts.get(t);void 0===a&&(a=Gs(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),Pl=function(){function e(){_(this,e),this.es=new fo(Ml.ns),this.ss=new fo(Ml.rs)}return N(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ml(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new Ml(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Ua(new ja([])),r=new Ml(n,e),i=new Ml(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Ua(new ja([])),n=new Ml(t,e),r=new Ml(t,e+1),i=Gs();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ml(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ml=function(){function e(t,n){_(this,e),this.key=t,this.ds=n}return N(e,null,[{key:"ns",value:function(e,t){return Ua.comparator(e.key,t.key)||La(e.ds,t.ds)}},{key:"rs",value:function(e,t){return La(e.ds,t.ds)||Ua.comparator(e.key,t.key)}}]),e}(),jl=function(){function e(t,n){_(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new fo(Ml.ns)}return N(e,[{key:"checkEmpty",value:function(e){return Ya.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new Nu(a,t,n,r);this.mutationQueue.push(o);var s,u=i(r);try{for(u.s();!(s=u.n()).done;){var l=s.value;this._s=this._s.add(new Ml(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ya.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return Ya.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return Ya.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ya.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Ya.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ml(t,0),i=new Ml(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),Ya.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fo(La);return t.forEach((function(e){var t=new Ml(e,0),i=new Ml(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),Ya.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ua.isDocumentKey(i)||(i=i.child(""));var a=new Ml(new Ua(i),0),o=new fo(La);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),Ya.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ya(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return Ya.forEach(t.mutations,(function(i){var a=new Ml(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ml(t,0),r=this._s.firstAfterOrEqual(n);return Ya.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ya.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Fl=function(){function e(t){_(this,e),this.Ts=t,this.docs=new uo(Ua.comparator),this.size=0}return N(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ya.resolve(n?n.document.mutableCopy():qo.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Fs();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():qo.newInvalidDocument(e))})),Ya.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Fs(),a=t.path,o=new Ua(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Ha(Wa(c),n)<=0||(r.has(c.key)||Ls(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Ya.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ma()}},{key:"Es",value:function(e,t){return Ya.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Vl(this)}},{key:"getSize",value:function(e){return Ya.resolve(this.size)}}]),e}(),Vl=function(e){S(n,e);var t=C(n);function n(e){var r;return _(this,n),(r=t.call(this)).Jn=e,r}return N(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),Ya.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(Dl),Ul=function(){function e(t){_(this,e),this.persistence=t,this.As=new Ms((function(e){return vs(e)}),ms),this.lastRemoteSnapshotVersion=Pa.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Pl,this.targetCount=0,this.bs=Nl.vn()}return N(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),Ya.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ya.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ya.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Ya.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),Ya.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,Ya.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),Ya.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Ya.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ya.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ya.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return Ya.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),Ya.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ya.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),Ya.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return Ya.resolve(n)}},{key:"containsKey",value:function(e,t){return Ya.resolve(this.vs.containsKey(t))}}]),e}(),zl=function(){function e(t,n){var r=this;_(this,e),this.Ps={},this.overlays={},this.Vs=new Ja(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new Ul(this),this.indexManager=new Tl,this.remoteDocumentCache=new Fl((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new Sl(n),this.xs=new Rl(this.serializer)}return N(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ol,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new jl(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;ha("MemoryPersistence","Starting transaction:",e);var i=new Bl(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Ya.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bl=function(e){S(n,e);var t=C(n);function n(e){var r;return _(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return N(n)}(Ga),Wl=function(){function e(t){_(this,e),this.persistence=t,this.$s=new Pl,this.Ms=null}return N(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw ma()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),Ya.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),Ya.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),Ya.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ya.forEach(this.Bs,(function(r){var i=Ua.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Pa.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return Ya.or([function(){return Ya.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}();var ql=function(){function e(t,n,r,i){_(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return N(e,null,[{key:"Di",value:function(t,n){var r,a=Gs(),o=Gs(),s=i(n.docChanges);try{for(s.s();!(r=s.n()).done;){var u=r.value;switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}}catch(l){s.e(l)}finally{s.f()}return new e(t,n.fromCache,a,o)}}]),e}(),Hl=function(){function e(){_(this,e),this.Ci=!1}return N(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(ks(t))return Ya.resolve(null);var r=Ts(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Is(t,null,"F"),r=Ts(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Gs.apply(void 0,T(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,Is(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return ks(t)||r.isEqual(Pa.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(fa()<=X.DEBUG&&ha("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),As(t)),i.Fi(e,o,t,Ba(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new fo(Os(e));return t.forEach((function(t,r){Ls(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return fa()<=X.DEBUG&&ha("QueryEngine","Using full collection scan to execute query:",As(t)),this.xi.getDocumentsMatchingQuery(e,t,qa.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Kl=function(){function e(t,n,r,i){_(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new uo(La),this.qi=new Ms((function(e){return vs(e)}),ms),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return N(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ll(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function Gl(e,t,n,r){return new Kl(e,t,n,r)}function Ql(e,t){return $l.apply(this,arguments)}function $l(){return $l=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var a,o=[],s=[],u=Gs(),l=i(t);try{for(l.s();!(a=l.n()).done;){var c=a.value;o.push(c.batchId);var f,h=i(c.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){l.e(w)}finally{l.f()}var p,v=i(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;s.push(m.batchId);var y,g=i(m.mutations);try{for(g.s();!(y=g.n()).done;){var b=y.value;u=u.add(b.key)}}catch(w){g.e(w)}finally{g.f()}}}catch(w){v.e(w)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:o,addedBatchIds:s}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Yl(e,t){var n=ga(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ya.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ya(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Gs(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Xl(e){var t=ga(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function Jl(e,t){var n=ga(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(mo.EMPTY_BYTE_STRING,Pa.min()).withLastLimboFreeSnapshotVersion(Pa.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Ds.updateTargetData(e,l))}}));var s=Fs(),u=Gs();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Zl(e,a,t.documentUpdates).next((function(e){s=e.zi,u=e.ji}))),!r.isEqual(Pa.min())){var l=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Ya.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Li=i,e}))}function Zl(e,t,n){var r=Gs(),i=Gs();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Fs();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Pa.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ha("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function ec(e,t){var n=ga(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function tc(e,t){var n=ga(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,Ya.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new xl(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function nc(e,t,n){return rc.apply(this,arguments)}function rc(){return rc=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ga(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xa(e.t1)){e.next=12;break}throw e.t1;case 12:ha("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rc.apply(this,arguments)}function ic(e,t,n){var r=ga(e),i=Pa.min(),a=Gs();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ga(e),i=r.qi.get(n);return void 0!==i?Ya.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Ts(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Pa.min(),n?a:Gs())})).next((function(e){return ac(r,Rs(t),e),{documents:e,Wi:a}}))}))}function ac(e,t,n){var r=e.Ui.get(t)||Pa.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}var oc=function(){function e(){_(this,e),this.activeTargetIds=$s()}return N(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),sc=function(){function e(){_(this,e),this.Br=new oc,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return N(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new oc,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uc=function(){function e(){_(this,e)}return N(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),lc=function(){function e(){var t=this;_(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return N(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){ha("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=i(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){ha("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=i(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cc=null;function fc(){return null===cc?cc=268435456+Math.round(2147483648*Math.random()):cc++,"0x"+cc.toString(16)}var hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dc=function(){function e(t){_(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return N(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),pc="WebChannelConnection",vc=function(e){S(n,e);var t=C(n);function n(e){var r;return _(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return N(n,[{key:"lo",value:function(e,t,n,r){var i=fc();return new Promise((function(a,o){var s=new oa;s.setWithCredentials(!0),s.listenOnce(ta.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ea.NO_ERROR:var t=s.getResponseJson();ha(pc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ea.TIMEOUT:ha(pc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new wa(ba.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:var n=s.getStatus();if(ha(pc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ba).indexOf(t)>=0?t:ba.UNKNOWN}(u.status);o(new wa(l,u.message))}else o(new wa(ba.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new wa(ba.UNAVAILABLE,"Connection failed."));break;default:ma()}}finally{ha(pc,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);ha(pc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=fc(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ji(),o=Zi(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new ia({})),this.ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");ha(pc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var l=a.createWebChannel(u,s),c=!1,f=!1,h=new dc({Wr:function(t){f?ha(pc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(c||(ha(pc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),c=!0),ha(pc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Hr:function(){return l.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(l,aa.EventType.OPEN,(function(){f||ha(pc,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(l,aa.EventType.CLOSE,(function(){f||(f=!0,ha(pc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(l,aa.EventType.ERROR,(function(t){f||(f=!0,pa(pc,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new wa(ba.UNAVAILABLE,"The operation could not be completed")))})),d(l,aa.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];ya(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ha(pc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Cu[e];if(void 0!==t)return Ou(t)}(s),c=o.message;void 0===u&&(u=ba.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,h.so(new wa(u,c)),l.close()}else ha(pc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,na.STAT_EVENT,(function(t){t.stat===ra.PROXY?ha(pc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ra.NOPROXY&&ha(pc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){_(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return N(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=fc(),o=this.ao(e,t);ha("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.ho(s,r,i),this.lo(e,o,s,n).then((function(t){return ha("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw pa("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+la,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=hc[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function mc(){return"undefined"!=typeof document?document:null}function yc(e){return new $u(e,!0)}var gc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return N(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ha("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),bc=function(){function e(t,n,r,i,a,o,s,u){_(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new gc(t,n)}return N(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===ba.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===ba.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new wa(ba.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return ha("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(ha("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wc=function(e){S(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return _(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return N(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ma()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ya(void 0===t||"string"==typeof t),mo.fromBase64String(t||"")):(ya(void 0===t||t instanceof Uint8Array),mo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ba.UNKNOWN:Ou(e.code);return new wa(t,e.message||"")}(o);n=new zu(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=rl(e,u.document.name),c=Zu(u.document.updateTime),f=u.document.createTime?Zu(u.document.createTime):Pa.min(),h=new Bo({mapValue:{fields:u.document.fields}}),d=qo.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Vu(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=rl(e,m.document),g=m.readTime?Zu(m.readTime):Pa.min(),b=qo.newNoDocument(y,g),w=m.removedTargetIds||[];n=new Vu([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var x=rl(e,k.document),S=k.removedTargetIds||[];n=new Vu([],S,x,null)}else{if(!("filter"in t))return ma();t.filter;var E=t.filter;E.targetId;var C=E.count||0,T=new Lu(C),_=E.targetId;n=new Uu(_,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pa.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Pa.min():t.readTime?Zu(t.readTime):Pa.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=ol(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=ys(r)?{documents:cl(e,r)}:{query:fl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xu(e,t.resumeToken):t.snapshotVersion.compareTo(Pa.min())>0&&(n.readTime=Yu(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ma()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=ol(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(bc),kc=function(e){S(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return _(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.Ho=!1,u}return N(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,k(w(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ya(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(ya(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zu(e.updateTime):Zu(t);return n.isEqual(Pa.min())&&(n=Zu(t)),new fu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zu(e.commitTime);return this.listener.Zo(n,t)}return ya(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=ol(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ll(t.serializer,e)}))};this.Fo(n)}}]),n}(bc),xc=function(e){S(n,e);var t=C(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return N(n,[{key:"nu",value:function(){if(this.eu)throw new wa(ba.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],s=a[1];return r.connection.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ba.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wa(ba.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=v(a,2),s=o[0],u=o[1];return i.connection.fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ba.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new wa(ba.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return N((function e(){_(this,e)}))}());var Sc=function(){function e(t,n){_(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return N(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(da(t),this.ru=!1):ha("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),Ec=N((function e(t,n,r,i,a){var o=this;_(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Pc(o),!e.t0){e.next=5;break}return ha("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ga(t)).du.add(4),e.next=4,_c(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,Cc(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new Sc(r,i)}));function Cc(e){return Tc.apply(this,arguments)}function Tc(){return Tc=c(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pc(t)){e.next=18;break}n=i(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Tc.apply(this,arguments)}function _c(e){return Ic.apply(this,arguments)}function Ic(){return Ic=c(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ic.apply(this,arguments)}function Nc(e,t){var n=ga(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Oc(n)?Rc(n):ff(n).No()&&Ac(n,t))}function Dc(e,t){var n=ga(e),r=ff(n);n.fu.delete(t),r.No()&&Lc(n,t),0===n.fu.size&&(r.No()?r.$o():Pc(n)&&n.mu.set("Unknown"))}function Ac(e,t){e.gu.Ot(t.targetId),ff(e).jo(t)}function Lc(e,t){e.gu.Ot(t),ff(e).Wo(t)}function Rc(e){e.gu=new Wu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),ff(e).start(),e.mu.ou()}function Oc(e){return Pc(e)&&!ff(e).xo()&&e.fu.size>0}function Pc(e){return 0===ga(e).du.size}function Mc(e){e.gu=void 0}function jc(e){return Fc.apply(this,arguments)}function Fc(){return Fc=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Ac(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Vc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mc(t),Oc(t)?(t.mu.au(n),Rc(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function zc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return Bc=c(u().mark((function e(t,n,r){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof zu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=c(u().mark((function e(t,n){var r,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=i(n.targetIds),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}if(s=o.value,e.t0=t.fu.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.fu.delete(s),t.gu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ha("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Wc(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Vu?t.gu.Kt(n):n instanceof Uu?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Pa.min())){e.next=29;break}return e.prev=14,e.next=17,Xl(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(mo.EMPTY_BYTE_STRING,n.snapshotVersion)),Lc(e,t);var r=new xl(n.target,t,1,n.sequenceNumber);Ac(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ha("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Wc(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Bc.apply(this,arguments)}function Wc(e,t,n){return qc.apply(this,arguments)}function qc(){return qc=c(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xa(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,_c(t);case 5:t.mu.set("Offline"),r||(r=function(){return Xl(t.localStore)}),t.asyncQueue.enqueueRetryable(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,Cc(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Hc(e,t){return t().catch((function(n){return Wc(e,n,t)}))}function Kc(e){return Gc.apply(this,arguments)}function Gc(){return Gc=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ga(t),r=hf(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!Qc(n)){e.next=19;break}return e.prev=3,e.next=6,ec(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,$c(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Wc(n,e.t0);case 17:e.next=2;break;case 19:Yc(n)&&Xc(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Gc.apply(this,arguments)}function Qc(e){return Pc(e)&&e.lu.length<10}function $c(e,t){e.lu.push(t);var n=hf(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Yc(e){return Pc(e)&&!hf(e).xo()&&e.lu.length>0}function Xc(e){hf(e).start()}function Jc(e){return Zc.apply(this,arguments)}function Zc(){return Zc=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hf(t).tu();case 1:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=c(u().mark((function e(t){var n,r,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hf(t),r=i(t.lu);try{for(r.s();!(a=r.n()).done;)o=a.value,n.Yo(o.mutations)}catch(s){r.e(s)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t,n){return rf.apply(this,arguments)}function rf(){return rf=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Du.from(i,n,r),e.next=3,Hc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Kc(t);case 5:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return of=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&hf(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ru(i=n.code)||i===ba.ABORTED){e.next=7;break}return r=t.lu.shift(),hf(t).Oo(),e.next=5,Hc(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Kc(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Yc(t)&&Xc(t);case 5:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function sf(e,t){return uf.apply(this,arguments)}function uf(){return uf=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ga(t)).asyncQueue.verifyOperationInProgress(),ha("RemoteStore","RemoteStore received new credentials"),i=Pc(r),r.du.add(3),e.next=6,_c(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,Cc(r);case 12:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}function lf(e,t){return cf.apply(this,arguments)}function cf(){return cf=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,Cc(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,_c(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function ff(e){return e.yu||(e.yu=function(e,t,n){var r=ga(e);return r.nu(),new wc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:jc.bind(null,e),Zr:Vc.bind(null,e),zo:zc.bind(null,e)}),e.wu.push(function(){var t=c(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Oc(e)?Rc(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Mc(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function hf(e){return e.pu||(e.pu=function(e,t,n){var r=ga(e);return r.nu(),new kc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Jc.bind(null,e),Zr:af.bind(null,e),Xo:ef.bind(null,e),Zo:nf.bind(null,e)}),e.wu.push(function(){var t=c(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,Kc(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(ha("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var df=function(){function e(t,n,r,i,a){_(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return N(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wa(ba.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function pf(e,t){if(da("AsyncQueue","".concat(t,": ").concat(e)),Xa(e))return new wa(ba.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vf=function(){function e(t){_(this,e),this.comparator=t?function(e,n){return t(e,n)||Ua.comparator(e.key,n.key)}:function(e,t){return Ua.comparator(e.key,t.key)},this.keyedMap=Us(),this.sortedSet=new uo(this.comparator)}return N(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),mf=function(){function e(){_(this,e),this.Iu=new uo(Ua.comparator)}return N(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):ma():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yf=function(){function e(t,n,r,i,a,o,s,u,l){_(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return N(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ns(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vf.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),gf=N((function e(){_(this,e),this.Eu=void 0,this.listeners=[]})),bf=N((function e(){_(this,e),this.queries=new Ms((function(e){return Ds(e)}),Ns),this.onlineState="Unknown",this.Au=new Set}));function wf(e,t){return kf.apply(this,arguments)}function kf(){return kf=c(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new gf),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=pf(e.t0,"Initialization of query '".concat(As(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&Tf(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kf.apply(this,arguments)}function xf(e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=c(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Ef(e,t){var n,r=ga(e),a=!1,o=i(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=s.query,l=r.queries.get(u);if(l){var c,f=i(l.listeners);try{for(f.s();!(c=f.n()).done;){c.value.vu(s)&&(a=!0)}}catch(h){f.e(h)}finally{f.f()}l.Eu=s}}}catch(h){o.e(h)}finally{o.f()}a&&Tf(r)}function Cf(e,t,n){var r=ga(e),a=r.queries.get(t);if(a){var o,s=i(a.listeners);try{for(s.s();!(o=s.n()).done;){o.value.onError(n)}}catch(u){s.e(u)}finally{s.f()}}r.queries.delete(t)}function Tf(e){e.Au.forEach((function(e){e.next()}))}var _f=function(){function e(t,n,r){_(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return N(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=i(e.docChanges);try{for(r.s();!(t=r.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(s){r.e(s)}finally{r.f()}e=new yf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),o=!0):this.Du(e,this.onlineState)&&(this.Cu(e),o=!0),this.Vu=e,o}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}();var If=N((function e(t){_(this,e),this.key=t})),Nf=N((function e(t){_(this,e),this.key=t})),Df=function(){function e(t,n){_(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Gs(),this.mutatedKeys=Gs(),this.Ku=Os(t),this.Gu=new vf(this.Ku)}return N(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new mf,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Ls(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||l&&n.Ku(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:s,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ma()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.Uu.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new yf(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new mf,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=Gs(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new Nf(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new If(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=Gs();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return yf.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Af=N((function e(t,n,r){_(this,e),this.query=t,this.targetId=n,this.view=r})),Lf=N((function e(t){_(this,e),this.key=t,this.ec=!1})),Rf=function(){function e(t,n,r,i,a,o){_(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ms((function(e){return Ds(e)}),Ns),this.ic=new Map,this.rc=new Set,this.oc=new uo(Ua.comparator),this.uc=new Map,this.cc=new Pl,this.ac={},this.hc=new Map,this.lc=Nl.bn(),this.onlineState="Unknown",this.fc=void 0}return N(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Of(e,t){return Pf.apply(this,arguments)}function Pf(){return Pf=c(u().mark((function e(t,n){var r,i,a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lh(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,tc(r.localStore,Ts(n));case 8:return s=e.sent,r.isPrimaryClient&&Nc(r.remoteStore,s),l=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Mf(r,n,i,"current"===l,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Mf(e,t,n,r,i){return jf.apply(this,arguments)}function jf(){return jf=c(u().mark((function e(t,n,r,i,a){var o,s,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=c(u().mark((function e(t,n,r,i){var a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,ic(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(th(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ic(t.localStore,n,!0);case 3:return o=e.sent,s=new Df(n,o.Wi),l=s.zu(o.documents),f=Fu.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=s.applyChanges(l,t.isPrimaryClient,f),th(t,r,h.Yu),d=new Af(n,r,s),e.abrupt("return",(t.sc.set(n,d),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Ff(e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ga(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Ns(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,nc(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Dc(r.remoteStore,i.targetId),Zf(r,i.targetId)})).catch(Qa);case 9:e.next=14;break;case 11:return Zf(r,i.targetId),e.next=14,nc(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Vf.apply(this,arguments)}function Uf(e,t,n){return zf.apply(this,arguments)}function zf(){return zf=c(u().mark((function e(t,n,r){var a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ch(t),e.prev=1,e.next=4,function(e,t){var n,r,a=ga(e),o=Oa.now(),s=t.reduce((function(e,t){return e.add(t.key)}),Gs());return a.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Fs(),l=Gs();return a.Ki.getEntries(e,s).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(l=l.add(e))}))})).next((function(){return a.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var s,u=[],l=i(t);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=gu(c,n.get(c.key).overlayedDocument);null!=f&&u.push(new ku(c.key,f,Wo(f.value.mapValue),hu.exists(!0)))}}catch(h){l.e(h)}finally{l.f()}return a.mutationQueue.addMutationBatch(e,o,u,t)})).next((function(t){r=t;var i=t.applyToLocalDocumentSet(n,l);return a.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((function(){return{batchId:r.batchId,changes:zs(n)}}))}(a.localStore,n);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new uo(La)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(a,o.batchId,r),e.next=9,ih(a,o.changes);case 9:return e.next=11,Kc(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=pf(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),zf.apply(this,arguments)}function Bf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.prev=1,e.next=4,Jl(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(ya(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?ya(n.ec):e.removedDocuments.size>0&&(ya(n.ec),n.ec=!1))})),e.next=8,ih(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Qa(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Wf.apply(this,arguments)}function qf(e,t,n){var r=ga(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var a=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&a.push(r.snapshot)})),function(e,t){var n=ga(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var a,o=i(n.listeners);try{for(o.s();!(a=o.n()).done;){a.value.Ru(t)&&(r=!0)}}catch(s){o.e(s)}finally{o.f()}})),r&&Tf(n)}(r.eventManager,t),a.length&&r.nc.zo(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Hf(e,t,n){return Kf.apply(this,arguments)}function Kf(){return Kf=c(u().mark((function e(t,n,r){var i,a,o,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ga(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new uo(Ua.comparator)).insert(o,qo.newNoDocument(o,Pa.min())),l=Gs().add(o),c=new ju(Pa.min(),new Map,new fo(La),s,l),e.next=9,Bf(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),rh(i),e.next=16;break;case 14:return e.next=16,nc(i.localStore,n,!1).then((function(){return Zf(i,n,r)})).catch(Qa);case 16:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),i=n.batch.batchId,e.prev=1,e.next=4,Yl(r.localStore,n);case 4:return a=e.sent,Jf(r,i,null),Xf(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ih(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qa(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qf.apply(this,arguments)}function $f(e,t,n){return Yf.apply(this,arguments)}function Yf(){return Yf=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ga(t),e.prev=1,e.next=4,function(e,t){var n=ga(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ya(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Jf(i,n,r),Xf(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ih(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qa(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yf.apply(this,arguments)}function Xf(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Jf(e,t,n){var r=ga(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Zf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,a=i(e.ic.get(t));try{for(a.s();!(r=a.n()).done;){var o=r.value;e.sc.delete(o),n&&e.nc.wc(o,n)}}catch(s){a.e(s)}finally{a.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||eh(e,t)}))}function eh(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Dc(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),rh(e))}function th(e,t,n){var r,a=i(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;o instanceof If?(e.cc.addReference(o.key,t),nh(e,o)):o instanceof Nf?(ha("SyncEngine","Document no longer in limbo: "+o.key),e.cc.removeReference(o.key,t),e.cc.containsKey(o.key)||eh(e,o.key)):ma()}}catch(s){a.e(s)}finally{a.f()}}function nh(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(ha("SyncEngine","New document in limbo: "+n),e.rc.add(r),rh(e))}function rh(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Ua(ja.fromString(t)),r=e.lc.next();e.uc.set(r,new Lf(n)),e.oc=e.oc.insert(n,r),Nc(e.remoteStore,new xl(Ts(ws(n.path)),r,2,Ja.ct))}}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=c(u().mark((function e(t,n,r){var a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ga(t),o=[],s=[],l=[],e.t0=a.sc.isEmpty(),e.t0){e.next=9;break}return a.sc.forEach((function(e,t){l.push(a.dc(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=ql.Di(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(l);case 6:return a.nc.zo(o),e.next=9,function(){var e=c(u().mark((function e(t,n){var r,a,o,s,l,c,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ya.forEach(n,(function(t){return Ya.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ya.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xa(e.t0)){e.next=10;break}throw e.t0;case 10:ha("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=i(n);try{for(a.s();!(o=a.n()).done;)s=o.value,l=s.targetId,s.fromCache||(c=r.Li.get(l),f=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(f),r.Li=r.Li.insert(l,h))}catch(u){a.e(u)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,s);case 9:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return sh=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ga(t)).currentUser.isEqual(n)){e.next=11;break}return ha("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ql(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new wa(ba.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ih(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function uh(e,t){var n=ga(e),r=n.uc.get(t);if(r&&r.ec)return Gs().add(r.key);var a=Gs(),o=n.ic.get(t);if(!o)return a;var s,u=i(o);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=n.sc.get(l);a=a.unionWith(c.view.Qu)}}catch(f){u.e(f)}finally{u.f()}return a}function lh(e){var t=ga(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hf.bind(null,t),t.nc.zo=Ef.bind(null,t.eventManager),t.nc.wc=Cf.bind(null,t.eventManager),t}function ch(e){var t=ga(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$f.bind(null,t),t}var fh=function(){function e(){_(this,e),this.synchronizeTabs=!1}return N(e,[{key:"initialize",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=yc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Gl(this.persistence,new Hl,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new zl(Wl.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new sc}},{key:"terminate",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hh=function(){function e(){_(this,e)}return N(e,[{key:"initialize",value:function(){var e=c(u().mark((function e(t,n){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qf(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=oh.bind(null,this.syncEngine),e.next=12,lf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bf}},{key:"createDatastore",value:function(e){var t,n=yc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new vc(t));return function(e,t,n,r){return new xc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qf(o.syncEngine,e,0)},a=lc.D()?new lc:new uc,new Ec(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Rf(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ga(t),ha("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,_c(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var dh=function(){function e(t){_(this,e),this.observer=t,this.muted=!1}return N(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ph=function(){function e(t,n,r,i){var a=this;_(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ua.UNAUTHENTICATED,this.clientId=Aa.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ha("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return N(e,[{key:"getConfiguration",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wa(ba.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(c(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=pf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vh(e,t){return mh.apply(this,arguments)}function mh(){return mh=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ha("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ql(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function yh(e,t){return gh.apply(this,arguments)}function gh(){return gh=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wh(t);case 3:return r=e.sent,ha("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sf(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function bh(e){return"FirebaseError"===e.name?e.code===ba.FAILED_PRECONDITION||e.code===ba.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function wh(e){return kh.apply(this,arguments)}function kh(){return kh=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ha("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,vh(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),bh(n=e.t0)){e.next=13;break}throw n;case 13:return pa("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,vh(t,new fh);case 16:e.next=21;break;case 18:return ha("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,vh(t,new fh);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),kh.apply(this,arguments)}function xh(e){return Sh.apply(this,arguments)}function Sh(){return Sh=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ha("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,yh(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ha("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,yh(t,new hh);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Eh(e){return xh(e).then((function(e){return e.syncEngine}))}function Ch(e){return Th.apply(this,arguments)}function Th(){return Th=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xh(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Of.bind(null,n.syncEngine),r.onUnlisten=Ff.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function _h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ka;return e.asyncQueue.enqueueAndForget(c(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dh({next:function(n){t.enqueueAndForget((function(){return xf(e,o)})),n.fromCache&&"server"===r.source?i.reject(new wa(ba.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new _f(n,a,{includeMetadataChanges:!0,xu:!0});return wf(e,o)},i.next=3,Ch(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Ih=new Map;function Nh(e,t,n){if(!n)throw new wa(ba.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dh(e){if(!Ua.isDocumentKey(e))throw new wa(ba.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ah(e){if(Ua.isDocumentKey(e))throw new wa(ba.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ma()}function Rh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wa(ba.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lh(e);throw new wa(ba.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Oh=function(){function e(t){var n;if(_(this,e),void 0===t.host){if(void 0!==t.ssl)throw new wa(ba.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wa(ba.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new wa(ba.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return N(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ph=function(){function e(t,n,r,i){_(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1}return N(e,[{key:"app",get:function(){if(!this._app)throw new wa(ba.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wa(ba.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sa;switch(e.type){case"firstParty":return new _a(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wa(ba.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ih.get(e);t&&(ha("ComponentProvider","Removing Datastore"),Ih.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Mh(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Rh(e,Ph))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=ua.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[R(JSON.stringify({alg:"none",type:"JWT"})),R(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new wa(ba.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ua(u)}e._authCredentials=new Ea(new xa(o,s))}}var jh=function(){function e(t,n,r){_(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return N(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Vh(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Fh=function(){function e(t,n,r){_(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return N(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Vh=function(e){S(n,e);var t=C(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,e,r,ws(i)))._path=i,a.type="collection",a}return N(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jh(this.firestore,null,new Ua(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Fh);function Uh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),Nh("collection","path",t),e instanceof Ph){var a=ja.fromString.apply(ja,[t].concat(r));return Ah(a),new Vh(e,null,a)}if(!(e instanceof jh||e instanceof Vh))throw new wa(ba.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ja.fromString.apply(ja,[t].concat(r)));return Ah(o),new Vh(e.firestore,null,o)}function zh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),1===arguments.length&&(t=Aa.A()),Nh("doc","path",t),e instanceof Ph){var a=ja.fromString.apply(ja,[t].concat(r));return Dh(a),new jh(e,null,new Ua(a))}if(!(e instanceof jh||e instanceof Vh))throw new wa(ba.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ja.fromString.apply(ja,[t].concat(r)));return Dh(o),new jh(e.firestore,e instanceof Vh?e.converter:null,new Ua(o))}var Bh=function(){function e(){var t=this;_(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new gc(this,"async_queue_retry"),this.qc=function(){var e=mc();e&&ha("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=mc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return N(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=mc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new ka;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=c(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xa(e.t0)){e.next=12;break}throw e.t0;case 12:ha("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw da("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=df.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&ma()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=i(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=i(t.$c);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();var Wh=function(e){S(n,e);var t=C(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Bh,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return N(n,[{key:"_terminate",value:function(){return this._firestoreClient||Hh(this),this._firestoreClient.terminate()}}]),n}(Ph);function qh(e){return e._firestoreClient||Hh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Hh(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Eo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ph(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var Kh=function(){function e(t){_(this,e),this._byteString=t}return N(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(mo.fromBase64String(t))}catch(t){throw new wa(ba.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(mo.fromUint8Array(t))}}]),e}(),Gh=function(){function e(){_(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new wa(ba.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Va(n)}return N(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Qh=N((function e(t){_(this,e),this._methodName=t})),$h=function(){function e(t,n){if(_(this,e),!isFinite(t)||t<-90||t>90)throw new wa(ba.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wa(ba.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return N(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return La(this._lat,e._lat)||La(this._long,e._long)}}]),e}(),Yh=/^__.*__$/,Xh=function(){function e(t,n,r){_(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return N(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ku(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}]),e}(),Jh=function(){function e(t,n,r){_(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return N(e,[{key:"toMutation",value:function(e,t){return new ku(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Zh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ma()}}var ed=function(){function e(t,n,r,i,a,o){_(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return N(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return vd(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Zh(this.Yc)&&Yh.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),td=function(){function e(t,n,r){_(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||yc(t)}return N(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ed({Yc:e,methodName:t,oa:n,path:Va.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function nd(e){var t=e._freezeSettings(),n=yc(e._databaseId);return new td(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rd(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.ua(o.merge||o.mergeFields?2:0,t,n,a);fd("Data must be an object, but it was:",s,r);var u,l,c=ld(r,s);if(o.merge)u=new po(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){var f,h=[],d=i(o.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=hd(t,f.value,n);if(!s.contains(p))throw new wa(ba.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));md(h,p)||h.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new po(h),l=s.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,l=s.fieldTransforms;return new Xh(new Bo(c),u,l)}var id=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Qh);function ad(e,t,n,r){var i=e.ua(1,t,n);fd("Data must be an object, but it was:",i,r);var a=[],o=Bo.empty();oo(r,(function(e,r){var s=pd(t,e,n);r=K(r);var u=i.na(s);if(r instanceof id)a.push(s);else{var l=ud(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new po(a);return new Jh(o,s,i.fieldTransforms)}function od(e,t,n,r,i,a){var o=e.ua(1,t,n),s=[hd(t,r,n)],u=[i];if(a.length%2!=0)throw new wa(ba.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(hd(t,a[l])),u.push(a[l+1]);for(var c=[],f=Bo.empty(),h=s.length-1;h>=0;--h)if(!md(c,s[h])){var d=s[h],p=u[h];p=K(p);var v=o.na(d);if(p instanceof id)c.push(d);else{var m=ud(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new po(c);return new Jh(f,y,o.fieldTransforms)}function sd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ud(n,e.ua(r?4:3,t))}function ud(e,t){if(cd(e=K(e)))return fd("Unsupported field value:",t,e),ld(e,t);if(e instanceof Qh)return function(e,t){if(!Zh(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],a=0,o=i(e);try{for(o.s();!(n=o.n()).done;){var s=ud(n.value,t.sa(a));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),a++}}catch(u){o.e(u)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=K(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Js(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Oa.fromDate(e);return{timestampValue:Yu(t.serializer,n)}}if(e instanceof Oa){var r=new Oa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yu(t.serializer,r)}}if(e instanceof $h)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kh)return{bytesValue:Xu(t.serializer,e._byteString)};if(e instanceof jh){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:el(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(Lh(e)))}(e,t)}function ld(e,t){var n={};return so(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oo(e,(function(e,r){var i=ud(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Oa||e instanceof $h||e instanceof Kh||e instanceof jh||e instanceof Qh)}function fd(e,t,n){if(!cd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Lh(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function hd(e,t,n){if((t=K(t))instanceof Gh)return t._internalPath;if("string"==typeof t)return pd(e,t);throw vd("Field path arguments must be of type string or ",e,!1,void 0,n)}var dd=new RegExp("[~\\*/\\[\\]]");function pd(e,t,n){if(t.search(dd)>=0)throw vd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(Gh,T(t.split(".")))._internalPath}catch(r){throw vd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function vd(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new wa(ba.INVALID_ARGUMENT,s+e+u)}function md(e,t){return e.some((function(e){return e.isEqual(t)}))}var yd=function(){function e(t,n,r,i,a){_(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return N(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jh(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new gd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(bd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),gd=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n,[{key:"data",value:function(){return k(w(n.prototype),"data",this).call(this)}}]),n}(yd);function bd(e,t){return"string"==typeof t?pd(e,t):t instanceof Gh?t._internalPath:t._delegate._internalPath}function wd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wa(ba.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kd=N((function e(){_(this,e)})),xd=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n)}(kd);function Sd(e,t){for(var n=[],r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t instanceof kd&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Cd})).length,n=e.filter((function(e){return e instanceof Ed})).length;if(t>1||t>0&&n>0)throw new wa(ba.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(a));var s,u=i(n);try{for(u.s();!(s=u.n()).done;){e=s.value._apply(e)}}catch(l){u.e(l)}finally{u.f()}return e}var Ed=function(e){S(n,e);var t=C(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return N(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Dd(e._query,t),new Fh(e.firestore,e.converter,_s(e._query,t))}},{key:"_parse",value:function(e){var t=nd(e.firestore),n=function(e,t,n,r,a,o,s){var u;if(a.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new wa(ba.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Nd(s,o);var l,c=[],f=i(s);try{for(f.s();!(l=f.n()).done;){var h=l.value;c.push(Id(r,e,h))}}catch(d){f.e(d)}finally{f.f()}u={arrayValue:{values:c}}}else u=Id(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Nd(s,o),u=sd(n,"where",s,"in"===o||"not-in"===o);return Xo.create(a,o,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(xd);var Cd=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return N(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Jo.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,a=i(t.getFlattenedFilters());try{for(a.s();!(n=a.n()).done;){var o=n.value;Dd(r,o),r=_s(r,o)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new Fh(e.firestore,e.converter,_s(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(kd);var Td=function(e){S(n,e);var t=C(n);function n(e,r){var i;return _(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return N(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new wa(ba.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wa(ba.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qo(t,n);return function(e,t){if(null===xs(e)){var n=Ss(e);null!==n&&Ad(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Fh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new gs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xd);function _d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bd("orderBy",e);return Td._create(n,t)}function Id(e,t,n){if("string"==typeof(n=K(n))){if(""===n)throw new wa(ba.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Es(t)&&-1!==n.indexOf("/"))throw new wa(ba.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ja.fromString(n));if(!Ua.isDocumentKey(r))throw new wa(ba.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Oo(e,new Ua(r))}if(n instanceof jh)return Oo(e,n._key);throw new wa(ba.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lh(n),"."))}function Nd(e,t){if(!Array.isArray(e)||0===e.length)throw new wa(ba.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Dd(e,t){if(t.isInequality()){var n=Ss(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new wa(ba.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var a=xs(e);null!==a&&Ad(e,r,a)}var o=function(e,t){var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var a,o=i(n.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t.indexOf(s.op)>=0)return s.op}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new wa(ba.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wa(ba.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(o.toString(),"' filters."))}function Ad(e,t,n){if(!n.isEqual(t))throw new wa(ba.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ld=function(){function e(){_(this,e)}return N(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ma()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return oo(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new $h(bo(e.latitude),bo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(So(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=go(e);return new Oa(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ja.fromString(e);ya(kl(n));var r=new Co(n.get(1),n.get(3)),i=new Ua(n.popFirst(5));return r.isEqual(t)||da("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Rd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Od=function(){function e(t,n){_(this,e),this.hasPendingWrites=t,this.fromCache=n}return N(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Pd=function(e){S(n,e);var t=C(n);function n(e,r,i,a,o,s){var u;return _(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return N(n,[{key:"exists",value:function(){return k(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(bd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(yd),Md=function(e){S(n,e);var t=C(n);function n(){return _(this,n),t.apply(this,arguments)}return N(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k(w(n.prototype),"data",this).call(this,e)}}]),n}(Pd),jd=function(){function e(t,n,r,i){_(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Od(i.hasPendingWrites,i.fromCache),this.query=r}return N(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Md(n._firestore,n._userDataWriter,r.key,r,new Od(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wa(ba.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Md(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Md(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Fd(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Fd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ma()}}var Vd=function(e){S(n,e);var t=C(n);function n(e){var r;return _(this,n),(r=t.call(this)).firestore=e,r}return N(n,[{key:"convertBytes",value:function(e){return new Kh(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jh(this.firestore,null,t)}}]),n}(Ld);function Ud(e){e=Rh(e,Fh);var t=Rh(e.firestore,Wh),n=qh(t),r=new Vd(t);return wd(e._query),_h(n,e._query).then((function(n){return new jd(t,r,e,n)}))}function zd(e,t,n){e=Rh(e,jh);for(var r=Rh(e.firestore,Wh),i=nd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return qd(r,[("string"==typeof(t=K(t))||t instanceof Gh?od(i,"updateDoc",e._key,t,n,o):ad(i,"updateDoc",e._key,t)).toMutation(e._key,hu.exists(!0))])}function Bd(e){return qd(Rh(e.firestore,Wh),[new _u(e._key,hu.none())])}function Wd(e,t){var n=Rh(e.firestore,Wh),r=zh(e),i=Rd(e.converter,t);return qd(n,[rd(nd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hu.exists(!1))]).then((function(){return r}))}function qd(e,t){return function(e,t){var n=new ka;return e.asyncQueue.enqueueAndForget(c(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Uf,r.next=3,Eh(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qh(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){la=e}("9.19.1"),Re(new G("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Wh(new Ca(e.getProvider("auth-internal")),new Na(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wa(ba.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ve(sa,"3.10.0",e),Ve(sa,"3.10.0","esm2017")}();Ve("firebase","9.19.1","app");var Hd,Kd,Gd=function(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=De.get(e);if(!t&&e===Ie)return Fe();if(!t)throw Me.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Oe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=j("firestore");a&&Mh.apply(void 0,[i].concat(T(a)))}return i}(Fe({apiKey:"AIzaSyCOLpY8JeYlOO_E8vA09ljbiGHm7qXOX7k",authDomain:"spaced-repetition-a7207.firebaseapp.com",projectId:"spaced-repetition-a7207",storageBucket:"spaced-repetition-a7207.appspot.com",messagingSenderId:"756515527392",appId:"1:756515527392:web:ea6eb376fe2bb7fa148e85"})),Qd=Gd,$d=(h(Hd={default:"vocabulary",wordList:"word-list"},"wordList","academic-word-list-570"),h(Hd,"missedWords","missing-word-list"),Hd),Yd={get:function(){var e=arguments;return c(u().mark((function t(){var n,r,i,a,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:$d.default,r=!(e.length>1&&void 0!==e[1])||e[1],t.prev=2,i=[],a="object"==typeof r,1!=r&&!a){t.next=11;break}return t.next=8,Ud(Sd(Uh(Qd,n),_d(a?r.by:"repetitiveTime","asc")));case 8:i=t.sent,t.next=14;break;case 11:return t.next=13,Ud(Uh(Qd,n));case 13:i=t.sent;case 14:return o=[],i.forEach((function(e){o.push(p(p({},e.data()),{},{id:e.id}))})),console.log("+++++++++ GET DOCUMENTS SUCCESS ++++++++++"),t.abrupt("return",o);case 20:t.prev=20,t.t0=t.catch(2),alert("GET DATA FAILED: ",t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,20]])})))()},newWord:function(e){var t=arguments;return c(u().mark((function n(){var r,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:$d.default,n.prev=1,n.next=4,Wd(Uh(Qd,r),e);case 4:return i=n.sent,console.log("++++++++++++ ADD NEW WORD SUCCESS ++++++++++++++"),n.abrupt("return",i.id);case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),alert("ADD NEW WORD FAIL ",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},updateWord:function(e,t){var n=arguments;return c(u().mark((function r(){var i,a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.length>2&&void 0!==n[2]?n[2]:$d.default,r.prev=1,console.log(e),a=zh(Qd,i,e),r.next=6,zd(a,t);case 6:console.log("+++++++ UPDATE NEW WORD SUCCESS +++++++++"),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),alert("Error UPDATE document: ",r.t0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))()},deleteWord:function(){var e=arguments;return c(u().mark((function t(){var n,r,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"H4mqf7V9Mx0mo3kMBVwH",r=e.length>1&&void 0!==e[1]?e[1]:$d.default,t.prev=2,i=zh(Qd,r,n),t.next=6,Bd(i);case 6:console.log("++++++++++ DELETE WORD SUCCESS ++++++++++"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),alert("DELETE WORD FAILED: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},deleteAllDocuments:function(e){return c(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ud(Sd(Uh(Qd,e)));case 3:return n=t.sent,r=[],n.forEach((function(e){r.push(Bd(e.ref))})),t.next=8,Promise.all(r);case 8:console.log("X\xf3a t\u1ea5t c\u1ea3 t\xe0i li\u1ec7u th\xe0nh c\xf4ng!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("L\u1ed7i khi x\xf3a t\xe0i li\u1ec7u:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},Xd=Yd;function Jd(e){var t=e/1e3,n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60),a=Math.floor(t%60);return{days:n,hours:r,minutes:i,seconds:a,toString:function(e){var t=e.seconds,o=void 0===t||t,s=e.minutes,u=void 0===s||s,l=e.hours,c=void 0===l||l,f=e.days,h=void 0===f||f,d=(e.months,e.years,"");return n>0&&!0===h&&(d+=n+"d "),r>0&&!0===c&&(d+=r+"h "),i>0&&!0===u&&(d+=i+"min "),a>0&&!0===o&&(d+=a+" seconds "),d.trim()}}}var Zd=(h(Kd={normal:[432e5,2592e5,5184e5,1296e6,2592e6,432e7,5184e6,5184e6]},"normal",[432e5,2592e5,5184e5,1296e6,864e6,2592e6,31104e5,432e7]),h(Kd,"normal",[.5,3.5,7.5,16,10,35,40,60].map((function(e){return 24*e*60*60*1e3}))),h(Kd,"fibocinacy",[]),Kd),ep={noun:"n",verb:"v",adverb:"adv",adjective:"a"},tp={get:function(e,t){var n=this;return c(u().mark((function t(){var r,i,a,o,s,l,c,f,h,d,m,y,g,b,w,k,x,S,E,C,_,I,N,D,A,L,R,O,P;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="",t.next=3,Promise.all([fetch("https://api.dictionaryapi.dev/api/v2/entries/en/"+e),n._getVerbFormAndPhrase(e),rp.get({word:e}),np(e,"sp"),np(e,"ml")]);case 3:if(a=t.sent,o=v(a,5),s=o[0],l=v(o[1],2),c=l[0],f=l[1],h=o[2],d=o[3],m=o[4],null!==(r=h.pronunciation)&&void 0!==r&&r.all||!(e.split(" ").length>=2)){t.next=18;break}return y=e.split(" ").map((function(e){return rp.get({word:e})})),t.next=16,Promise.all(y);case 16:g=t.sent,i=g.map((function(e){var t;return(null===(t=e.pronunciation)||void 0===t?void 0:t.all)||e.pronunciation||""})).join(" ");case 18:return t.next=20,s.json();case 20:if(!((b=t.sent)&&b.length>0||i)){t.next=26;break}return R=i||(null===(w=h.pronunciation)||void 0===w?void 0:w.all)||b[0].phonetic&&(null===(k=b[0].phonetic)||void 0===k?void 0:k.replace(/[\[\]+=\-_:\/]/g,""))||"",O=(null===h||void 0===h||null===(x=h.results)||void 0===x?void 0:x.length)>0?null===h||void 0===h?void 0:h.results[0].definition:null!==(S=b[0])&&void 0!==S&&S.meanings&&(null===(E=b[0])||void 0===E?void 0:E.meanings.length)>0?null===(C=b[0])||void 0===C||null===(_=C.meanings[0])||void 0===_||null===(I=_.definitions[0])||void 0===I?void 0:I.definition:"",P=i&&T(new Set(null===rp||void 0===rp?void 0:rp._getTypeWords(h))).join(" ")||(null===(N=b[0])||void 0===N?void 0:N.meanings)&&(null===(D=b[0])||void 0===D?void 0:D.meanings.length)>0&&ep[null===(A=b[0])||void 0===A||null===(L=A.meanings[0])||void 0===L?void 0:L.partOfSpeech]||"",t.abrupt("return",p(p({},b[0]),{},{phonetic:R,meaning:O,typeWord:P.trim(),spellLike:d.slice(1,5)||[],similarMeaning:m.slice(0,4)||[],verbForm:c,phrases:f}));case 26:return t.abrupt("return",{});case 27:case"end":return t.stop()}}),t)})))()},_getVerbFormAndPhrase:function(e){return c(u().mark((function t(){var n,r,i,a,o,s,l,c,f,h,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="5zpao24y4qxsjz3ztg5l5fr4z2opf8sh8y6w0xx1qctbzla1n",r="https://api.wordnik.com/v4/word.json",t.prev=2,t.next=5,Promise.all([fetch("".concat(r,"/").concat(e,"/relatedWords?api_key=").concat(n)),fetch("".concat(r,"/").concat(e,"/phrases?api_key=").concat(n))]);case 5:return i=t.sent,a=v(i,2),o=a[0],s=a[1],t.next=11,o.json();case 11:return l=t.sent,t.next=14,s.json();case 14:if(c=t.sent,!(null!==l&&void 0!==l&&l.message||null!==c&&void 0!==c&&c.message)){t.next=17;break}return t.abrupt("return",[[],[]]);case 17:return f=l.filter((function(e){return"verb-form"===e.relationshipType})),h=f.length>0&&f[0].words,d=c.slice(0,5),t.abrupt("return",[h,d]);case 23:return t.prev=23,t.t0=t.catch(2),console.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i:",t.t0),t.abrupt("return",[!1,!1]);case 27:case"end":return t.stop()}}),t,null,[[2,23]])})))()}},np=function(){var e=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.datamuse.com/words",r="?".concat(n,"=").concat(t),e.prev=2,e.next=5,fetch("https://api.datamuse.com/words"+r);case 5:return i=e.sent,e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",a||[]);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),rp={get:function(e){return c(u().mark((function t(){var n,r,i,a,o,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.word,r=void 0===n?"":n,i=e.endpoint,a=void 0===i?"":i,"https://wordsapiv1.p.rapidapi.com/words/","6a5a523df8msh510d7c9ce044633p1fb096jsnb3471c934428",o={method:"GET",headers:{"X-RapidAPI-Key":"6a5a523df8msh510d7c9ce044633p1fb096jsnb3471c934428","X-RapidAPI-Host":"wordsapiv1.p.rapidapi.com"}},t.prev=4,t.next=7,fetch("".concat("https://wordsapiv1.p.rapidapi.com/words/").concat(r,"/").concat(a),o);case 7:return s=t.sent,t.next=10,s.json();case 10:return l=t.sent,t.abrupt("return",l);case 14:t.prev=14,t.t0=t.catch(4),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()},getWordDetail:function(e,t){var n=this;return c(u().mark((function r(){var i,a,o,s,l,c,f;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(i=t||{}).endpoint,o=void 0===a?"examples":a,s=i.limitResults,l=void 0===s?5:s,r.next=3,n.get({word:e,endpoint:o});case 3:return c=r.sent,f=c[o]&&c[o].slice(0,l)||[],r.abrupt("return",f);case 6:case"end":return r.stop()}}),r)})))()},_getTypeWords:function(e){var t;return null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.map((function(e){return ep[e.partOfSpeech]}))}},ip=tp,ap=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ip.get(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",{});case 5:return r=n.phonetic||"",i=n.meaning||"",a=n.typeWord||"",e.abrupt("return",p(p({},n),{},{spelling:r,meaning:i,typeWords:a}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),op=function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){return e.includes("=")?"sr-word-similar sr-cl-secondary":e.includes("+")?"sr-word-family sr-cl-primary":e.includes("-")?"sr-word-opposite sr-cl-danger":e.includes("_")||e.includes("~")?"sr-word-more sr-cl-green":""},n=/(<\/?\w+[^>]*>)|\s/g,r=t.split(n).filter(Boolean),i=r.map((function(e){return e.split(" ")})).flat().filter(Boolean),a=i.map(function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/[:=\-+_]/,"=+-_",":",!(t.length>1&&("=+-_".includes(t[0])||":".includes(t[t.length-1])))){e.next=16;break}if(n=l(t),r=t.replace(/[+=\-_:\/]/g,"").trim(),i="",!t.includes(":")){e.next=15;break}return e.next=10,ap(r.replace("&nbsp;",""));case 10:a=e.sent,o=a.spelling,a.meaning,s=a.typeWords,i="".concat(s&&'<span class="sr-examples-typeWord">('.concat(s,")</span>")," ").concat(o&&'<span class="sr-examples-spelling sr-cl-yellow">/'.concat(o,"/</span>"));case 15:return e.abrupt("return","".concat(n?'<span class="sr-examples-word '.concat(n,'">').concat(r,"</span>"):r," ").concat(i));case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(a);case 7:return o=e.sent,s=o.join(" "),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sp=op;var up=function(e,t,n){return e.map((function(e,r){var i=t.toLowerCase(),a=e.voca.toLowerCase();if(i===a)return!1;var o=function(e,t){var n="",r="";e.length<t.length?(n=e,r=t):(n=t,r=e);if(n.length<=3)return!1;if(r.length-n.length>=5)return!1;if(r.includes(n))return!0;var i=function(e){for(var t=e.split(""),n=[],r=0;r<t.length-1;r++){var i=t[r]+t[r+1];n.push(i)}return n}(n),a=i.filter((function(e){var t=r.indexOf(e);if(t>=0)return r=r.slice(t),!0})),o=.6;if(a.length/i.length>=o)return!0}(i,a),s=function(e,t){for(var n=t.toLowerCase(),r=e.toLowerCase(),i=n.split(/[,.| ]+/).reduce((function(e,t){return e.includes(t)?e:[].concat(T(e),[t])}),[]),a=r.split(/[,.| ]+/).reduce((function(e,t){return e.includes(t)?e:[].concat(T(e),[t])}),[]),o=2,s=0,u=0;u<a.length;u++)i.includes(a[u])&&s++;return s>=o}(n,e.translate),u=o&&s?0:o?1:s?2:-1;return u>=0?{id:e.id,voca:e.voca,translate:e.translate,spelling:e.spelling,typeWords:e.typeWords,_typeSimilar:u}:void 0})).filter(Boolean).slice(0,10)},lp=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).typeOf,n=void 0===t?[]:t;function r(){var t=localStorage.getItem(e);return JSON.parse(t)||n}return{setData:function(t){localStorage.setItem(e,JSON.stringify(t))},saveItem:function(e){var t=r()||n,i=t.findIndex((function(t){return t.id===e.id}));i>=0?t[i]=e:t.push(e),this.setData(t)},getItem:function(e){var t=r();return t?t[e]:null},getAllItems:function(){return r()},updateItem:function(e){var t=r();t&&t[e.id]&&(t[e.id]=e,this.setData(t))},deleteItem:function(e){var t=r();t&&t[e]&&(delete t[e],this.setData(t))},clearAllItems:function(){localStorage.removeItem(e)}}},cp="SR_MISSED_WORDS",fp=lp("SR_CONFIGS",{typeOf:{}}),hp=lp,dp=r(184);var pp=function(e){var t=e.handleKeyDown,n=v((0,a.useState)(""),2),r=n[0],i=n[1];return(0,dp.jsx)("div",{style:{display:"flex"},children:(0,dp.jsx)("input",{type:"text",className:"sr-create-sentence-input",value:r,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){t(e,i)}})})};function vp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mp=["size","style"];var yp=function(e){var t=e.size,n=void 0===t?"":t,r=e.style,i=vp(e,mp);return(0,dp.jsx)("span",p({style:p({"--size":n},r),className:"sr-loader"},i))},gp=function(e,t,n){var r=e;return[{from:"&*",to:"+ + + + +"},{from:'<span <span="" class="sr-examples-word sr-word-similar sr-cl-secondary"> style"fontweight </span>',to:""},{from:'var(--sr-white);">',to:""},{from:'<span <span="" class="sr-examples-word sr-word-similar sr-cl-secondary"> style"backgroundcolor </span>',to:""},{from:"var(--bs-body-font-weight);",to:""},{from:'<span class="sr-examples-word sr-word-opposite sr-cl-danger"> textalign </span> var(--bs-body-text-align);"&gt;',to:""},{from:'color <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /\'k\u0259l\u0259r/ </span> red; cursor <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /\'k\u025crs\u0259r/ </span> pointer; transform <span class="sr-examples-typeWord"> (n) </span> <span class="sr-examples-spelling sr-cl-yellow"> /tr\xe6ns\'fo\u028arm/ </span> translate(-3px, <span class="sr-examples-word sr-word-opposite sr-cl-danger"> 5px); </span> "&gt;x',to:'"'},{from:'<span class="im-inliner-orig-text"> ',to:""},{from:' </span> <inliner class="im-inliner-dst-text" <span="">style"color   #109e36; <span class="sr-examples-word sr-word-opposite sr-cl-danger">paddingright</span>   8px;"&gt;',to:"_"},{from:'</span> <inliner class="im-inliner-dst-text" <span class="sr-examples-word sr-word-similar sr-cl-secondary">style"color</span>   #109e36; <span class="sr-examples-word sr-word-opposite sr-cl-danger">paddingright</span>   8px;">',to:"_"},{from:'<inliner style="',to:""},{from:'</span><inliner class="im-inliner-dst-text" style="color: #109e36; padding-right: 8px;">',to:""},{from:'color <span class=" sr-examples-typeword"="">(n) <span class="sr-examples-spelling sr-cl-yellow">/\'k\u0259l\u0259r/</span> red;\n            cursor <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\'k\u025crs\u0259r/</span> pointer;',to:""},{from:'transform <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/tr\xe6ns\'fo\u028arm/</span> translate(-3px, <span class="sr-examples-word sr-word-opposite sr-cl-danger">5px);</span>  "&gt; x </inliner> </inliner>',to:""},{from:"&nbsp;",to:" "},{from:"<br>===New Info===<br>",to:""},{from:"$$$",to:"+".concat(t,"ed: ").concat(n," <br/>+").concat(t,"ing: ").concat(n)},{from:"$$",to:n},{from:"$",to:t}].forEach((function(e){var t=e.from,n=e.to;r=r.replaceAll(t,n)})),r},bp={searchImages:function(e){return c(u().mark((function t(){var n,r,i,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.unsplash.com/search/photos?query="+encodeURIComponent(e)+"&client_id=zsMUHS8pQZvE08TWqjxDJSQa-MDY-v8cncBvNzaRmv8");case 2:return r=t.sent,t.next=5,r.json();case 5:return i=t.sent,a=(null===i||void 0===i||null===(n=i.results)||void 0===n?void 0:n.map((function(e){return{url:e.urls.small,alt:e.alt_description,color:e.color,user:{name:e.user.name}}})))||[],t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))()}};var wp=function(e){e.data;var t=e.selected,n=e.imageClick,r=e.isShow,i=void 0===r||r,o=e.searchValue,s=void 0===o?"":o,l=e.limit,f=void 0===l?5:l,h=v((0,a.useState)(i?fp.getAllItems().showGallery||!1:i),2),d=h[0],m=h[1],y=v((0,a.useState)([]),2),g=y[0],b=y[1],w=v((0,a.useState)(!1),2),k=w[0],x=w[1];return(0,a.useEffect)((function(){var e=setTimeout((function(){if(""!==s.trim()){var e=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,bp.searchImages(s);case 3:t=e.sent,b((function(e){return t.slice(0,f)})),x(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(d&&0===g.length||d&&i)&&e()}else b([])}),800);return function(){clearTimeout(e)}}),[s,d]),(0,a.useEffect)((function(){g.length>0&&n(g[0])}),[g]),(0,dp.jsx)("div",{children:(0,dp.jsxs)("div",{id:"sr-album",children:[d&&(0,dp.jsx)("ul",{class:"stage",children:g&&(null===g||void 0===g?void 0:g.map((function(e){return(0,dp.jsx)("li",{className:"image-wrapper",children:(0,dp.jsx)("img",{className:"".concat(t===e.url?"sr-selected":""),src:e.url,alt:e.alt,onClick:function(){return n(e,{showGallery:m})}})})})))}),k&&(0,dp.jsx)(yp,{size:"30px"}),(0,dp.jsxs)("div",{style:{height:"16px"},className:"sr-gallery-actions",children:[(0,dp.jsx)("button",{style:{"--size":"14px"},className:"sr-gallery-btn sr-circle-btn sr-bg-secondary",onClick:function(){m((function(e){if(!0===i){var t=p(p({},fp.getAllItems()),{},{showGallery:!e});fp.setData(t)}return!e}))}}),(0,dp.jsx)("button",{style:{"--size":"14px"},className:"sr-gallery-btn sr-circle-btn sr-bg-primary"+"".concat(""===t?" no-image":""),onClick:function(){return n({})}})]})]})})},kp={reminder:"REMINDER",id:"gmjojpondhajliegnnlhnfhkngibjjbl",sendMessage:function(e,t){chrome.runtime.sendMessage(this.id,e,(function(e){t&&t(e)}))}},xp=kp,Sp={sendVocabListToExtension:"SEND_VOCAB_LIST_TO_EXTENSION",getVocabData:"GET_VOCAB_DATA_EXTENSION",updateVocabData:"UPDATE_VOCAB_DATA_EXTENSION",addNewVocabInData:"ADD_NEW_VOCAB_IN_DATA"},Ep=["sr-similar-spelling-and-meaning","sr-similar-spelling","sr-similar-meaning sr-bg-danger","sr-word-synonym"],Cp=function(e){var t,n,r=v((0,a.useState)({isShowInput:!1}),2),i=r[0],o=r[1],s=v((0,a.useState)([]),2),l=s[0],f=(s[1],v((0,a.useState)(!1),2)),d=f[0],y=f[1],g=v((0,a.useState)(e),2),b=g[0],w=g[1],k=v((0,a.useState)(!1),2),x=k[0],S=k[1],E=e.voca,C=e.translate,_=e.meaning,I=(e.imageInfo,e.examples,e.note,e.spacedRepetition,e.time),N=e.spelling,D=e.similar,A=e.typeWords,L=e.repetitiveTime,R=e.level,O=e.id,P=e.indexInData,M=e.setData,j=e.setMissedWords,F=e.setUpperDataSearch,V=e.indexInUpperData,U=e.searchText,z=e.data,B=e.simple,W=void 0!==B&&B,q=e.addEvent,H=void 0!==q&&q,K=v((0,a.useState)(!!U),2),G=K[0],Q=K[1],$=v((0,a.useState)(D),2),Y=$[0],X=$[1],J=v((0,a.useState)({similarMeaningWords:[],similarSoundWords:[]}),2),Z=J[0],ee=J[1],te=(0,a.useRef)(null),ne=((0,a.useRef)(null),L-(new Date).getTime()),re=(null===I||void 0===I?void 0:I.length)<=2;(0,a.useEffect)((function(){if(e.nextLevel&&ne<=0){var t=5*Math.random();setTimeout(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)}))),t)}}),[e.nextLevel]),(0,a.useEffect)((function(){if((1===P||U)&&!e.nextLevel){var t=function(){var e=c(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([np(E,"sp"),np(E,"ml")]);case 2:t=e.sent,n=v(t,2),r=n[0],i=n[1],ee({similarMeaningWords:null===i||void 0===i?void 0:i.slice(0,10),similarSoundWords:null===r||void 0===r?void 0:r.slice(1,10)});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}var n=function(e){"ArrowLeft"===e.key?ae():"ArrowRight"===e.key?ie():"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),Q((function(e){return!e})))};return 0===P&&!U&&H&&window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[P,H]);var ie=function(){var t=c(u().mark((function t(){var n,r,i,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(new Date).getTime(),r=[],i=R+1,R+1>=Zd.normal.length?(console.log("===== RETURN LEVEL 7 => 5 ====="),r=[n,n+Zd.normal[5]],i=5):r=[].concat(T(I),[n+Zd.normal[R+1]]),a={time:r,level:i,repetitiveTime:r[r.length-1]},!m){t.next=8;break}return t.next=8,Xd.updateWord(O,a);case 8:return t.next=10,we(a,!0);case 10:M((function(t){var n=e.nextLevel?t.findIndex((function(e){return e.id===O})):P,r=[].concat(T(t),[p(p(p({},t[n]),a),{},{note:b.note,examples:b.examples})]);return r.splice(n,1),r}));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(new Date).getTime(),I,I.length,1,n={level:1,repetitiveTime:t+Zd.normal[1]},!m){e.next=9;break}return e.next=9,Xd.updateWord(O,n);case 9:return e.next=11,we(n,!0);case 11:M((function(e){var t=p(p(p({},e[P]),n),{},{note:b.note,examples:b.examples}),r=[].concat(T(e),[t]);return ye(t),r.splice(P,1),r}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=c(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p({},z[P]),e.next=3,ye(t);case 3:if(n=(new Date).getTime(),r=Zd.normal[0],i={repetitiveTime:n+r},!m){e.next=10;break}return e.next=10,Xd.updateWord(O,i);case 10:return e.next=12,we(i,!0);case 12:M((function(e){var t=p(p({},e[P]),i),n=[].concat(T(e),[t]);return ye(t),n.splice(P,1),n}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to remove it out of the database?")){e.next=7;break}if(!m){e.next=4;break}return e.next=4,Xd.deleteWord(O);case 4:M((function(e){var t=T(e);return t.splice(P,1),t})),e.next=8;break;case 7:console.log("Thing was not saved to the database.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var t=c(u().mark((function t(n){var r,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),n.stopPropagation(),r=n.target,e[r.id].trim()===r.innerText.trim()){t.next=11;break}if(i=h({},r.id,r.innerText),!m){t.next=8;break}return t.next=8,Xd.updateWord(O,i);case 8:return t.next=10,we(i);case 10:F&&F((function(e){return e[V][r.id]=r.innerText,e}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(e){e.stopPropagation(),"50"==e.keyCode&&ce(e,!1)},ce=function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,l,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],r=c.length>2&&void 0!==c[2]&&c[2],t.stopPropagation(),i=t.target,a=i.innerHTML,o=gp(a,b.voca,b.translate),b[i.id].trim()===o.trim()){e.next=20;break}return e.next=9,sp(o);case 9:if(s=e.sent,l=h({},i.id,gp(s,b.voca,b.translate)),!(n&&m&&r)){e.next=14;break}return e.next=14,Xd.updateWord(O,l);case 14:return e.next=16,we(l);case 16:r?w((function(e){return p(p({},e),{},h({},i.id,s))})):t.target.innerHTML=s,M((function(e){return e[P]=p(p({},e[P]),l),e})),F&&V>=0&&F((function(e){var t=p(p({},e[V]),l);return e[V]=t,T(e)})),r||setTimeout((function(){ce(t,!0,!0)}),100);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=up(z,E,C),X(t),n={similar:t},!(m&&(null===t||void 0===t?void 0:t.length)>0)){e.next=6;break}return e.next=6,Xd.updateWord(O,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=T(Y)).splice(t,1),r={similar:n},X(n),!m){e.next=7;break}return e.next=7,Xd.updateWord(O,r);case 7:M((function(e){return e[P]=p(p({},e[P]),r),e}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=9;break}if(!(r=t.target.value.trim())){e.next=8;break}if(i={note:'<div class="sr-my-sentence"><span class="sr-symbol">&#9733;</span>'.concat(r,"</div> ").concat(b.note)},w((function(e){return p(p({},e),i)})),!m){e.next=8;break}return e.next=8,Xd.updateWord(O,i);case 8:n("");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,rp.getWordDetail(E);case 3:t=e.sent,(n=t.map((function(e){return"<div>- ".concat(e,"</div>")})).join(" ")||"")&&w((function(e){return p(p({},e),{},{examples:"".concat(e.examples?e.examples+"<br/>":"").concat(n)})})),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,rp.getWordDetail(E,{endpoint:"synonyms"});case 3:if(t=e.sent,n=t.map((function(e){return{_typeSimilar:3,typeWords:[],spelling:"",translate:"",voca:e}})),r=[].concat(T(n),T(Y)),X(r),y(!1),!(m&&(null===n||void 0===n?void 0:n.length)>0)){e.next=11;break}return e.next=11,Xd.updateWord(O,{similar:r});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,navigator.clipboard.readText();case 3:return n=e.sent,r=n.trim(),e.next=7,navigator.clipboard.writeText(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t?p(p({},t),{},{missedWordId:t.id}):p(p({},b),{},{missedWordId:b.id,data:null,setData:null,setMissedWords:null,setUpperDataSearch:null}),r=-1,"GRAMMAR"!==n.voca.toUpperCase().trim()){e.next=4;break}return e.abrupt("return",!1);case 4:if(!j){e.next=9;break}if(j((function(e){var t=T(e);return(r=t.findIndex((function(e){return e.missedWordId===n.id||e.voca.toLowerCase()===n.voca.toLowerCase()})))>=0?(t[r]=n,console.log("update missed word")):(t.push(n),console.log("push missed word")),t})),!(r<0&&m)){e.next=9;break}return e.next=9,Xd.newWord(p(p({},n),{},{timeAt:Date.now()}),$d.missedWords);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("On double click image"),n={imageInfo:{}},!m){e.next=5;break}return e.next=5,Xd.updateWord(O,n);case 5:w((function(e){return p(p({},e),n)})),M((function(e){return e[P]=p(p({},e[P]),n),e})),F&&V>=0&&F((function(e){var t=p(p({},e[V]),n);return e[V]=t,T(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={imageInfo:p({},t)},!m){e.next=4;break}return e.next=4,Xd.updateWord(O,r);case 4:w((function(e){return p(p({},e),r)})),M((function(e){return e[P]=p(p({},e[P]),r),e})),F&&V>=0&&F((function(e){var t=p(p({},e[V]),r);return e[V]=t,T(e)})),n.showGallery((function(e){return!1}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,xp.sendMessage({action:Sp.updateVocabData,moveToEndOfList:n,payload:p(p({},t),{},{id:b.id}),indexInData:b.indexInUpperData&&b.indexInUpperData>=0?b.indexInUpperData:b.indexInData});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=[{htmlSymbol:"&#10053;",handleClick:function(){var e=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new Date).getTime(),r=Zd.normal[0],i={repetitiveTime:n+r},!m){e.next=7;break}return e.next=7,Xd.updateWord(O,i);case 7:M((function(e){var t=p(p({},e[P]),i),n=[].concat(T(e),[t]);return ye(t),n.splice(P,1),n}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{htmlSymbol:"&#9733;",handleClick:function(){o((function(e){return p(p({},e),{},{isShowInput:!e.isShowInput})}))}},{htmlSymbol:"&#8499;",handleClick:pe},{htmlSymbol:"&#9852;",handleClick:ve},{htmlSymbol:"&#9850;",handleClick:fe}];return(0,dp.jsx)(dp.Fragment,{children:e.nextLevel?(0,dp.jsx)(dp.Fragment,{}):(0,dp.jsxs)("div",{ref:te,className:"sr-card sr-container ".concat(G&&"sr-show-detail-voca"," ").concat(W&&"sr-card-simple"," ").concat(re&&"sr-card-new-word"),"data-level":R,children:[(0,dp.jsx)(wp,{data:l,selected:null===b||void 0===b||null===(t=b.imageInfo)||void 0===t?void 0:t.url,imageClick:be,isShow:!1,searchValue:null===b||void 0===b?void 0:b.voca}),(0,dp.jsxs)("div",{className:"sr-card-header",children:[(0,dp.jsx)("h2",{id:"voca",className:"sr-title",contentEditable:"true",onBlur:ue,dangerouslySetInnerHTML:{__html:null===E||void 0===E?void 0:E.onHighlightText(U)}}),(0,dp.jsx)("button",{onClick:function(){navigator.clipboard.writeText(E)},className:"sr-btn sr-html-symbol sr-html-symbol-btn sr-copy-btn",children:"\u274f"}),A&&A.length>0&&(0,dp.jsx)("div",{className:"sr-type-word-container",children:"string"===typeof A?(0,dp.jsxs)("span",{className:"type-words",children:["(",(0,dp.jsx)("span",{id:"typeWords",children:A}),")"]}):A.map((function(e){return(0,dp.jsxs)("span",{className:"type-words",children:["(",(0,dp.jsx)("span",{id:"typeWords",children:e}),")"]})}))}),(0,dp.jsxs)("span",{className:"spelling",children:["/",(0,dp.jsx)("span",{id:"spelling",contentEditable:"true",onBlur:ue,dangerouslySetInnerHTML:{__html:(null===N||void 0===N?void 0:N.onHighlightText(U))||"spelling"}}),"/"]})]}),(0,dp.jsx)("div",{children:(0,dp.jsxs)("div",{children:[(0,dp.jsx)("span",{id:"meaning",className:"note meaning",contentEditable:"true",onBlur:ue,dangerouslySetInnerHTML:{__html:null===_||void 0===_?void 0:_.onHighlightText(U)}}),(0,dp.jsxs)(dp.Fragment,{children:[(0,dp.jsx)("span",{className:"sr-meaning-flag",children:"|"}),(0,dp.jsx)("p",{id:"translate",className:"note sr-translate",contentEditable:"true",onBlur:ue,dangerouslySetInnerHTML:{__html:(null===C||void 0===C?void 0:C.onHighlightText(U))||"translate"}})]})]})}),(0,dp.jsx)("div",{className:"sr-tag-words-container",children:Y.map((function(e,t){return(0,dp.jsx)("button",{className:"sr-btn sr-tag-word "+(Ep[e._typeSimilar]||""),"data-info":"".concat(e.typeWords," /").concat(e.spelling||"","/ ").concat(e.translate),onDoubleClick:function(){return he(t)},children:e.voca})}))}),(0,dp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:"sr-flex-center sr-additional-actions",children:[ne>0?(0,dp.jsx)("p",{class:"note remaining-time",onClick:function(){return Q(!G)},children:Jd(ne).toString({seconds:!1})}):(0,dp.jsx)("p",{class:"note over-time",onClick:function(){return Q(!G)},children:"over time"}),(0,dp.jsx)("div",{style:{flexWrap:"wrap"},className:"sr-flex-center",children:ke.map((function(e){return(0,dp.jsx)("button",{onClick:e.handleClick,className:"sr-btn sr-card-similar-words sr-html-symbol sr-html-symbol-btn",dangerouslySetInnerHTML:{__html:e.htmlSymbol}})}))})]}),i.isShowInput&&(0,dp.jsx)(pp,{handleKeyDown:de}),(0,dp.jsxs)("div",{className:"sr-card-note-container",children:[(0,dp.jsx)("div",{id:"note",className:"sr-note",contentEditable:"true",onFocus:me,onBlur:ce,onKeyDown:le,dangerouslySetInnerHTML:{__html:b.note}}),(0,dp.jsx)("div",{id:"examples",className:"example-container sr-example",contentEditable:"true",onFocus:me,onBlur:ce,onKeyDown:le,dangerouslySetInnerHTML:{__html:b.examples}})]}),(0,dp.jsxs)("div",{className:"sr-card-items-footer",children:[b.imageInfo&&(null===(n=b.imageInfo)||void 0===n?void 0:n.url)&&(0,dp.jsxs)("div",{className:"sr-card-item-image-container",children:[x&&(0,dp.jsx)("img",{className:"sr-card-item-image",src:b.imageInfo.url,alt:b.imageInfo.alt,onDoubleClick:ge}),(0,dp.jsxs)("div",{className:"sr-card-item-image-description",onClick:function(){return S((function(e){return!e}))},children:["Photo on"," ",(0,dp.jsx)("a",{src:"https://unsplash.com",children:"Unsplash"})]})]}),(0,dp.jsxs)("div",{className:"card-actions",children:[(0,dp.jsx)("button",{className:"sr-btn btn-outline sr-circle-btn sr-actions-delete","data-color":"orange",onClick:se,children:"\u2715"}),(0,dp.jsx)("button",{className:"sr-btn sr-actions-prev btn-outline sr-circle-btn",onClick:ae,children:"\u21a2"}),(0,dp.jsx)("button",{className:"sr-btn sr-actions-next sr-circle-btn",onClick:ie,children:"\u21a3"}),(0,dp.jsx)("button",{className:"sr-btn sr-actions-next sr-circle-btn",onClick:oe,children:"\u2756"}),d&&(0,dp.jsx)(yp,{style:{marginLeft:"15px"},size:"50px"})]})]}),(0,dp.jsx)("div",{children:Z.similarMeaningWords.length>0&&(0,dp.jsxs)(dp.Fragment,{children:[(0,dp.jsx)("h4",{className:"sr-cl-primary",children:"Mean Like:"}),(0,dp.jsx)("div",{children:Z.similarMeaningWords.map((function(e){return(0,dp.jsx)("button",{style:{userSelect:"text",padding:"7px"},className:"sr-btn sr-bg-primary sr-cl-white",children:e.word})}))})]})}),(0,dp.jsx)("div",{children:Z.similarSoundWords.length>0&&(0,dp.jsxs)(dp.Fragment,{children:[(0,dp.jsx)("h4",{className:"sr-cl-primary",children:"Sound Like:"}),(0,dp.jsx)("div",{children:Z.similarSoundWords.map((function(e){return(0,dp.jsx)("button",{style:{userSelect:"text",padding:"7px"},className:"sr-btn sr-bg-secondary sr-cl-white",children:e.word})}))})]})})]})})};var Tp=function(e){var t,n=e.searchValue,r=void 0===n?"":n,i=e.data,o=e.setData,s=e.setMissedWords,l=(e.showTitle,e.simpleSearch,e.componentItem),f=void 0===l?Cp:l,h=(e.formCreateItemActiveId,v((0,a.useState)([]),2)),d=h[0],m=h[1],y=v((0,a.useState)(""),2),g=y[0],b=y[1],w=v((0,a.useState)(!1),2),k=w[0],x=w[1];(0,a.useEffect)((function(){var e=setTimeout((function(){var e=g.trim().toUpperCase()||r.trim().toUpperCase();if(e&&e.length>1&&i.length>0){var t=i.map((function(t,n){return t.voca.toUpperCase().includes(e)||t.note.toUpperCase().includes(e)||t.translate.toUpperCase().includes(e)?p(p({},t),{},{indexInData:n}):null})).filter(Boolean);m(t)}else e||m([])}),400);return function(){clearTimeout(e)}}),[r,g]);var S=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return n=e.sent,r=n.trim(),t.target.value=r,e.next=7,navigator.clipboard.writeText(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dp.jsxs)("div",{className:"sr-search-container",children:[(0,dp.jsxs)("h2",{style:{width:"fit-content"},className:"sr-cl-secondary",onClick:function(){return x((function(e){return!e}))},children:["Search (",d.length,")"]}),(0,dp.jsxs)(dp.Fragment,{children:[k&&(0,dp.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,dp.jsx)("input",{className:"sr-search-input",type:"text",value:g,onChange:function(e){return b(e.target.value)}}),(0,dp.jsx)("input",{style:{width:"50px"},className:"sr-search-input",type:"text",placeholder:"copy",onBlur:function(e){return e.target.value=""},onFocus:S})]}),(0,dp.jsx)("div",{className:"sr-search-results",children:d.length>0&&(null===(t=d.slice(0,10))||void 0===t?void 0:t.map((function(e,t){return(0,dp.jsx)(f,p(p({},e),{},{indexInData:t,setData:m,setUpperDataSearch:o,setMissedWords:s,indexInUpperData:e.indexInData,searchText:g.trim(),data:i}),e.id+"search")})))})]})]})};function _p(e){var t=e.setMiddle,n=e.data;return(0,dp.jsx)("div",{className:"sr-flex-center sr-no-print",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:(0,dp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:n.length/2,onBlur:function(e){return t(Number(e.target.value))}})})}function Ip(e){var t,n=e.data,r=void 0===n?[]:n,i=e.from,a=e.to,o=e.setData,s=e.showRelateWords;return(0,dp.jsx)("div",{id:"list-words sr-no-print",children:(0,dp.jsx)("ul",{children:null===r||void 0===r||null===(t=r.slice(i,a))||void 0===t?void 0:t.map((function(e,t){return(0,dp.jsx)(Np,p(p({},e),{},{showRelateWords:s,setData:o,from:i,to:a,index:t}),e.id+"list")}))})})}var Np=function(e){var t=v((0,a.useState)(e),2),n=t[0],r=t[1];(0,a.useEffect)((function(){if(e.showRelateWords){var t=function(){var e=c(u().mark((function e(){var t,i,a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([np(n.voca,"sp"),np(n.voca,"ml")]);case 2:t=e.sent,i=v(t,2),a=i[0],o=i[1],s=(null===a||void 0===a?void 0:a.length)>0?"<div>Sound : ".concat(null===a||void 0===a?void 0:a.slice(1,6).map((function(e){return e.word+" "})).join(" / "),"</div>"):"",l=(null===o||void 0===o?void 0:o.length)>0?"<div>Meaning : ".concat(null===o||void 0===o?void 0:o.slice(0,5).map((function(e){return e.word+" "})).join(" / "),"</div>"):"",r((function(e){return p(p({},e),{},{note:"".concat(s," ").concat(l," ").concat(e.note)})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}}),[e.showRelateWords]);return(0,dp.jsxs)("li",{children:[(0,dp.jsxs)("p",{className:"sr-word-title sr-max-line-1",children:[n.voca," ("," ","string"!==typeof n.typeWords&&n.typeWords.map((function(e){return e+" "})),") /",(0,dp.jsx)("span",{className:"sr-cl-yellow",children:n.spelling}),"/"," ",(0,dp.jsx)("button",{className:"sr-print-word-delete sr-no-print",onClick:function(){return t=Math.floor(e.from+e.index),void e.setData((function(e){var n=T(e);return n.splice(t,1),n}));var t},children:"X"})," ",e.level," _ ",Math.floor(e.from+e.index+1)]}),(0,dp.jsxs)("p",{className:"sr-max-line-2",children:["[",(0,dp.jsx)("span",{className:"sr-cl-primary",children:n.translate}),"]"]}),(0,dp.jsxs)("div",{className:"padding-left list-words-more-info",children:[n.note&&(0,dp.jsx)("div",{className:"sr-word-addition sr-card-note-container",dangerouslySetInnerHTML:{__html:n.note}}),n.examples&&(0,dp.jsx)("div",{className:"sr-word-addition sr-card-note-container",dangerouslySetInnerHTML:{__html:n.examples}})]})]})};var Dp=function(e){var t=e.data,n=void 0===t?[]:t,r=e.from,i=e.to,o=v((0,a.useState)({from:r,to:i}),2),s=o[0],l=o[1],f=function(){var e=c(u().mark((function e(t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!(n.length>0)){e.next=6;break}return r=n.slice(s.from,s.to).map((function(e){return e.voca})).join(", "),i="\n                    \u0110\u1eb7t c\xe2u cho nh\u1eefng t\u1eeb sau b\u1eb1ng ti\u1ebfng vi\u1ec7t y\xeau c\u1ea7u li\u1ec7t k\xea theo danh s\xe1ch sau \u0111\xf3 d\u1ecbch c\xe1c c\xe2u \u0111\xf3 b\u1eb1ng ti\u1ebfng anh \u1edf ph\xeda b\xean d\u01b0\u1edbi: ".concat(r,'\n\n                                \n                    Vd cho t\u1eeb Hello:\n                    1. Urge (V, n): \'T\xf4i khuy\xean b\u1ea1n n\xean \u0111i kh\xe1m b\xe1c s\u0129.\'\n                    <Khuy\xean nh\u1ee7, th\xfac gi\u1ee5c> /\u025c:d\u0292/\n                    Vd cho t\u1eeb Entrepreneur:\n                    2. Particular (A, n): "T\xf4i mu\u1ed1n bi\u1ebft th\xf4ng tin c\u1ee5 th\u1ec3 v\u1ec1 s\u1ea3n ph\u1ea9m n\xe0y."\n                    <C\u1ee5 th\u1ec3, \u0111\u1eb7c bi\u1ec7t> /p\u0259r\'t\u026akj\u0259l\u0259r/\n\n                    D\u1ecbch c\xe2u ti\u1ebfng vi\u1ec7t sang ti\u1ebfng anh:\n                    1. Urge (V, n) /\u025c:d\u0292/: "I urge you to go see a doctor."\n                    2. Particular (A, n) /p\u0259r\'t\u026akj\u0259l\u0259r/: "I want to know the particular information about this product." \n               '),e.next=6,navigator.clipboard.writeText(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dp.jsxs)("div",{className:"sr-flex-center sr-no-print",style:{display:"inline-flex"},children:[(0,dp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",background:"#1ac27d"},className:"sr-btn",onClick:f,children:"ChatGpt"}),(0,dp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:[(0,dp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:s.from,onBlur:function(e){return l((function(t){return p(p({},t),{},{from:Number(e.target.value)||r||0})}))}}),(0,dp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:s.to,onBlur:function(e){return l((function(t){return p(p({},t),{},{to:Number(e.target.value)||i||20})}))}})]})]})},Ap=function(e){var t=e.data,n=e.getWords,r=e.darkTheme,i=v((0,a.useState)(t),2),o=i[0],s=i[1],l=v((0,a.useState)(!0),2),f=l[0],h=l[1],d=v((0,a.useState)(!0),2),m=d[0],y=d[1],g=v((0,a.useState)(o.length/2),2),b=g[0],w=g[1],k=v((0,a.useState)({showItemsBy:{level:{from:0,to:7}},showRelateWords:!1}),2),x=k[0],S=k[1],E=(0,a.useRef)(null),C=(n.to,(0,a.useRef)(null)),_=(new Date).toJSON().slice(0,10);(0,a.useEffect)((function(){s((function(e){var n=t.filter((function(e){return e.level>=x.showItemsBy.level.from&&e.level<=x.showItemsBy.level.to}));return w(n.length/2),n}))}),[x.showItemsBy.level.to,x.showItemsBy.level.from]),(0,a.useEffect)((function(){C.current&&C.current.scrollIntoView({behavior:"smooth"})}),[]),(0,a.useEffect)((function(){E.current&&E.current.scrollIntoView({behavior:"smooth"})}),[o]);var I=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return n=e.sent,r=n.trim(),e.next=6,navigator.clipboard.writeText(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,n){var r=e.target.innerHTML;o.forEach((function(e){r=r.onHighlightText(e.voca,(function(t){return"".concat(e.voca)}))})),e.target.innerHTML=r.replaceAll("<br>","")};return(0,dp.jsx)(dp.Fragment,{children:f&&(0,dp.jsx)("div",{className:"sr-print-window"+(m?" sr-show-related-note":"")+(r?" sr-dark-mode":""),ref:C,children:(0,dp.jsxs)("div",{className:"sr-print-window-container",children:[(0,dp.jsxs)("p",{style:{display:"flex",alignItems:"center",marginLeft:"15px"},className:"sr-print-window-title",children:["Today: ",_," "]}),(0,dp.jsxs)("div",{className:"sr-print-window-words-container",children:[(0,dp.jsxs)("div",{className:"sr-print-list-word sr-show-detail-voca",children:[(0,dp.jsx)(Ip,{data:o,from:0,to:b,setData:s,showRelateWords:x.showRelateWords}),(0,dp.jsx)(Ip,{data:o,from:b,to:o.length,setData:s,showRelateWords:x.showRelateWords})]}),(0,dp.jsx)(_p,{setMiddle:w,data:o}),(0,dp.jsxs)("div",{ref:E,className:"sr-flex-center sr-no-print",children:[(0,dp.jsxs)("div",{className:"sr-flex-center sr-no-print",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:[(0,dp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:n.from,onBlur:function(e){S((function(t){return t.showItemsBy.level.from=Number(e.target.value)||0,p({},t)}))}}),(0,dp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:7,onBlur:function(e){S((function(t){return t.showItemsBy.level.to=Number(e.target.value)||0,p({},t)}))}})]}),(0,dp.jsx)("button",{style:{marginLeft:"15px"},className:"sr-btn btn-show-more sr-bg-primary sr-no-print sr-circle-btn",onClick:function(){return y((function(e){return!e}))},children:"\u268d"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-primary sr-circle-btn sr-no-print",onClick:function(){document.body.classList.add("sr-print-missed-words"),window.print(),window.addEventListener("afterprint",(function(){document.body.classList.remove("sr-print-missed-words")}))},children:"\u2117"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return h((function(e){return!e}))},children:"\u2716"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return function(){var e=T(o);e.sort((function(){return Math.random()-.5})),s(e)}()},children:"\ud83d\udd00"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",onClick:function(){return S((function(e){return p(p({},e),{},{showRelateWords:!e.showRelateWords})}))},children:"\ud83d\udd96"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn sr-no-print",children:o.length})]}),(0,dp.jsxs)("div",{style:{display:"flex",minWidth:"100%"},children:[(0,dp.jsxs)("div",{children:[(0,dp.jsx)(Dp,{data:o,from:0,to:b}),(0,dp.jsx)("div",{style:{padding:"5px"},onFocus:I,id:"sr-passage",className:"passage-container sr-passage",contentEditable:"true",onBlur:function(e){return N(e,0,o.length)}})]}),(0,dp.jsxs)("div",{children:[(0,dp.jsx)(Dp,{data:o,from:b,to:o.length+1}),(0,dp.jsx)("div",{style:{padding:"5px",marginLeft:"5px"},onFocus:I,id:"sr-passage",className:"passage-container sr-passage",contentEditable:"true",onBlur:function(e){return N(e,0,o.length)}})]})]})]})]})})})},Lp=hp(cp);Lp.getAllItems,Lp.clearAllItems,Lp.saveItem;var Rp=function(e){var t=e.data,n=e.setData,r=e.darkTheme,i=(e.setDarkTheme,e.handleShowVocab),s=v((0,a.useState)(!1),2),l=s[0],f=s[1],h=v((0,a.useState)({from:0,to:21}),2),d=h[0],y=h[1];(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xd.get($d.missedWords,{by:"timeAt"});case 2:t=e.sent,i=r(t),n(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(e){return e.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t}))};return m&&t.length<=0&&e(),function(){}}),[]);var g=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),n([]),!m){e.next=5;break}return e.next=5,Xd.deleteAllDocuments($d.missedWords);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=c(u().mark((function e(n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),!(t.length>0)){e.next=6;break}return r=t.slice(d.from,d.to).map((function(e){return e.voca})).join(", "),i="\n            \u0110\u1eb7t c\xe2u cho nh\u1eefng t\u1eeb sau b\u1eb1ng ti\u1ebfng vi\u1ec7t y\xeau c\u1ea7u li\u1ec7t k\xea theo danh s\xe1ch sau \u0111\xf3 d\u1ecbch c\xe1c c\xe2u \u0111\xf3 b\u1eb1ng ti\u1ebfng anh \u1edf ph\xeda b\xean d\u01b0\u1edbi: ".concat(r,'\n            \n            Vd cho t\u1eeb Hello:\n            1. Hello (int): \'xin ch\xe0o, b\u1ea1n c\xf3 kh\u1ecfe kh\xf4ng\'\n               <Xin ch\xe0o>: "hello, how are you"\n            Vd cho t\u1eeb Entrepreneur:\n            2. Entrepreneur (n): "Nh\xe0 doanh nh\xe2n n\xe0y \u0111\xe3 th\xe0nh c\xf4ng trong nhi\u1ec1u l\u0129nh v\u1ef1c kinh doanh."\n            <Nh\xe0 doanh nh\xe2n>: "This entrepreneur has been successful in various business ventures."   \n               '),e.next=6,navigator.clipboard.writeText(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,dp.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"auto"},className:"sr-search-container",children:[(0,dp.jsxs)("h2",{style:{width:"fit-content",display:"inline-block"},className:"sr-cl-secondary",onClick:function(){return f((function(e){return!e}))},children:["Missed (",t.length,")"]}),(0,dp.jsx)("button",{style:{padding:"10px",marginLeft:"15px"},className:"sr-btn sr-bg-primary",onClick:function(e){if(e.stopPropagation(),!(t.length<=0)){i();var n=document.querySelector(".sr-print-component");n&&n.remove();var a=window.document.createElement("div");a.classList.add("sr-print-component"),window.document.body.appendChild(a);var s=o.createRoot(a);console.log({darkTheme:r}),s.render((0,dp.jsx)(Ap,{data:t,getWords:d,darkTheme:r}))}},children:"Print"}),(0,dp.jsx)("button",{style:{padding:"10px",marginLeft:"15px"},className:"sr-btn sr-bg-secondary",onClick:g,children:"Clear"}),(0,dp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex"},children:[(0,dp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",background:"#1ac27d"},className:"sr-btn",onClick:b,children:"ChatGpt"}),(0,dp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid"},children:[(0,dp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:d.from,onBlur:function(e){return y((function(t){return p(p({},t),{},{from:Number(e.target.value)||0})}))}}),(0,dp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:d.to,onBlur:function(e){return y((function(t){return p(p({},t),{},{to:Number(e.target.value)||20})}))}})]})]}),l&&(0,dp.jsx)("div",{className:"sr-search-results",children:t.length>0&&t.map((function(e,t){return(0,dp.jsx)(Cp,p(p({},e),{},{indexInData:t,setGlobalMissedWordsData:n}),e.id)}))})]})},Op=function(e){var t=e.handleShowComponent,n=e.data,r=e.setData,i=(e.upperData,e.setUpperData),o=e.missedWords,s=e.setMissedWords,l=e.darkTheme,f=e.setDarkTheme,h=v((0,a.useState)({besideContainer:!1,side:"right"}),2),d=h[0],y=h[1],g=v((0,a.useState)({amountItemShow:6,pageNum:1}),2),b=g[0],w=g[1],k=v((0,a.useState)(!1),2),x=k[0],S=k[1],E=v((0,a.useState)(null),2),C=E[0],T=E[1],_=v((0,a.useState)(!1),2),I=_[0],N=_[1],D=v((0,a.useState)({nextLevel:{from:0,to:3}}),2),A=D[0],L=D[1],R=v((0,a.useState)(!1),2),O=R[0],P=R[1];(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===C?(t=(new Date).getTime(),r=n.reduce((function(e,n){return n.repetitiveTime-t<=0?e+1:e}),0),T(r)):T((function(e){return e-1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[n]),(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],xp.sendMessage({action:Sp.getVocabData},(function(e){console.log("sr-app: data from extension",e.data.length),t=e.data})),!(t.length<=0)){e.next=8;break}return e.next=5,Xd.get();case 5:return t=e.sent,e.next=8,xp.sendMessage({action:Sp.sendVocabListToExtension,data:t},(function(e){console.log("sr-app: Sended data to extension",e)}));case 8:r(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.length<=0&&m&&(console.log("fetch data voca container"),N(!0),e(),N(!1)),function(){}}),[]),(0,a.useEffect)((function(){return x&&(console.log("sr-app: Multiple change"),setTimeout((function(){S(!1)}),3e3)),function(){}}),[x]);var M=function(){var e=fp.getAllItems();f((function(t){var n=p(p({},e),{},{theme:!t});return fp.setData(n),!t}))},j=function(e){y((function(t){return p(p({},t),{},{besideContainer:!t.besideContainer,side:e})}))};return(0,dp.jsx)(dp.Fragment,{children:I?(0,dp.jsx)(yp,{size:"100px"}):(0,dp.jsxs)("div",{className:"".concat(l?"sr-dark-mode":""," ").concat(d.besideContainer?"sr-beside-wrapper sr-side-".concat(d.side):""),children:[(0,dp.jsx)("div",{className:"sr-overlay"}),(0,dp.jsxs)("div",{className:"card-container",children:[(0,dp.jsx)(Rp,{data:o,setData:s,darkTheme:l,setDarkTheme:f,handleShowVocab:t}),(0,dp.jsx)(Tp,{data:n,setData:r,setMissedWords:s}),x&&(0,dp.jsxs)("div",{style:{color:"white",width:"100%",padding:"50px",textAlign:"center"},children:[" ","Multiple Next Level Items..."]}),n.length>0&&n.slice(0,x?C:b.amountItemShow*b.pageNum).map((function(e,t){return(0,a.createElement)(Cp,p(p({},e),{},{key:e.id+"vocaContainer",indexInData:t,setData:r,setMissedWords:s,data:n,nextLevel:!!(x&&e.level>=A.nextLevel.from&&e.level<=A.nextLevel.to),addEvent:O,setUpperDataSearch:i,indexInUpperData:e.vocabIndexInUpperData||-1}))}))]}),(0,dp.jsxs)("div",{style:{maxWidth:"100vw"},className:"card-actions-container",children:[(0,dp.jsxs)("div",{className:"sr-flex-center",style:{display:"inline-flex",marginLeft:" 15px",overflow:"hidden",borderRadius:"999px",border:"1px solid",height:"fit-content",margin:"auto"},children:[(0,dp.jsx)("input",{className:"sr-get-words-input",type:"text",placeholder:A.nextLevel.from,onBlur:function(e){L((function(t){return p(p({},t),{},{nextLevel:p(p({},t.nextLevel),{},{from:Number(e.target.value)||0})})}))}}),(0,dp.jsx)("input",{style:{borderLeft:"1px solid #ccc"},className:"sr-get-words-input",type:"text",placeholder:A.nextLevel.to,onBlur:function(e){L((function(t){return p(p({},t),{},{nextLevel:p(p({},t.nextLevel),{},{to:Number(e.target.value)||3})})}))}})]}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return S((function(e){return!e}))},children:"\ud83d\ude31"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return P((function(e){return!e}))},children:O?"\ud83d\ude49":"\ud83d\ude48"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return j("left")},children:"\u21a2"}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:function(e){return j("right")},children:"\u21a3"}),b.amountItemShow*(b.pageNum+1)<=n.length+b.amountItemShow&&(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-yellow sr-circle-btn",onClick:function(){b.amountItemShow*(b.pageNum+1)<=n.length+b.amountItemShow&&(console.log("COUNT PAGE"),w(p(p({},b),{},{pageNum:b.pageNum+1})))},children:"\u2120"}),(0,dp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",color:"white"},className:"sr-btn sr-bg-primary sr-circle-btn",onClick:M,dangerouslySetInnerHTML:{__html:l?"&#9728;":"&#9770;"}}),(0,dp.jsx)("button",{style:{padding:"10px",marginLeft:"15px",color:"white"},className:"sr-btn sr-bg-primary sr-circle-btn",onClick:M,dangerouslySetInnerHTML:{__html:C}}),(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-secondary sr-circle-btn",onClick:t,children:"\u2716"})]})]})})},Pp={id:"",voca:"",spelling:"",meaning:"",translate:"",examples:"",note:"",typeWords:"",time:[],similar:[],opposite:[],level:0,repetitiveTime:0},Mp=-1;var jp=function(e){for(var t,n=e.setShowFormCreate,r=e.setShowVocaContainer,i=e.setShowProgressChart,o=(e.setShowTypingApp,e.data),s=e.setData,l=e.positionFixed,f=void 0===l||l,d=e.wordTemplate,y=void 0===d?Pp:d,g=e.afterSubmit,b=e.setShowNewWordList,w=(e.noHandleGetSpelling,e.closeFormAfterSubmit),k=void 0===w||w,x=v((0,a.useState)(y),2),S=x[0],E=x[1],C=v((0,a.useState)(!1),2),T=C[0],_=C[1],I=v((0,a.useState)([]),2),N=(I[0],I[1]),D=(0,a.useRef)(null),A=(0,a.useRef)(null),L=Zd.normal.length,R=[],O=0;O<L;O++)R.push(O);(0,a.useEffect)((function(){var e=setTimeout((function(){""!==S.voca.trim()&&V()}),800);return function(){clearTimeout(e)}}),[S.voca]),(0,a.useEffect)((function(){D.current&&D.current.focus()}),[]),(0,a.useEffect)((function(){E(y),D.current.value=y.voca,y.typeWords||V()}),[y]),(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=window.getSelection().toString()).length>0)){e.next=6;break}return e.next=4,ip.get(t);case 4:n=e.sent,E((function(e){if(e.voca.trim())return e;var r=p(p({},e),{},{voca:t});if(n){var i=n.phonetic||"",a=n.meaning||"",o=n.typeWord||"";D.current.value=t,r=p(p({},r),{},{spelling:i,typeWords:o,meaning:a})}return r}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[]);var P=function(){var e=c(u().mark((function e(){var t,r,i,a,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){for(var t=(new Date).getTime(),n=[t],r=0;r<=e;r++)n.push(t+Zd.normal[r]);return n},!(S.voca.length<=0)){e.next=4;break}return alert("WORD EMPTY"),e.abrupt("return");case 4:if("string"===typeof(t={id:S.id,voca:S.voca,spelling:S.spelling,meaning:S.meaning,translate:S.translate,examples:S.examples,note:S.note,typeWords:S.typeWords,time:S.time,similar:S.similar,opposite:S.opposite,level:S.level,repetitiveTime:S.repetitiveTime}).typeWords&&t.typeWords.length>0?t.typeWords=t.typeWords.split(" ")||[]:t.typeWords=t.typeWords||[],r=(null===o||void 0===o?void 0:o.filter((function(e){return e.id===S.id}))[0])||{},t.id&&r.level===S.level||(t.time=c(S.level),i=(new Date).getTime(),t.repetitiveTime=S.id||0!==S.level?t.time[S.level+1]:i+-864e5),t.spelling=S.spelling.replace(/[\[\]+=\-_:\/]/g,""),!t.id){e.next=20;break}if(console.log("sr-app: update for :",t.voca,t.id),!m){e.next=14;break}return e.next=14,Xd.updateWord(t.id,t);case 14:return E((function(e){return p({},Pp)})),s((function(e){return e[Mp]=p(p({},e[Mp]),t),e})),e.next=18,xp.sendMessage({action:Sp.updateVocabData,payload:t,indexInData:Mp||(S.indexInUpperData||S.indexInData)});case 18:e.next=30;break;case 20:if(console.log("sr-app: create new for :",t.voca,t.id),a=Math.random(),!m){e.next=26;break}return e.next=25,Xd.newWord(t);case 25:a=e.sent;case 26:return l=p(p({},t),{},{id:a}),s((function(e){return e.unshift(l),e})),e.next=30,xp.sendMessage({action:Sp.addNewVocabInData,payload:l});case 30:N([]),E(Pp),D.current.value="",D.current.focus(),g&&g(t),k&&n(!1),xp.sendMessage({vocaAlarm:!0,alarmName:xp.reminder,data:t});case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){"Enter"===e.key&&P()},j=function(){var e=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.stopPropagation(),n=t.target.id,r=t.target.value,{},i=p(p({},S),{},h({},n,r)),E(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Number(e.target.innerText);E(p(p({},S),{},{level:t}))},V=function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,l,c,f,d,v,m,g,b,w;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),i=(null===(n=D.current)||void 0===n?void 0:n.id)||"voca",a=S.voca||(null===(r=D.current)||void 0===r?void 0:r.value.trim())||"",!S.hasNote){e.next=6;break}return _(!1),e.abrupt("return");case 6:return a||N([]),e.next=9,ip.get(a);case 9:o=e.sent,s=[],o&&(f=o.phonetic||"",d=o.meaning||"",v=S.typeWords?S.typeWords:o.typeWord||"",m=(null===(l=o.spellLike)||void 0===l?void 0:l.length)>0?"<div>Sound : ".concat(o.spellLike.map((function(e){return e.word+" "})).join(" / "),"</div>"):"",g=(null===(c=o.similarMeaning)||void 0===c?void 0:c.length)>0?"<div>Meaning : ".concat(o.similarMeaning.map((function(e){return e.word+" "})).join(" / "),"</div>"):"",b=o.verbForm&&o.verbForm.some((function(e){return!e.toLowerCase().includes(a.toLowerCase())&&!e.includes("ing")}))&&o.verbForm.length>0?"<div class='sr-note-related sr-note-verbform'><span class='sr-cl-primary'>Verb form :</span>\n            <div>".concat(o.verbForm.map((function(e,t){return"".concat(e," ").concat(t<o.verbForm.length-1?"- ":"")})),"</div></div>").replace(/[,]/g,""):"",w="\n            ".concat(b,"\n            ").concat(m,"\n            ").concat(g,"\n            ").concat(y.note,"\n            "),E((function(e){var t,n;return p(p({},e),{},(h(n={},i,a),h(n,"voca",null===(t=D.current)||void 0===t?void 0:t.value.trim()),h(n,"spelling",f),h(n,"meaning",d),h(n,"note",w),h(n,"typeWords",v),h(n,"similar",s),n))}))),_(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=c(u().mark((function e(t){var n,r,i,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],t.stopPropagation(),_(!0),r=t.target.innerHTML,i=gp(r,S.voca,S.translate),e.next=7,sp(i);case 7:a=e.sent,E((function(e){return p(p({},e),{},h({},t.target.id,gp(a,S.voca,S.translate)))})),n||setTimeout((function(){U(t,!0)}),100),_(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){e.stopPropagation(),"50"==e.keyCode&&(U(e),e.target.focus())},B=function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return t=e.sent,n=t.trim(),e.next=6,navigator.clipboard.writeText(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,dp.jsx)("div",{children:(0,dp.jsxs)("div",{style:{flexDirection:"column"},className:"sr-container form-container ".concat(f?"fixed":""),children:[(0,dp.jsx)(wp,{selected:null===S||void 0===S||null===(t=S.imageInfo)||void 0===t?void 0:t.url,imageClick:function(e){E((function(t){return p(p({},t),{},{imageInfo:p({},e)})}))},searchValue:null===S||void 0===S?void 0:S.voca}),o.length>0&&(0,dp.jsx)(Tp,{searchValue:null===S||void 0===S?void 0:S.voca,data:o,setData:s,simpleSearch:!0,showTitle:!1,componentItem:function(e){var t,n=(new Date).getTime(),r=e.repetitiveTime-n;return(0,dp.jsxs)("div",{className:"sr-search-item "+(e.formItemActive?"active":""),"data-level":e.level,onClick:function(){var t,n={id:e.id,voca:e.voca,spelling:e.spelling,meaning:e.meaning,translate:e.translate,examples:"".concat(e.examples," ").concat(S.examples.trim()?"<br>===New Info===<br> ".concat(S.examples):""),note:"".concat(e.note," ").concat(S.note.trim()?"<br>===New Info===<br> ".concat(S.note):""),typeWords:null===(t=e.typeWords)||void 0===t?void 0:t.map((function(e){return e})).join(" "),time:e.time,similar:e.similar,opposite:e.opposite,level:e.level,repetitiveTime:e.repetitiveTime,hasNote:!0};E(n),Mp=e.indexInUpperData},children:[(0,dp.jsxs)("p",{children:[(0,dp.jsx)("span",{children:e.voca})," ",(0,dp.jsx)("span",{children:"string"!==typeof e.typeWords&&(null===e||void 0===e||null===(t=e.typeWords)||void 0===t?void 0:t.map((function(e){return"(".concat(e,")")})))})," ",(0,dp.jsx)("span",{className:"sr-cl-yellow",children:e.translate})]}),(0,dp.jsx)("span",{className:"sr-simple-search-time",children:Jd(r).toString({minutes:!1,seconds:!1})})]})},formCreateItemActiveId:S.id}),T&&(0,dp.jsx)(yp,{size:"10px"}),(0,dp.jsxs)("div",{style:{display:"flex"},className:"sr-form-wrapper",children:[(0,dp.jsxs)("div",{className:"wrap-container full",children:[(0,dp.jsxs)("div",{className:"my-wrapper",children:[(0,dp.jsxs)("div",{className:"form-input-wrapper",children:[(0,dp.jsx)("input",{ref:D,tabIndex:"1",type:"text",id:"voca",placeholder:"word",value:S.voca,onChange:j}),S.voca&&(0,dp.jsx)("span",{onClick:function(e){e.stopPropagation(),E(p({},Pp)),D.current&&(D.current.value="")},className:"sr-btn sr-circle-btn sr-form-clear",children:"\u2716"})]}),(0,dp.jsx)("div",{className:"form-input-wrapper",children:(0,dp.jsx)("input",{ref:A,tabIndex:"2",type:"text",value:S.translate,id:"translate",placeholder:"translate",onChange:j,onKeyDown:M})}),(0,dp.jsx)("div",{className:"form-input-wrapper",children:(0,dp.jsx)("input",{tabIndex:"3",type:"text",value:S.typeWords,id:"typeWords",placeholder:"type",onChange:j,onKeyDown:M})}),(0,dp.jsx)("div",{className:"form-input-wrapper",children:(0,dp.jsx)("input",{tabIndex:"6",type:"text",value:S.spelling,id:"spelling",placeholder:"spelling",onChange:j,onKeyDown:M})})]}),(0,dp.jsxs)("div",{className:"my-wrapper sr-form-my-wrapper-more-info",children:[(0,dp.jsx)("div",{className:"form-input-wrapper",children:(0,dp.jsx)("div",{contentEditable:"true",id:"note",tabIndex:"4",onBlur:U,onFocus:B,onKeyDown:z,dangerouslySetInnerHTML:{__html:S.note}})}),(0,dp.jsx)("div",{className:"form-input-wrapper",children:(0,dp.jsx)("div",{contentEditable:"true",tabIndex:"5",id:"examples",onBlur:U,onFocus:B,onKeyDown:z,dangerouslySetInnerHTML:{__html:S.examples}})}),(0,dp.jsx)("div",{className:"form-input-wrapper sr-wrap-radio",children:R&&R.map((function(e){return(0,dp.jsxs)("div",{className:"sr-radio-group",children:[(0,dp.jsx)("input",{type:"radio",id:"level-"+e,className:"sr-input-radio",name:"sr-radio-level",value:e,checked:e==S.level}),(0,dp.jsx)("label",{className:"sr-label-radio",htmlFor:"level-"+e,onClick:F,children:e})]},"form-level-".concat(e))}))})]})]}),(0,dp.jsxs)("div",{className:"wrap-container wrapper-actions",children:[(0,dp.jsx)("div",{className:"form-input-wrapper",children:(0,dp.jsx)("button",{className:"sr-btn sr-bg-primary w-100",onClick:P,children:"Submit"})}),(0,dp.jsxs)("div",{className:"form-word base-actions-container",children:[(0,dp.jsx)("button",{className:"sr-btn action-btn btn-award",onClick:function(){n(!1),i(),b(!1)},children:(0,dp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,dp.jsx)("path",{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"})})}),(0,dp.jsx)("button",{className:"sr-btn action-btn btn-flash-cards",onClick:function(){n(!1),r(),b(!1)},children:(0,dp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,dp.jsx)("path",{d:"M284.3 11.7c-15.6-15.6-40.9-15.6-56.6 0l-216 216c-15.6 15.6-15.6 40.9 0 56.6l216 216c15.6 15.6 40.9 15.6 56.6 0l216-216c15.6-15.6 15.6-40.9 0-56.6l-216-216z"})})}),(0,dp.jsx)("button",{className:"sr-btn action-btn btn-flash-cards",onClick:function(){n(!1),b()},children:(0,dp.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"30 -30 600 600",children:(0,dp.jsxs)("g",{children:[(0,dp.jsx)("path",{d:"m113.75 35h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m113.75 210h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m113.75 385h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m288.75 35h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m288.75 210h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m288.75 385h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m463.75 35h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m463.75 210h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"}),(0,dp.jsx)("path",{d:"m463.75 385h122.5c4.832 0 8.75 4.832 8.75 8.75v122.5c0 4.832-3.918 8.75-8.75 8.75h-122.5c-4.832 0-8.75-4.832-8.75-8.75v-122.5c0-4.832 3.918-8.75 8.75-8.75z"})]})})})]})]})]})]})})},Fp=function(e){var t=e.setShowComponent,n=e.data,r=e.setData,i=e.missedWords,o=e.setMissedWords,s=e.darkTheme,l=e.setDarkTheme,f=v((0,a.useState)([]),2),h=f[0],d=f[1],m=v((0,a.useState)(0),2),y=m[0],g=m[1],b=v((0,a.useState)(0),2),w=b[0],k=b[1],x=v((0,a.useState)(0),2),S=x[0],E=x[1],C=v((0,a.useState)(0),2),T=C[0],_=C[1],I=v((0,a.useState)(!1),2),N=I[0],D=I[1],A=v((0,a.useState)(0),2),L=(A[0],A[1],v((0,a.useState)(!1),2)),R=L[0],O=L[1],P=v((0,a.useState)([]),2),M=P[0],j=P[1];(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t,i,a,o,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){for(var t=0;t<e.length;t++)e[t]||(e[t]=[]);return e},!((t=n).length<=0)){e.next=5;break}return e.next=5,xp.sendMessage({action:Sp.getVocabData},(function(e){console.log("sr-app: data from extension",e.data.length),t=e.data}));case 5:if(!(t.length<=0)){e.next=13;break}return console.log("fetch data progress container"),e.next=9,Xd.get();case 9:return t=e.sent,r(t),e.next=13,xp.sendMessage({action:Sp.sendVocabListToExtension,data:t},(function(e){console.log("sr-app: Sended data to extension",e)}));case 13:i=0,a=[],o=[],s=t.reduce((function(e,t,n){var r=t.level;e[r]?(e[r].push(p(p({},t),{},{vocabIndexInUpperData:n})),i<e[r].length&&(i=e[r].length)):(e[r]=[],e[r].push(t));var s=(new Date).getTime(),u=t.repetitiveTime-s;return u<=0?a.push(t):u>0&&u<432e5&&o.push(t),e}),[]),l=c(s),d(l),g(i),k(t.length),E(a),_(o);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O(!0),e(),O(!1),function(){}}),[n]);var F=function(e){V(),j(e)},V=function(){D((function(e){return!e}))},U=function(e){return h[e]};return(0,dp.jsx)(dp.Fragment,{children:R?(0,dp.jsx)(yp,{size:"70px"}):(0,dp.jsxs)("div",{children:[N&&(0,dp.jsx)(Op,{handleShowComponent:V,data:M,setData:j,missedWords:i,setMissedWords:o,darkTheme:s,setDarkTheme:l,setUpperData:r}),(0,dp.jsxs)("div",{className:"sr-progress-chart sr-container",children:[(0,dp.jsx)("button",{className:"close-btn progress-chart-close-btn",onClick:t,children:(0,dp.jsx)("span",{className:"close-icon",children:"\xd7"})}),(0,dp.jsxs)("button",{style:{position:"fixed",top:"10px",left:"10px",padding:"10px"},className:"sr-btn sr-bg-secondary",children:["Total"," ",(0,dp.jsx)("span",{onClick:function(){return F(S)},children:S.length}),"/",(0,dp.jsx)("span",{onClick:function(){return F(T)},children:T.length}),"/",w]}),h&&h.length>0&&h.map((function(e,t){return(0,dp.jsx)("div",{class:"bar  ".concat(0==e.length?"bar-empty":""),"data-counter":e.length,"data-level":t,style:{height:e.length?e.length/y*100+"%":"10px"},onClick:function(){return e=t,V(),void j(U(e));var e}})}))]})]})})},Vp=function(e){if(e.trim()){var t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("span.sr-examples-word");return Array.from(t).map((function(e){var t,n,r,i,a=e.textContent.trim(),o=(null===e||void 0===e||null===(t=e.nextElementSibling)||void 0===t?void 0:t.textContent.trim())||[],s=(null===(n=e.nextElementSibling)||void 0===n||null===(r=n.nextElementSibling)||void 0===r?void 0:r.textContent.trim())||[];return{word:a,typeWord:o,spelling:s,translate:null===e||void 0===e||null===(i=e.parentElement)||void 0===i?void 0:i.textContent.replace(a,"").replace(o,"").replace(s,"").trim()}}))}},Up=function(e){var t=e.word,n=e.matched,r=(e.translate,e.typeWord,e.active),i=e.inputValue,o=(e.spelling,v((0,a.useState)({top:0,left:0}),2)),s=(o[0],o[1],(0,a.useRef)(null));return(0,a.useEffect)((function(){return r&&s.current.scrollIntoView({behavior:"smooth",block:"center"}),function(){}}),[r]),(0,dp.jsx)(dp.Fragment,{children:(0,dp.jsx)("div",{ref:s,className:"sr-word ".concat(n?"matched":""," ").concat(r?"active":""),children:r?t.split("").map((function(e,t){return t>=i.length?(0,dp.jsx)("span",{className:t===i.length?"sr-caret-active":"",children:e}):(0,dp.jsx)("span",{className:(null===(n=i[t])||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())?"sr-matched":"sr-wrong",children:e});var n})):t})})},zp=function(e){var t,n,r,i=e.setShowComponent,o=e.data,s=e.setData,l=v((0,a.useState)([]),2),f=l[0],h=l[1],d=v((0,a.useState)(0),2),m=d[0],y=d[1],g=v((0,a.useState)(""),2),b=g[0],w=g[1],k=v((0,a.useState)({amountWordShow:50,pageNum:1}),2),x=k[0],S=k[1],E=(0,a.useRef)(null);(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xd.get();case 2:t=e.sent,s(t),t.length>0&&xp.sendMessage({vocaAlarm:!0,alarmName:xp.reminder,data:t[0]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.length<=0&&(console.log("fetch data typing container"),e()),function(){}}),[]),(0,a.useEffect)((function(){if(!(o.length<=0)){var e=x.amountWordShow*(x.pageNum-1),t=x.amountWordShow*x.pageNum;if(!(t>o.length+x.amountWordShow)){var n=o.slice(e,t).reduce((function(e,t){var n=[{word:t.voca,spelling:t.spelling,typeWord:t.typeWords,translate:t.translate}],r=Vp(t.examples)||[],i=Vp(t.note)||[],a=[].concat(n,T(r),T(i)).filter(Boolean);return[].concat(T(e),T(a))}),[]);h([].concat(T(f),T(n)))}}}),[x,o]),(0,a.useEffect)((function(){m===f.length-5&&S((function(e){return p(p({},e),{},{pageNum:e.pageNum+1})}))}),[m]);return(0,dp.jsx)("div",{className:"sr-typing-app",children:(0,dp.jsxs)("div",{className:"sr-typing-app-container",children:[(0,dp.jsx)("h2",{className:"sr-typing-app-title",onClick:i,children:"Typing App"}),(0,dp.jsxs)("div",{className:"sr-typing-word-info-1",children:["(",null===(t=f[m])||void 0===t?void 0:t.typeWord,") \u2022 /",null===(n=f[m])||void 0===n?void 0:n.spelling,"/"]}),(0,dp.jsxs)("div",{className:"sr-words-box",children:[f.map((function(e,t){var n=t==m?E:null;return(0,a.createElement)(Up,p(p({},e),{},{ref:n,key:e.translate+e.word,matched:t<m,active:t==m,inputValue:b}))})),(0,dp.jsx)("div",{style:{margin:"auto",textAlign:"center",fontSize:"16px",color:"white",height:"300px",width:"100%"},children:"----// Ending //----"})]}),(0,dp.jsx)("div",{className:"sr-word-more-info",children:"".concat(null===(r=f[m])||void 0===r?void 0:r.translate)}),(0,dp.jsx)("input",{className:"sr-input-typing",type:"text",value:b,onChange:function(e){var t=e.target.value;w(t)},onKeyDown:function(e){var t;32===e.keyCode?e.target.value.trim().toLowerCase()===(null===(t=f[m])||void 0===t?void 0:t.word.trim().toLowerCase())&&(e.preventDefault(),w(""),y(m+1)):188===e.keyCode?y((function(e){return e-1})):190===e.keyCode&&y((function(e){return e+1}))}})]})})};var Bp=function(e){var t=e.handleShowVocaContainer,n=e.handleShowFormCreate,r=e.handleShowProgressChart,i=e.handleShowTypingApp;return(0,dp.jsx)("nav",{children:(0,dp.jsxs)("div",{className:"nav-mobile",children:[(0,dp.jsx)("button",{className:"sr-btn sr-bg-primary",onClick:t,children:"Voca Container"}),(0,dp.jsx)("button",{className:"sr-btn sr-bg-secondary",onClick:n,children:"Form Create"}),(0,dp.jsx)("button",{className:"sr-btn sr-bg-yellow",onClick:r,children:"Progress Chart"}),(0,dp.jsx)("button",{className:"sr-btn sr-bg-black",onClick:i,children:"Typing App"})]})})};var Wp,qp,Hp=function(e){var t,n,r,i,o,s,l,f=e.wordList,d=e.setWordList,y=e.darkTheme,g=(e.setDarkTheme,e.currentWordList),b=e.setCurrentWordList,w=e.setShowFormCreate,k=e.setShowVocaContainer,x=e.setShowProgressChart,S=e.setShowTypingApp,E=e.setShowNewWordList,C=e.addingWordAmount,_=e.setAddingWordAmount,I=v((0,a.useState)(!0),2),N=I[0],D=I[1],A=v((0,a.useState)(0),2),L=A[0],R=A[1],O=v((0,a.useState)(0),2),P=O[0],M=O[1],j=v((0,a.useState)(Pp),2),F=j[0],V=j[1],U=v((0,a.useState)([]),2),z=U[0],B=U[1],W=v((0,a.useState)({amountItemShow:20,pageNum:1}),2),q=W[0],H=W[1];(0,a.useEffect)((function(){if(f.length>0){var e,t,n,r=p(p({},P<(null===(e=f[L])||void 0===e||null===(t=e.wordList)||void 0===t?void 0:t.length)?null===(n=f[L])||void 0===n?void 0:n.wordList[P]:Pp),{},{index:P});G(r)}}),[P,f,L]),(0,a.useEffect)((function(){var e=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,Xd.get($d.wordList,{by:"title"});case 3:t=e.sent,d(t),D(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f.length<=0&&e(),function(){}}),[]);var K=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B((function(e){var n=(t.voca||t.vocab)[0];return p(p({},e),{},h({},n,e[n]?e[n]+1:1))})),D(!0),!(P<0&&t.voca)){e.next=6;break}return _((function(e){return e+1})),D(!1),e.abrupt("return");case 6:if(r=p({},f[L]),null===(n=r.wordList)||void 0===n||n.splice(P,1),!m){e.next=11;break}return e.next=11,Xd.updateWord(r.id,r,$d.wordList);case 11:d((function(e){var t=T(e);return t[L]=r,t})),t.voca&&_((function(e){return e+1})),D(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){e.index<0&&V(Pp);var t=f[L].form?f[L].form:0,n=$[t](e);V(n)},Q=function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!m){e.next=4;break}return e.next=4,Xd.deleteWord(n,$d.wordList);case 4:d((function(e){var t=T(e);return t.splice(L,1),t}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=[function(e){var t,n=(null===(t=e.wordFamilies)||void 0===t?void 0:t.map((function(e){return e})).join("<br>"))||"";return p(p({},Pp),{},{voca:e.vocab,note:n})},function(e){return p(p(p({},Pp),e),{},{voca:e.voca||e.vocab,typeWords:null!==e&&void 0!==e&&e.typeWords?null===e||void 0===e?void 0:e.typeWords[0]:""})}];return(0,dp.jsxs)("div",{className:"sr-new-word-list ".concat(y?"sr-dark-mode":""),children:[(0,dp.jsx)("div",{className:"sr-overlay"}),(0,dp.jsxs)("div",{className:"card-container sr-new-word-list-container",children:[(0,dp.jsxs)("div",{className:"sr-new-word-list-wrapper",children:[(0,dp.jsx)("div",{class:"sr-sidebar",children:(0,dp.jsx)("ul",{class:"sr-options",children:null===f||void 0===f?void 0:f.map((function(e,t){var n;return(0,dp.jsxs)("li",{style:{justifyContent:"unset"},className:"sr-options-name sr-flex-center ".concat(L===t?"active":""),onClick:function(){return function(e){R(e)}(t)},"data-title":e.title,children:[L===t&&(0,dp.jsx)("button",{style:{"--size":"15px",fontSize:"10px",marginRight:"10px"},className:"sr-btn btn-show-more sr-bg-primary sr-circle-btn sr-cl-black sr-flex-center",onClick:function(t){return Q(t,e.id)}}),e.title," ","(".concat((null===(n=e.wordList)||void 0===n?void 0:n.length)||0,")")]},e.id+"title")}))})}),(0,dp.jsxs)("div",{class:"sr-main-content",children:[(0,dp.jsxs)("h6",{className:"sr-title",children:[(0,dp.jsxs)("span",{onClick:E,children:["Danh s\xe1ch c\xe1c t\u1eeb m\u1edbi:"," ",N&&(0,dp.jsx)(yp,{size:"20px"})]})," ",(0,dp.jsx)("span",{children:null===(t=f[L])||void 0===t||null===(n=t.wordList)||void 0===n?void 0:n.length}),(0,dp.jsxs)("span",{children:[" / ",C]})]})," ",(0,dp.jsxs)("ul",{class:"sr-word-list",children:[(0,dp.jsx)("li",{className:"sr-word ".concat(-1===P?"active":""),onClick:function(e){return M(-1)},children:"NULL"}),null===(r=f[L])||void 0===r||null===(i=r.wordList)||void 0===i||null===(o=i.slice(0,q.amountItemShow*q.pageNum))||void 0===o?void 0:o.map((function(e,t){p(p({},e),{},{index:t});var n,r,i,a,o=e.vocab?e.vocab[0]:e.voca[0],s=z[o]>=2;return(0,dp.jsxs)("li",{className:"sr-word ".concat(P===t?"active":""," ").concat(s?"pass-letter":""),onClick:function(e){return M(t)},children:[(0,dp.jsxs)("p",{className:"sr-root-word",children:[e.voca||e.vocab," ",t===P&&(0,dp.jsx)("span",{style:{"--size":"15px",fontSize:"10px"},className:"sr-btn sr-circle-btn sr-delete-btn",onClick:function(t){t.stopPropagation(),K(e)},children:"\u2716"})]}),(0,dp.jsxs)("p",{className:"more-info",children:[(0,dp.jsxs)("small",{children:["(","string"===typeof e.typeWords?e.typeWords:(null===(n=e.typeWords)||void 0===n?void 0:n.length)>0?null===(r=e.typeWords)||void 0===r?void 0:r.map((function(e){return e})):"",")"]}),(0,dp.jsx)("p",{style:{width:"10px"}}),(0,dp.jsx)("span",{className:"sr-cl-primary",children:e.translate})]}),(null===(i=e.wordFamilies)||void 0===i?void 0:i.length)>0&&(0,dp.jsx)("ul",{className:"sr-word-families",children:null===(a=e.wordFamilies)||void 0===a?void 0:a.map((function(e){return(0,dp.jsx)("li",{children:e},e+"word-families")}))}),t===P&&(0,dp.jsx)("li",{style:{width:"100%"},className:"sr-word sr-btn sr-bg-yellow ".concat(-1===P?"active":""),onClick:function(e){return M(-1)},children:"NULL"})]},e.vocab)})),(0,dp.jsx)("li",{})," "]}),q.amountItemShow*(q.pageNum+1)<=(null===(s=f[L])||void 0===s||null===(l=s.wordList)||void 0===l?void 0:l.length)+q.amountItemShow&&(0,dp.jsx)("button",{style:{color:"white"},className:"sr-btn btn-show-more sr-bg-yellow sr-circle-btn",onClick:function(){var e,t;q.amountItemShow*(q.pageNum+1)<=(null===(e=f[L])||void 0===e||null===(t=e.wordList)||void 0===t?void 0:t.length)+q.amountItemShow&&(console.log("COUNT PAGE"),H(p(p({},q),{},{pageNum:q.pageNum+1})))},children:"\u2120"})]})]}),(0,dp.jsx)(jp,{positionFixed:!1,data:g,setData:b,wordTemplate:F,afterSubmit:K,setShowFormCreate:w,setShowVocaContainer:k,setShowProgressChart:x,setShowTypingApp:S,setShowNewWordList:E,noHandleGetSpelling:!0,closeFormAfterSubmit:!1})]})]})},Kp=m?[]:[{id:"05wvboUfT1AgfaMR2kxU",level:3,translate:"Y t\xe1, y\xeau th\u01b0\u01a1ng, th\xedch, y\xeau, th\xedch",similar:[],typeWords:["n"],voca:"exclude",time:[1682222509361,1682227309361,1682265709361,1683893155e3,1684748095524],opposite:[],meaning:"A wet nurse.",note:"",spelling:"n\u025c\u02d0s",repetitiveTime:1684748095524,examples:""},{id:"0B0HPoHMG1wMjkUizLMP",spelling:"s\u026ak",translate:"\u1ed1m y\xeau, \u1ed1m, th\xedch, y\xeau, \xf4m",similar:[],note:"",repetitiveTime:1686905737149,opposite:[],voca:"exclusion",time:[1681449732242,1681454532242,1681492932242,1684239216130,1686905737149],meaning:"Sick people in general as a group.",typeWords:["n","a"],examples:'<span class="sr-word-family sr-cl-primary">ill</span> (n) /\u026al/ \u1ed1m <div> <span class="sr-word-family sr-cl-primary">illness</span> (n) /\u02c8\u026al.n\u0259s/ s\u1ef1 \u1ed1m \u0111au </div>',level:4},{id:"0Lev4MjYVOvxiZc4XkxQ",translate:"kh\xe2m ph\u1ee5c, th\xe1n ph\u1ee5c, y t\xe1, th\xedch",examples:'<span class="sr-examples-word sr-word-family sr-cl-primary">admiration</span> <span class="sr-examples-typeWord">(n)</span> <span class="sr-examples-spelling sr-cl-yellow">/\u02cc\xe6d.m\u025a\u02c8e\u026a\u0283.\u0259n/</span> s\u1ef1 kh\xe2m ph\u1ee5c, s\u1ef1 th\xe1n ph\u1ee5c',voca:"demo",time:[1682649321567,1683640155891,1684182002947,1684466866861],similar:[],typeWords:["v"],note:"",level:2,meaning:"To be amazed at; to view with surprise; to marvel at.",spelling:"\u0259d\u02c8ma\u026a\u0259",opposite:[],repetitiveTime:1684466866861},{id:"0MP2zN1wJNYevfKKIbwA",translate:"Ngh\u1ec9 ng\u01a1i",voca:"tidy",time:[1681878904692,1681883704692,1681922104692,1682269321774,1684238991153,1686905544997],repetitiveTime:1686905544997,similar:[],typeWords:["n","v"],opposite:[],meaning:"(of a person or animal) Relief from work or activity by sleeping; sleep.",examples:"Rest of : ph\u1ea7n c\xf2n l\u1ea1i \u2026",spelling:"\u0279\u025bst",note:"",level:4}],Gp=m?[]:[{id:"6f1DtikQ0BvdSdhPzNHc",title:"List_1",wordList:[{vocab:"conventionality",wordFamilies:[]},{vocab:"convene",wordFamilies:["convention"]},{vocab:"conventional",wordFamilies:[]},{vocab:"coordination",wordFamilies:[]},{vocab:"corporate",wordFamilies:["corporation"]},{vocab:"correspond",wordFamilies:["correspondence","corresponding","correspondingly"]},{vocab:"criterion",wordFamilies:[]},{vocab:"deduce",wordFamilies:["deducible","deduction"]},{vocab:"demo",wordFamilies:["demonstrable","demonstrably","demonstrate","demonstration","demonstrator"]},{vocab:"disproportion",wordFamilies:["disproportionate"]},{vocab:"dominance",wordFamilies:["dominate","domination"]},{vocab:"domination",wordFamilies:[]},{vocab:"emphasis",wordFamilies:["emphasize"]},{vocab:"exclude",wordFamilies:["excluding"]},{vocab:"exclusion",wordFamilies:[]},{vocab:"illustrate",wordFamilies:["illustration"]},{vocab:"illustrative",wordFamilies:[]}]},{id:"977BBdn8Z5mWpUPuzCKw",title:"List_2",wordList:[{vocab:"arbitrarily",wordFamilies:[]},{vocab:"abandoned",wordFamilies:["abandonment"]},{vocab:"accompaniment",wordFamilies:[]},{vocab:"accompany",wordFamilies:[]},{vocab:"accumulate",wordFamilies:["accumulation"]},{vocab:"ambiguity",wordFamilies:[]},{vocab:"ambiguous",wordFamilies:["ambiguously"]}]},{title:"570 Phrase 1",id:"sljfdlfjfklsdjf",form:1,wordList:[{vocab:"in time",spelling:"/\u026an ta\u026am/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/133730.jpeg"},translate:"\br\u1ed3i th\xec, sau c\xf9ng",examples:"in time they came to accept the harsh reality",note:"in the course of time; eventually",typeWords:["idiom"]},{vocab:"turn out",spelling:"/t\u025crn \u0251\u028at/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/136312.jpeg"},translate:"tr\u1edf n\xean, tr\u1edf th\xe0nh",examples:"How will the game turn out?",note:"to develop in a particular way, or to have a particular result",typeWords:["phrasal verb"]},{vocab:"work out",spelling:"/w\u0259rk a\u028at/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/145797.png"},translate:"t\xecm m\u1ed9t gi\u1ea3i ph\xe1p, gi\u1ea3i quy\u1ebft",examples:"I\u2019m trying to work out what it stands for.",note:"to find a solution",typeWords:["phrasal verb"]},{vocab:"get out",spelling:"/\u0261\u025bt a\u028at/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/147392.crdownload"},translate:"tho\xe1t kh\u1ecfi",examples:"I think her backache was just a way of getting out of the housework.",note:"to escape; to exit, to avoid doing something",typeWords:["phrasal verb"]},{vocab:"be supposed to",spelling:"/bi s\u0259\u02c8po\u028az\u0259d t\u0259/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/148227.jpeg"},translate:"n\xean l\xe0, \u0111\u01b0\u1ee3c cho l\xe0",examples:"I didn\u2019t go, but I was supposed to.",note:"to be expected or required to do/be something according to a rule, a custom, an arrangement, etc.",typeWords:["idiom"]}]},{title:"570 Phrase 2",id:"sljfdlfjfsdsadklsdjf",form:1,wordList:[{vocab:"at once",spelling:"/ \xe6t w\u028cns/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5637.jpeg"},translate:"ngay l\u1eadp t\u1ee9c",examples:"I fell asleep at once",note:"immediately, at the same time",typeWords:["adv"]},{vocab:"what it takes",spelling:"/w\u028ct \u026at te\u026aks/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5638.jpeg"},translate:"m\u1ecdi th\u1ee9 c\u1ea7n thi\u1ebft",examples:"She has what it takes to do the job",note:"everything that is required",typeWords:["undefined"]},{vocab:"in practice",spelling:"/ \u026an \u02c8pr\xe6k\xb7t\u026as/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5639.jpeg"},translate:"trong th\u1ef1c t\u1ebf",examples:"Drivers say we need speed limits but, in practice, they don\u2019t respect them.",note:"actually, in fact, used for talking about what really happens as opposed to what you think will or should happen",typeWords:["phrase"]},{vocab:"lots of",spelling:"/l\u0251ts \u028cv/",imageInfo:{url:"https://cdn.ejoy.io/ea/word/vq5640.jpeg"},translate:"nhi\u1ec1u",examples:"Lots of them do travel during the winter months.",note:"a large number or amount of (things, people, etc.)",typeWords:["noun"]}]}],Qp=(hp(cp).getAllItems,[]);var $p=function(){var t=v((0,a.useState)(Kp||Qp),2),n=t[0],r=t[1],i=v((0,a.useState)(0),2),o=i[0],s=i[1],u=v((0,a.useState)(Gp||[]),2),l=u[0],c=u[1],f=v((0,a.useState)(fp.getAllItems().theme||!0),2),h=f[0],d=f[1],y=v((0,a.useState)("boolean"!==typeof fp.getAllItems().readMode||fp.getAllItems().readMode),2),g=y[0],b=y[1],w=v((0,a.useState)(fp.getAllItems().chatGPTStyle||!1),2),k=w[0],x=w[1],S=v((0,a.useState)([]),2),E=S[0],C=S[1],T=v((0,a.useState)({vocaContainer:!1,formCreate:!m,progressChart:!1,typingApp:!1,navMobile:!1,navYoutube:!1,newWordList:!1}),2),_=T[0],I=T[1],N=function(e){I((function(t){return p(p({},t),{},{vocaContainer:"boolean"==typeof e?e:!t.vocaContainer})}))},D=function(e){I((function(t){return p(p({},t),{},{newWordList:"boolean"==typeof e?e:!t.newWordList})}))},A=function(e){I((function(t){return p(p({},t),{},{formCreate:"boolean"==typeof e?e:!t.formCreate})}))},L=function(e){I((function(t){return p(p({},t),{},{progressChart:"boolean"==typeof e?e:!t.progressChart})}))},R=function(e){I((function(t){return p(p({},t),{},{typingApp:"boolean"==typeof e?e:!t.typingApp})}))};(0,a.useEffect)((function(){Qp=n}),[n]),(0,a.useEffect)((function(){var e,t,n;console.log("sr-app: listening sr-app extension"),null===(e=chrome)||void 0===e||null===(t=e.runtime)||void 0===t||null===(n=t.onMessage)||void 0===n||n.addListener((function(e,t,n){var i,a,o;"tab_activated"===(null===e||void 0===e?void 0:e.action)&&(console.log("sr-app: tab activated - receive data from extension...",null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.length),Qp.length>0&&0===(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.length)?(console.log("request extension update data!"),xp.sendMessage({action:Sp.sendVocabListToExtension,data:Qp},(function(e){console.log("sr-app: Sended data to extension",e)}))):(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.length)>0&&(console.log("%csr-app: async data...","color: orange"),r(null===e||void 0===e?void 0:e.data)))})),xp.sendMessage({action:Sp.getVocabData},(function(e){var t,n,i;console.log("sr-app: Receive data from extension",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length),Qp.length>0&&0===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)?xp.sendMessage({action:Sp.sendVocabListToExtension,data:Qp},(function(e){console.log("sr-app: Sending data to extension - done",e)})):(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.length)>0&&(console.log("%csr-app: async data...","color: orange"),r(e.data))}))}),[]),(0,a.useEffect)((function(){var t=function(t){e.stopImmediatePropagation(),t.altKey&&"q"===t.key&&(t.preventDefault(),A()),t.altKey&&"Q"===t.key&&(t.preventDefault(),D())};return window.addEventListener("keydown",t,!0),function(){window.removeEventListener("keydown",t,!0)}}),[]),(0,a.useEffect)((function(){var e=window.location.hostname,t=window.location.protocol;(e.includes("tai-thai.github.io")?I((function(e){return p(p({},e),{},{navMobile:!0})})):(e.includes("youtube.com")||e.includes("translate.google.com"))&&I((function(e){return p(p({},e),{},{navYoutube:!0})})),t.includes("chrome-extension"))&&(console.log("extension popup"),document.querySelector("body").style.cssText="\n                width: 400px;\n                height: 400px;\n           ",I((function(e){return p(p({},e),{},{formCreate:!0})})))}),[]),(0,a.useEffect)((function(){!0===g?document.querySelector("html").classList.add("sr-read-mode"):document.querySelector("html").classList.remove("sr-read-mode"),console.log("sr-app: ",{readMode:g});var e=p(p({},fp.getAllItems()),{},{readMode:g});fp.setData(e)}),[g]),(0,a.useEffect)((function(){if(!0===k){(Wp=document.createElement("style")).textContent='*:not(:empty) {\n    background: #353541;\n    background: #8899ab;\n    background: #16202a;\n    border: none;\n}\n\n*[class*="gradient"] {\n    background: none !important;\n}\n\n*[class*="dark:bg-gray-800"] {\n    background: transparent !important;\n}\n\nh1 {\n    display: none !important;\n}\n\n\n\ntextarea#prompt-textarea {\n    background: none;\n    border: none;\n}\n\nform * {\n    /* background: none !important;\n    border: none !important;\n    box-shadow: none !important; */\n    /* border-bottom: 1px solid black !important; */\n}\n\nform + div {\n    /* display: none; */\n    opacity: 0;\n    /* padding: 10px !important; */\n    /* height: 20px; */\n}\n\nform + div > span {\n    display: none;\n}\n\nform div:not([class*="dark"]), form {\n    background: transparent !important;\n}\n\ndiv[class*="flex-shrink-0"][style*="width: 260px"] {\n    width: 30px !important;\n    height: 30px;\n    border-radius: 999px;\n    overflow: hidden !important;\n    border: 1px solid #ccc;\n    /* background: red !important; */\n    transition: all 0.5s ease-out;\n}\n\ndiv[class*="flex-shrink-0"][style*="width: 260px"]:hover {\n    width: 260px !important;\n    height: 100%;\n    overflow: auto !important;\n    border-radius: 10px;\n}\n\nimg[alt*="User"],\ndiv[style*="background-color: rgb(25, 195, 125);"],\ndiv[class*="flex justify-between empty:hidden lg:block"],\nform[class*="stretch"],\nheader,\ndiv[class*="sticky"]:is([class*="md:hidden"]) {\n    opacity: 0;\n    cursor: pointer;\n    transition: all 0.3s ease;\n}\n\nimg[alt*="User"]:hover,\ndiv[style*="background-color: rgb(25, 195, 125);"]:hover,\ndiv[class*="flex justify-between empty:hidden lg:block"]:hover,\nform[class*="stretch"]:hover,\nform[class*="stretch"]:has(textarea:focus),\nheader:hover,\ndiv[class*="sticky"]:is([class*="md:hidden"]):hover {\n    opacity: 1;\n    /* transition: all .3s ease; */\n}\n\ndiv[class*="flex flex-1 gap-4 text-base mx-auto md:gap-6 md:max-w-2xl lg:max-w-[38rem] }"] {\n    max-width: 60rem;\n    margin-right: auto !important;\n}\n\n@media (min-width: 800px) {\n    div[class*="flex flex-1 gap-4 text-base mx-auto md:gap-6 md:max-w-2xl lg:max-w-[38rem] }"] {\n        margin-left: 100px;\n    }\n\n    [class*="p-4 justify-center text-base"] > [class*="flex flex-1 gap-4 text-base mx-auto"] {\n        margin-left: 88px;\n        max-width: 897px;\n    }\n}\n\ndiv[class*="dark:bg-gray-800"][style*="--avatar-color: #19c37d;"] * {\n    color: #8957e5 !important;\n    /* margin-left: 10px; */\n    /* text-align: center; */\n}\n\ndiv[class*="dark:bg-gray-800"][style*="--avatar-color: #19c37d;"]\n    > div[class*="p-4"] {\n    padding: 5px;\n}\n\n/* div[class*=gradient] {\n    background: transparent !important;\n} */\n\n/* div[class*="h-32 md:h-48 flex-shrink-0"] {\n    display: none;\n} */\n\nstrong {\n    color: #cec4ac !important;\n    color: #8957e5 !important;\n}\n',document.head.appendChild(Wp),setTimeout(O,1500)}else{var e;if(Wp)Wp.remove(),null===(e=qp)||void 0===e||e.remove()}var t=p(p({},fp.getAllItems()),{},{chatGPTStyle:k});fp.setData(t)}),[k]);var O=function(){document.title="Research...",(document.querySelectorAll("link[rel*='icon']")||[]).forEach((function(e){return null===e||void 0===e?void 0:e.remove()})),(qp=document.createElement("link")).rel="shortcut icon",qp.type="image/png",document.head.appendChild(qp),qp.href="https://www.clipartmax.com/png/middle/68-683168_google-assistant-app-icon.png",qp.href="https://cdn-icons-png.flaticon.com/512/3576/3576378.png"};return(0,dp.jsxs)("div",{id:"sr-app",className:"sr-app",children:[(0,dp.jsxs)("main",{children:[_.vocaContainer&&(0,dp.jsx)(Op,{handleShowComponent:N,data:n,setData:r,missedWords:E,setMissedWords:C,darkTheme:h,setDarkTheme:d}),_.newWordList&&(0,dp.jsx)(Hp,{handleShowComponent:D,wordList:l,setWordList:c,currentWordList:n,setCurrentWordList:r,darkTheme:h,setShowNewWordList:D,setDarkTheme:d,setShowFormCreate:A,setShowVocaContainer:N,setShowProgressChart:L,setShowTypingApp:R,addingWordAmount:o,setAddingWordAmount:s}),_.formCreate&&(0,dp.jsx)(jp,{setShowFormCreate:A,setShowVocaContainer:N,setShowProgressChart:L,setShowTypingApp:R,data:n,setData:r,setShowNewWordList:D}),_.progressChart&&(0,dp.jsx)(Fp,{setShowComponent:L,data:n,setData:r,missedWords:E,setMissedWords:C,darkTheme:h,setDarkTheme:d}),_.typingApp&&(0,dp.jsx)(zp,{setShowComponent:R,data:n,setData:r})]}),_.navMobile&&(0,dp.jsx)(Bp,{handleShowVocaContainer:N,handleShowFormCreate:A,handleShowProgressChart:L,handleShowTypingApp:R}),(_.navYoutube,(0,dp.jsxs)(dp.Fragment,{children:[window.location.hostname.includes("chat.openai.com")&&(0,dp.jsxs)(dp.Fragment,{children:[(0,dp.jsx)("button",{style:{bottom:"90px",right:"20px"},className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-readMode",onClick:function(){return x((function(e){return!e}))},children:"\ud83d\ude08"}),(0,dp.jsx)("button",{style:{bottom:"130px",right:"20px"},className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-readMode",onClick:O,children:"\ud83d\udca8"})]}),(0,dp.jsx)("button",{className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-youtube",onClick:A,children:"\u203b"}),(0,dp.jsx)("button",{className:"sr-btn sr-circle-btn sr-actions-delete sr-no-print sr-btn-readMode",onClick:function(){return b((function(e){return!e}))},children:"\u2600\ufe0f"})]}))]})},Yp=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},Xp=function(){var e=document.createElement("div");e.id="SR-APP-ROOT",document.body.appendChild(e),o.createRoot(e).render((0,dp.jsx)($p,{}))},Jp=window.location.hostname,Zp=Jp.includes("dailydictation.com"),ev=new MutationObserver((function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){if("childList"===t.value.type&&document.body){if(document.getElementById("SR-APP-ROOT"))return;Xp(),console.log("sr-app: "+Jp+" - Removing observer!"),ev.disconnect()}}}catch(r){n.e(r)}finally{n.f()}}));Zp&&document.addEventListener("DOMNodeInserted",(function(e){var t=e.target;if(t.childNodes.length>0)for(var n=t.querySelectorAll("textarea"),r=function(e){n[e].addEventListener("keydown",(function(t){"Tab"==t.key&&setTimeout((function(){var t=document.querySelector(".dictation__input-highlight-text").innerText||"",r=document.querySelector(".text-success").innerText;if(!(t.length<=1)){var i=n[e].value.replace(t,r);n[e].value=i}}),0)})),console.log("sr-app: Add event for",n[e]," - dictationdaily.com only")},i=0;i<n.length;i++)r(i)})),ev.observe(document.documentElement,{childList:!0,subtree:!0}),Yp()}()}();
//# sourceMappingURL=main.js.map